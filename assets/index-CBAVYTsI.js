(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function og(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Wu={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Bv(){if(pp)return Zo;pp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(l,s,c){var m=null;if(c!==void 0&&(m=""+c),s.key!==void 0&&(m=""+s.key),"key"in s){c={};for(var g in s)g!=="key"&&(c[g]=s[g])}else c=s;return s=c.ref,{$$typeof:a,type:l,key:m,ref:s!==void 0?s:null,props:c}}return Zo.Fragment=t,Zo.jsx=n,Zo.jsxs=n,Zo}var hp;function qv(){return hp||(hp=1,Wu.exports=Bv()),Wu.exports}var E=qv(),ju={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Hv(){if(gp)return Re;gp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function Z(A,H,ee){this.props=A,this.context=H,this.refs=B,this.updater=ee||R}Z.prototype.isReactComponent={},Z.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},Z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function se(){}se.prototype=Z.prototype;function J(A,H,ee){this.props=A,this.context=H,this.refs=B,this.updater=ee||R}var ne=J.prototype=new se;ne.constructor=J,O(ne,Z.prototype),ne.isPureReactComponent=!0;var Y=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function X(A,H,ee,Q,me,Ie){return ee=Ie.ref,{$$typeof:a,type:A,key:H,ref:ee!==void 0?ee:null,props:Ie}}function ve(A,H){return X(A.type,H,void 0,void 0,void 0,A.props)}function j(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function fe(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return H[ee]})}var Ge=/\/+/g;function Le(A,H){return typeof A=="object"&&A!==null&&A.key!=null?fe(""+A.key):H.toString(36)}function Me(){}function Ze(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Me,Me):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function He(A,H,ee,Q,me){var Ie=typeof A;(Ie==="undefined"||Ie==="boolean")&&(A=null);var Se=!1;if(A===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(A.$$typeof){case a:case t:Se=!0;break;case v:return Se=A._init,He(Se(A._payload),H,ee,Q,me)}}if(Se)return me=me(A),Se=Q===""?"."+Le(A,0):Q,Y(me)?(ee="",Se!=null&&(ee=Se.replace(Ge,"$&/")+"/"),He(me,H,ee,"",function(Pt){return Pt})):me!=null&&(j(me)&&(me=ve(me,ee+(me.key==null||A&&A.key===me.key?"":(""+me.key).replace(Ge,"$&/")+"/")+Se)),H.push(me)),1;Se=0;var Et=Q===""?".":Q+":";if(Y(A))for(var Qe=0;Qe<A.length;Qe++)Q=A[Qe],Ie=Et+Le(Q,Qe),Se+=He(Q,H,ee,Ie,me);else if(Qe=S(A),typeof Qe=="function")for(A=Qe.call(A),Qe=0;!(Q=A.next()).done;)Q=Q.value,Ie=Et+Le(Q,Qe++),Se+=He(Q,H,ee,Ie,me);else if(Ie==="object"){if(typeof A.then=="function")return He(Ze(A),H,ee,Q,me);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Se}function k(A,H,ee){if(A==null)return A;var Q=[],me=0;return He(A,Q,"","",function(Ie){return H.call(ee,Ie,me++)}),Q}function K(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var de=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ve(){}return Re.Children={map:k,forEach:function(A,H,ee){k(A,function(){H.apply(this,arguments)},ee)},count:function(A){var H=0;return k(A,function(){H++}),H},toArray:function(A){return k(A,function(H){return H})||[]},only:function(A){if(!j(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=Z,Re.Fragment=n,Re.Profiler=s,Re.PureComponent=J,Re.StrictMode=l,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Re.__COMPILER_RUNTIME={__proto__:null,c:function(A){return W.H.useMemoCache(A)}},Re.cache=function(A){return function(){return A.apply(null,arguments)}},Re.cloneElement=function(A,H,ee){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Q=O({},A.props),me=A.key,Ie=void 0;if(H!=null)for(Se in H.ref!==void 0&&(Ie=void 0),H.key!==void 0&&(me=""+H.key),H)!pe.call(H,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&H.ref===void 0||(Q[Se]=H[Se]);var Se=arguments.length-2;if(Se===1)Q.children=ee;else if(1<Se){for(var Et=Array(Se),Qe=0;Qe<Se;Qe++)Et[Qe]=arguments[Qe+2];Q.children=Et}return X(A.type,me,void 0,void 0,Ie,Q)},Re.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Re.createElement=function(A,H,ee){var Q,me={},Ie=null;if(H!=null)for(Q in H.key!==void 0&&(Ie=""+H.key),H)pe.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(me[Q]=H[Q]);var Se=arguments.length-2;if(Se===1)me.children=ee;else if(1<Se){for(var Et=Array(Se),Qe=0;Qe<Se;Qe++)Et[Qe]=arguments[Qe+2];me.children=Et}if(A&&A.defaultProps)for(Q in Se=A.defaultProps,Se)me[Q]===void 0&&(me[Q]=Se[Q]);return X(A,Ie,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:g,render:A}},Re.isValidElement=j,Re.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:K}},Re.memo=function(A,H){return{$$typeof:h,type:A,compare:H===void 0?null:H}},Re.startTransition=function(A){var H=W.T,ee={};W.T=ee;try{var Q=A(),me=W.S;me!==null&&me(ee,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ve,de)}catch(Ie){de(Ie)}finally{W.T=H}},Re.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Re.use=function(A){return W.H.use(A)},Re.useActionState=function(A,H,ee){return W.H.useActionState(A,H,ee)},Re.useCallback=function(A,H){return W.H.useCallback(A,H)},Re.useContext=function(A){return W.H.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A,H){return W.H.useDeferredValue(A,H)},Re.useEffect=function(A,H,ee){var Q=W.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(A,H)},Re.useId=function(){return W.H.useId()},Re.useImperativeHandle=function(A,H,ee){return W.H.useImperativeHandle(A,H,ee)},Re.useInsertionEffect=function(A,H){return W.H.useInsertionEffect(A,H)},Re.useLayoutEffect=function(A,H){return W.H.useLayoutEffect(A,H)},Re.useMemo=function(A,H){return W.H.useMemo(A,H)},Re.useOptimistic=function(A,H){return W.H.useOptimistic(A,H)},Re.useReducer=function(A,H,ee){return W.H.useReducer(A,H,ee)},Re.useRef=function(A){return W.H.useRef(A)},Re.useState=function(A){return W.H.useState(A)},Re.useSyncExternalStore=function(A,H,ee){return W.H.useSyncExternalStore(A,H,ee)},Re.useTransition=function(){return W.H.useTransition()},Re.version="19.1.0",Re}var yp;function Rc(){return yp||(yp=1,ju.exports=Hv()),ju.exports}var he=Rc();const Fv=og(he);var ec={exports:{}},Jo={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Yv(){return vp||(vp=1,function(a){function t(k,K){var de=k.length;k.push(K);e:for(;0<de;){var Ve=de-1>>>1,A=k[Ve];if(0<s(A,K))k[Ve]=K,k[de]=A,de=Ve;else break e}}function n(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var K=k[0],de=k.pop();if(de!==K){k[0]=de;e:for(var Ve=0,A=k.length,H=A>>>1;Ve<H;){var ee=2*(Ve+1)-1,Q=k[ee],me=ee+1,Ie=k[me];if(0>s(Q,de))me<A&&0>s(Ie,Q)?(k[Ve]=Ie,k[me]=de,Ve=me):(k[Ve]=Q,k[ee]=de,Ve=ee);else if(me<A&&0>s(Ie,de))k[Ve]=Ie,k[me]=de,Ve=me;else break e}}return K}function s(k,K){var de=k.sortIndex-K.sortIndex;return de!==0?de:k.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,_=null,S=3,R=!1,O=!1,B=!1,Z=!1,se=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var K=n(h);K!==null;){if(K.callback===null)l(h);else if(K.startTime<=k)l(h),K.sortIndex=K.expirationTime,t(y,K);else break;K=n(h)}}function W(k){if(B=!1,Y(k),!O)if(n(y)!==null)O=!0,pe||(pe=!0,Le());else{var K=n(h);K!==null&&He(W,K.startTime-k)}}var pe=!1,X=-1,ve=5,j=-1;function fe(){return Z?!0:!(a.unstable_now()-j<ve)}function Ge(){if(Z=!1,pe){var k=a.unstable_now();j=k;var K=!0;try{e:{O=!1,B&&(B=!1,J(X),X=-1),R=!0;var de=S;try{t:{for(Y(k),_=n(y);_!==null&&!(_.expirationTime>k&&fe());){var Ve=_.callback;if(typeof Ve=="function"){_.callback=null,S=_.priorityLevel;var A=Ve(_.expirationTime<=k);if(k=a.unstable_now(),typeof A=="function"){_.callback=A,Y(k),K=!0;break t}_===n(y)&&l(y),Y(k)}else l(y);_=n(y)}if(_!==null)K=!0;else{var H=n(h);H!==null&&He(W,H.startTime-k),K=!1}}break e}finally{_=null,S=de,R=!1}K=void 0}}finally{K?Le():pe=!1}}}var Le;if(typeof ne=="function")Le=function(){ne(Ge)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Ze=Me.port2;Me.port1.onmessage=Ge,Le=function(){Ze.postMessage(null)}}else Le=function(){se(Ge,0)};function He(k,K){X=se(function(){k(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(k){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var de=S;S=K;try{return k()}finally{S=de}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var de=S;S=k;try{return K()}finally{S=de}},a.unstable_scheduleCallback=function(k,K,de){var Ve=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,k){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=de+A,k={id:v++,callback:K,priorityLevel:k,startTime:de,expirationTime:A,sortIndex:-1},de>Ve?(k.sortIndex=de,t(h,k),n(y)===null&&k===n(h)&&(B?(J(X),X=-1):B=!0,He(W,de-Ve))):(k.sortIndex=A,t(y,k),O||R||(O=!0,pe||(pe=!0,Le()))),k},a.unstable_shouldYield=fe,a.unstable_wrapCallback=function(k){var K=S;return function(){var de=S;S=K;try{return k.apply(this,arguments)}finally{S=de}}}}(nc)),nc}var Tp;function $v(){return Tp||(Tp=1,tc.exports=Yv()),tc.exports}var ic={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Zv(){if(Cp)return Dt;Cp=1;var a=Rc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(y,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:y,containerInfo:h,implementation:v}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Dt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,v)},Dt.flushSync=function(y){var h=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=h,l.p=v,l.d.f()}},Dt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(y,h))},Dt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Dt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?l.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:R}):v==="script"&&l.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(y)},Dt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin);l.d.L(y,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);l.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(y)},Dt.requestFormReset=function(y){l.d.r(y)},Dt.unstable_batchedUpdates=function(y,h){return y(h)},Dt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Dt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Dt.version="19.1.0",Dt}var _p;function Jv(){if(_p)return ic.exports;_p=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ic.exports=Zv(),ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function Kv(){if(Sp)return Jo;Sp=1;var a=$v(),t=Rc(),n=Jv();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function y(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(l(188));return i!==e?null:e}for(var o=e,r=i;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(r=d.return,r!==null){o=r;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return g(d),e;if(p===r)return g(d),i;p=p.sibling}throw Error(l(188))}if(o.return!==r.return)o=d,r=p;else{for(var T=!1,C=d.child;C;){if(C===o){T=!0,o=d,r=p;break}if(C===r){T=!0,r=d,o=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===o){T=!0,o=p,r=d;break}if(C===r){T=!0,r=p,o=d;break}C=C.sibling}if(!T)throw Error(l(189))}}if(o.alternate!==r)throw Error(l(190))}if(o.tag!==3)throw Error(l(188));return o.stateNode.current===o?e:i}function h(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=h(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function Ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case pe:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case ne:return(e.displayName||"Context")+".Provider";case J:return(e._context.displayName||"Context")+".Consumer";case Y:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return i=e.displayName||null,i!==null?i:Ze(e.type)||"Memo";case ve:i=e._payload,e=e._init;try{return Ze(e(i))}catch{}}return null}var He=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ve=[],A=-1;function H(e){return{current:e}}function ee(e){0>A||(e.current=Ve[A],Ve[A]=null,A--)}function Q(e,i){A++,Ve[A]=e.current,e.current=i}var me=H(null),Ie=H(null),Se=H(null),Et=H(null);function Qe(e,i){switch(Q(Se,i),Q(Ie,e),Q(me,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?qm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=qm(i),e=Hm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(me),Q(me,e)}function Pt(){ee(me),ee(Ie),ee(Se)}function Rn(e){e.memoizedState!==null&&Q(Et,e);var i=me.current,o=Hm(i,e.type);i!==o&&(Q(Ie,e),Q(me,o))}function bn(e){Ie.current===e&&(ee(me),ee(Ie)),Et.current===e&&(ee(Et),qo._currentValue=de)}var xt=Object.prototype.hasOwnProperty,hn=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Xl=a.unstable_shouldYield,Wt=a.unstable_requestPaint,It=a.unstable_now,xi=a.unstable_getCurrentPriorityLevel,Ki=a.unstable_ImmediatePriority,Xi=a.unstable_UserBlockingPriority,wn=a.unstable_NormalPriority,Qi=a.unstable_LowPriority,ie=a.unstable_IdlePriority,Wi=a.log,la=a.unstable_setDisableYieldValue,Ai=null,Ut=null;function gn(e){if(typeof Wi=="function"&&la(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ai,e)}catch{}}var Rt=Math.clz32?Math.clz32:qs,zs=Math.log,Bs=Math.LN2;function qs(e){return e>>>=0,e===0?32:31-(zs(e)/Bs|0)|0}var ji=256,Mi=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function el(e,i,o){var r=e.pendingLanes;if(r===0)return 0;var d=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=r&134217727;return C!==0?(r=C&~p,r!==0?d=Dn(r):(T&=C,T!==0?d=Dn(T):o||(o=C&~e,o!==0&&(d=Dn(o))))):(C=r&~p,C!==0?d=Dn(C):T!==0?d=Dn(T):o||(o=r&~e,o!==0&&(d=Dn(o)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:d}function Ni(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Hs(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var e=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),e}function aa(){var e=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),e}function Ql(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fs(e,i,o,r,d,p){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,x=e.expirationTimes,D=e.hiddenUpdates;for(o=T&~o;0<o;){var P=31-Rt(o),q=1<<P;C[P]=0,x[P]=-1;var I=D[P];if(I!==null)for(D[P]=null,P=0;P<I.length;P++){var U=I[P];U!==null&&(U.lane&=-536870913)}o&=~q}r!==0&&sa(e,r,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~i))}function sa(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-Rt(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|o&4194090}function ra(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var r=31-Rt(o),d=1<<r;d&i|e[r]&i&&(e[r]|=i),o&=~d}}function tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ua(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:rp(e.type))}function Ys(e,i){var o=K.p;try{return K.p=e,i()}finally{K.p=o}}var yn=Math.random().toString(36).slice(2),yt="__reactFiber$"+yn,bt="__reactProps$"+yn,Kn="__reactContainer$"+yn,jl="__reactEvents$"+yn,ca="__reactListeners$"+yn,$s="__reactHandles$"+yn,fa="__reactResources$"+yn,M="__reactMarker$"+yn;function L(e){delete e[yt],delete e[bt],delete e[jl],delete e[ca],delete e[$s]}function G(e){var i=e[yt];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Kn]||o[yt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Zm(e);e!==null;){if(o=e[yt])return o;e=Zm(e)}return i}e=o,o=e.parentNode}return null}function V(e){if(e=e[yt]||e[Kn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function re(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function le(e){var i=e[fa];return i||(i=e[fa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ne(e){e[M]=!0}var Te=new Set,ot={};function Ee(e,i){Fe(e,i),Fe(e+"Capture",i)}function Fe(e,i){for(ot[e]=i,e=0;e<i.length;e++)Te.add(i[e])}var Ft=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},rt={};function Xn(e){return xt.call(rt,e)?!0:xt.call(We,e)?!1:Ft.test(e)?rt[e]=!0:(We[e]=!0,!1)}function at(e,i,o){if(Xn(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function jt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Ot(e,i,o,r){if(r===null)e.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+r)}}var nl,Oc;function il(e){if(nl===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);nl=i&&i[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+e+Oc}var Zs=!1;function Js(e,i){if(!e||Zs)return"";Zs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var I=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){I=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){I=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var x=T.split(`
`),D=C.split(`
`);for(d=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(r===x.length||d===D.length)for(r=x.length-1,d=D.length-1;1<=r&&0<=d&&x[r]!==D[d];)d--;for(;1<=r&&0<=d;r--,d--)if(x[r]!==D[d]){if(r!==1||d!==1)do if(r--,d--,0>d||x[r]!==D[d]){var P=`
`+x[r].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=r&&0<=d);break}}}finally{Zs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?il(o):""}function Lg(e){switch(e.tag){case 26:case 27:case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return il("Activity");default:return""}}function Lc(e){try{var i="";do i+=Lg(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kg(e){var i=kc(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),r=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){r=""+T,p.call(this,T)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function da(e){e._valueTracker||(e._valueTracker=kg(e))}function Vc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),r="";return e&&(r=kc(e)?e.checked?"true":"false":e.value),e=r,e!==o?(i.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vg=/[\n"\\]/g;function tn(e){return e.replace(Vg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ks(e,i,o,r,d,p,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Xs(e,T,en(i)):o!=null?Xs(e,T,en(o)):r!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+en(C):e.removeAttribute("name")}function Pc(e,i,o,r,d,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+en(o):"",i=i!=null?""+en(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}r=r??d,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=C?e.checked:!!r,e.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Xs(e,i,o){i==="number"&&ma(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ll(e,i,o,r){if(e=e.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=i.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&r&&(e[o].defaultSelected=!0)}else{for(o=""+en(o),i=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,r&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function Gc(e,i,o){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+en(o):""}function zc(e,i,o,r){if(i==null){if(r!=null){if(o!=null)throw Error(l(92));if(He(r)){if(1<r.length)throw Error(l(93));r=r[0]}o=r}o==null&&(o=""),i=o}o=en(i),e.defaultValue=o,r=e.textContent,r===o&&r!==""&&r!==null&&(e.value=r)}function ol(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var Pg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,i,o){var r=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,o):typeof o!="number"||o===0||Pg.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function qc(e,i,o){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,o!=null){for(var r in o)!o.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var d in i)r=i[d],i.hasOwnProperty(d)&&o[d]!==r&&Bc(e,d,r)}else for(var p in i)i.hasOwnProperty(p)&&Bc(e,p,i[p])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return zg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ws=null;function js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,sl=null;function Hc(e){var i=V(e);if(i&&(e=i.stateNode)){var o=e[bt]||null;e:switch(e=i.stateNode,i.type){case"input":if(Ks(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var r=o[i];if(r!==e&&r.form===e.form){var d=r[bt]||null;if(!d)throw Error(l(90));Ks(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)r=o[i],r.form===e.form&&Vc(r)}break e;case"textarea":Gc(e,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ll(e,!!o.multiple,i,!1)}}}var er=!1;function Fc(e,i,o){if(er)return e(i,o);er=!0;try{var r=e(i);return r}finally{if(er=!1,(al!==null||sl!==null)&&(ja(),al&&(i=al,e=sl,sl=al=null,Hc(i),e)))for(i=0;i<e.length;i++)Hc(e[i])}}function eo(e,i){var o=e.stateNode;if(o===null)return null;var r=o[bt]||null;if(r===null)return null;o=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(l(231,i,typeof o));return o}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(In)try{var to={};Object.defineProperty(to,"passive",{get:function(){tr=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{tr=!1}var Qn=null,nr=null,ha=null;function Yc(){if(ha)return ha;var e,i=nr,o=i.length,r,d="value"in Qn?Qn.value:Qn.textContent,p=d.length;for(e=0;e<o&&i[e]===d[e];e++);var T=o-e;for(r=1;r<=T&&i[o-r]===d[p-r];r++);return ha=d.slice(e,1<r?1-r:void 0)}function ga(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function $c(){return!1}function Gt(e){function i(o,r,d,p,T){this._reactName=o,this._targetInst=d,this.type=r,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ya:$c,this.isPropagationStopped=$c,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),i}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Gt(bi),no=v({},bi,{view:0,detail:0}),Bg=Gt(no),ir,lr,io,Ta=v({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(ir=e.screenX-io.screenX,lr=e.screenY-io.screenY):lr=ir=0,io=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),Zc=Gt(Ta),qg=v({},Ta,{dataTransfer:0}),Hg=Gt(qg),Fg=v({},no,{relatedTarget:0}),or=Gt(Fg),Yg=v({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=Gt(Yg),Zg=v({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jg=Gt(Zg),Kg=v({},bi,{data:0}),Jc=Gt(Kg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Wg[e])?!!i[e]:!1}function ar(){return jg}var ey=v({},no,{key:function(e){if(e.key){var i=Xg[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ty=Gt(ey),ny=v({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Gt(ny),iy=v({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),ly=Gt(iy),oy=v({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ay=Gt(oy),sy=v({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=Gt(sy),uy=v({},bi,{newState:0,oldState:0}),cy=Gt(uy),fy=[9,13,27,32],sr=In&&"CompositionEvent"in window,lo=null;In&&"documentMode"in document&&(lo=document.documentMode);var dy=In&&"TextEvent"in window&&!lo,Xc=In&&(!sr||lo&&8<lo&&11>=lo),Qc=" ",Wc=!1;function jc(e,i){switch(e){case"keyup":return fy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function my(e,i){switch(e){case"compositionend":return ef(i);case"keypress":return i.which!==32?null:(Wc=!0,Qc);case"textInput":return e=i.data,e===Qc&&Wc?null:e;default:return null}}function py(e,i){if(rl)return e==="compositionend"||!sr&&jc(e,i)?(e=Yc(),ha=nr=Qn=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xc&&i.locale!=="ko"?null:i.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!hy[e.type]:i==="textarea"}function nf(e,i,o,r){al?sl?sl.push(r):sl=[r]:al=r,i=os(i,"onChange"),0<i.length&&(o=new va("onChange","change",null,o,r),e.push({event:o,listeners:i}))}var oo=null,ao=null;function gy(e){Vm(e,0)}function Ca(e){var i=re(e);if(Vc(i))return e}function lf(e,i){if(e==="change")return i}var of=!1;if(In){var rr;if(In){var ur="oninput"in document;if(!ur){var af=document.createElement("div");af.setAttribute("oninput","return;"),ur=typeof af.oninput=="function"}rr=ur}else rr=!1;of=rr&&(!document.documentMode||9<document.documentMode)}function sf(){oo&&(oo.detachEvent("onpropertychange",rf),ao=oo=null)}function rf(e){if(e.propertyName==="value"&&Ca(ao)){var i=[];nf(i,ao,e,js(e)),Fc(gy,i)}}function yy(e,i,o){e==="focusin"?(sf(),oo=i,ao=o,oo.attachEvent("onpropertychange",rf)):e==="focusout"&&sf()}function vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(ao)}function Ty(e,i){if(e==="click")return Ca(i)}function Cy(e,i){if(e==="input"||e==="change")return Ca(i)}function _y(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Yt=typeof Object.is=="function"?Object.is:_y;function so(e,i){if(Yt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),r=Object.keys(i);if(o.length!==r.length)return!1;for(r=0;r<o.length;r++){var d=o[r];if(!xt.call(i,d)||!Yt(e[d],i[d]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,i){var o=uf(e);e=0;for(var r;o;){if(o.nodeType===3){if(r=e+o.textContent.length,e<=i&&r>=i)return{node:o,offset:i-e};e=r}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uf(o)}}function ff(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ff(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function df(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ma(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ma(e.document)}return i}function cr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Sy=In&&"documentMode"in document&&11>=document.documentMode,ul=null,fr=null,ro=null,dr=!1;function mf(e,i,o){var r=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dr||ul==null||ul!==ma(r)||(r=ul,"selectionStart"in r&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&so(ro,r)||(ro=r,r=os(fr,"onSelect"),0<r.length&&(i=new va("onSelect","select",null,i,o),e.push({event:i,listeners:r}),i.target=ul)))}function wi(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var cl={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},mr={},pf={};In&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Di(e){if(mr[e])return mr[e];if(!cl[e])return e;var i=cl[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in pf)return mr[e]=i[o];return e}var hf=Di("animationend"),gf=Di("animationiteration"),yf=Di("animationstart"),Ey=Di("transitionrun"),xy=Di("transitionstart"),Ay=Di("transitioncancel"),vf=Di("transitionend"),Tf=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function fn(e,i){Tf.set(e,i),Ee(i,[e])}var Cf=new WeakMap;function nn(e,i){if(typeof e=="object"&&e!==null){var o=Cf.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Lc(i)},Cf.set(e,i),i)}return{value:e,source:i,stack:Lc(i)}}var ln=[],fl=0,hr=0;function _a(){for(var e=fl,i=hr=fl=0;i<e;){var o=ln[i];ln[i++]=null;var r=ln[i];ln[i++]=null;var d=ln[i];ln[i++]=null;var p=ln[i];if(ln[i++]=null,r!==null&&d!==null){var T=r.pending;T===null?d.next=d:(d.next=T.next,T.next=d),r.pending=d}p!==0&&_f(o,d,p)}}function Sa(e,i,o,r){ln[fl++]=e,ln[fl++]=i,ln[fl++]=o,ln[fl++]=r,hr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function gr(e,i,o,r){return Sa(e,i,o,r),Ea(e)}function dl(e,i){return Sa(e,null,null,i),Ea(e)}function _f(e,i,o){e.lanes|=o;var r=e.alternate;r!==null&&(r.lanes|=o);for(var d=!1,p=e.return;p!==null;)p.childLanes|=o,r=p.alternate,r!==null&&(r.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&i!==null&&(d=31-Rt(o),e=p.hiddenUpdates,r=e[d],r===null?e[d]=[i]:r.push(i),i.lane=o|536870912),p):null}function Ea(e){if(50<Oo)throw Oo=0,Su=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ml={};function My(e,i,o,r){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,i,o,r){return new My(e,i,o,r)}function yr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,i){var o=e.alternate;return o===null?(o=$t(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Sf(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xa(e,i,o,r,d,p){var T=0;if(r=e,typeof e=="function")yr(e)&&(T=1);else if(typeof e=="string")T=Rv(e,o,me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=$t(31,o,i,d),e.elementType=j,e.lanes=p,e;case O:return Ii(o.children,d,p,i);case B:T=8,d|=24;break;case Z:return e=$t(12,o,i,d|2),e.elementType=Z,e.lanes=p,e;case W:return e=$t(13,o,i,d),e.elementType=W,e.lanes=p,e;case pe:return e=$t(19,o,i,d),e.elementType=pe,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case ne:T=10;break e;case J:T=9;break e;case Y:T=11;break e;case X:T=14;break e;case ve:T=16,r=null;break e}T=29,o=Error(l(130,e===null?"null":typeof e,"")),r=null}return i=$t(T,o,i,d),i.elementType=e,i.type=r,i.lanes=p,i}function Ii(e,i,o,r){return e=$t(7,e,r,i),e.lanes=o,e}function vr(e,i,o){return e=$t(6,e,null,i),e.lanes=o,e}function Tr(e,i,o){return i=$t(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var pl=[],hl=0,Aa=null,Ma=0,on=[],an=0,Ui=null,On=1,Ln="";function Oi(e,i){pl[hl++]=Ma,pl[hl++]=Aa,Aa=e,Ma=i}function Ef(e,i,o){on[an++]=On,on[an++]=Ln,on[an++]=Ui,Ui=e;var r=On;e=Ln;var d=32-Rt(r)-1;r&=~(1<<d),o+=1;var p=32-Rt(i)+d;if(30<p){var T=d-d%5;p=(r&(1<<T)-1).toString(32),r>>=T,d-=T,On=1<<32-Rt(i)+d|o<<d|r,Ln=p+e}else On=1<<p|o<<d|r,Ln=e}function Cr(e){e.return!==null&&(Oi(e,1),Ef(e,1,0))}function _r(e){for(;e===Aa;)Aa=pl[--hl],pl[hl]=null,Ma=pl[--hl],pl[hl]=null;for(;e===Ui;)Ui=on[--an],on[an]=null,Ln=on[--an],on[an]=null,On=on[--an],on[an]=null}var Lt=null,ut=null,qe=!1,Li=null,vn=!1,Sr=Error(l(519));function ki(e){var i=Error(l(418,""));throw fo(nn(i,e)),Sr}function xf(e){var i=e.stateNode,o=e.type,r=e.memoizedProps;switch(i[yt]=e,i[bt]=r,o){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(o=0;o<ko.length;o++)Oe(ko[o],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Pc(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),da(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),zc(i,r.value,r.defaultValue,r.children),da(i)}o=r.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||r.suppressHydrationWarning===!0||Bm(i.textContent,o)?(r.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),r.onScroll!=null&&Oe("scroll",i),r.onScrollEnd!=null&&Oe("scrollend",i),r.onClick!=null&&(i.onclick=as),i=!0):i=!1,i||ki(e)}function Af(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Lt=Lt.return}}function uo(e){if(e!==Lt)return!1;if(!qe)return Af(e),qe=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Pu(e.type,e.memoizedProps)),o=!o),o&&ut&&ki(e),Af(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){ut=mn(e.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}ut=null}}else i===27?(i=ut,mi(e.type)?(e=qu,qu=null,ut=e):ut=i):ut=Lt?mn(e.stateNode.nextSibling):null;return!0}function co(){ut=Lt=null,qe=!1}function Mf(){var e=Li;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),Li=null),e}function fo(e){Li===null?Li=[e]:Li.push(e)}var Er=H(null),Vi=null,kn=null;function Wn(e,i,o){Q(Er,i._currentValue),i._currentValue=o}function Vn(e){e._currentValue=Er.current,ee(Er)}function xr(e,i,o){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===o)break;e=e.return}}function Ar(e,i,o,r){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var x=0;x<i.length;x++)if(C.context===i[x]){p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),xr(p.return,o,e),r||(T=null);break e}p=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),xr(T,o,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function mo(e,i,o,r){e=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var C=d.type;Yt(d.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(d===Et.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(qo):e=[qo])}d=d.return}e!==null&&Ar(i,e,o,r),i.flags|=262144}function Na(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Vi=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return Nf(Vi,e)}function Ra(e,i){return Vi===null&&Pi(e),Nf(e,i)}function Nf(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},kn===null){if(e===null)throw Error(l(308));kn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else kn=kn.next=i;return o}var Ny=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Ry=a.unstable_scheduleCallback,by=a.unstable_NormalPriority,vt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Ny,data:new Map,refCount:0}}function po(e){e.refCount--,e.refCount===0&&Ry(by,function(){e.controller.abort()})}var ho=null,Nr=0,gl=0,yl=null;function wy(e,i){if(ho===null){var o=ho=[];Nr=0,gl=bu(),yl={status:"pending",value:void 0,then:function(r){o.push(r)}}}return Nr++,i.then(Rf,Rf),i}function Rf(){if(--Nr===0&&ho!==null){yl!==null&&(yl.status="fulfilled");var e=ho;ho=null,gl=0,yl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Dy(e,i){var o=[],r={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(r.status="rejected",r.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),r}var bf=k.S;k.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wy(e,i),bf!==null&&bf(e,i)};var Gi=H(null);function Rr(){var e=Gi.current;return e!==null?e:et.pooledCache}function ba(e,i){i===null?Q(Gi,Gi.current):Q(Gi,i.pool)}function wf(){var e=Rr();return e===null?null:{parent:vt._currentValue,pool:e}}var go=Error(l(460)),Df=Error(l(474)),wa=Error(l(542)),br={then:function(){}};function If(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Da(){}function Uf(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Da,Da),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lf(e),e;default:if(typeof i.status=="string")i.then(Da,Da);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=r}},function(r){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lf(e),e}throw yo=i,go}}var yo=null;function Of(){if(yo===null)throw Error(l(459));var e=yo;return yo=null,e}function Lf(e){if(e===go||e===wa)throw Error(l(483))}var jn=!1;function wr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,i,o){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ye&2)!==0){var d=r.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i,i=Ea(e),_f(e,null,o),i}return Sa(e,r,i,o),Ea(e)}function vo(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,o|=r,i.lanes=o,ra(e,o)}}function Ir(e,i){var o=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,o===r)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=i:p=p.next=i}else d=p=i;o={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Ur=!1;function To(){if(Ur){var e=yl;if(e!==null)throw e}}function Co(e,i,o,r){Ur=!1;var d=e.updateQueue;jn=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,D=x.next;x.next=null,T===null?p=D:T.next=D,T=x;var P=e.alternate;P!==null&&(P=P.updateQueue,C=P.lastBaseUpdate,C!==T&&(C===null?P.firstBaseUpdate=D:C.next=D,P.lastBaseUpdate=x))}if(p!==null){var q=d.baseState;T=0,P=D=x=null,C=p;do{var I=C.lane&-536870913,U=I!==C.lane;if(U?(Pe&I)===I:(r&I)===I){I!==0&&I===gl&&(Ur=!0),P!==null&&(P=P.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ce=e,ge=C;I=i;var Xe=o;switch(ge.tag){case 1:if(Ce=ge.payload,typeof Ce=="function"){q=Ce.call(Xe,q,I);break e}q=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=ge.payload,I=typeof Ce=="function"?Ce.call(Xe,q,I):Ce,I==null)break e;q=v({},q,I);break e;case 2:jn=!0}}I=C.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[I]:U.push(I))}else U={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},P===null?(D=P=U,x=q):P=P.next=U,T|=I;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;U=C,C=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);P===null&&(x=q),d.baseState=x,d.firstBaseUpdate=D,d.lastBaseUpdate=P,p===null&&(d.shared.lanes=0),ui|=T,e.lanes=T,e.memoizedState=q}}function kf(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function Vf(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)kf(o[e],i)}var vl=H(null),Ia=H(0);function Pf(e,i){e=Fn,Q(Ia,e),Q(vl,i),Fn=e|i.baseLanes}function Or(){Q(Ia,Fn),Q(vl,vl.current)}function Lr(){Fn=Ia.current,ee(vl),ee(Ia)}var ni=0,we=null,Je=null,mt=null,Ua=!1,Tl=!1,zi=!1,Oa=0,_o=0,Cl=null,Iy=0;function ft(){throw Error(l(321))}function kr(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Yt(e[o],i[o]))return!1;return!0}function Vr(e,i,o,r,d,p){return ni=p,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=e===null||e.memoizedState===null?_d:Sd,zi=!1,p=o(r,d),zi=!1,Tl&&(p=zf(i,o,r,d)),Gf(e),p}function Gf(e){k.H=za;var i=Je!==null&&Je.next!==null;if(ni=0,mt=Je=we=null,Ua=!1,_o=0,Cl=null,i)throw Error(l(300));e===null||Ct||(e=e.dependencies,e!==null&&Na(e)&&(Ct=!0))}function zf(e,i,o,r){we=e;var d=0;do{if(Tl&&(Cl=null),_o=0,Tl=!1,25<=d)throw Error(l(301));if(d+=1,mt=Je=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=Gy,p=i(o,r)}while(Tl);return p}function Uy(){var e=k.H,i=e.useState()[0];return i=typeof i.then=="function"?So(i):i,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(we.flags|=1024),i}function Pr(){var e=Oa!==0;return Oa=0,e}function Gr(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function zr(e){if(Ua){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ua=!1}ni=0,mt=Je=we=null,Tl=!1,_o=Oa=0,Cl=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?we.memoizedState=mt=e:mt=mt.next=e,mt}function pt(){if(Je===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var i=mt===null?we.memoizedState:mt.next;if(i!==null)mt=i,Je=e;else{if(e===null)throw we.alternate===null?Error(l(467)):Error(l(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},mt===null?we.memoizedState=mt=e:mt=mt.next=e}return mt}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(e){var i=_o;return _o+=1,Cl===null&&(Cl=[]),e=Uf(Cl,e,i),i=we,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?_d:Sd),e}function La(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return So(e);if(e.$$typeof===ne)return wt(e)}throw Error(l(438,String(e)))}function qr(e){var i=null,o=we.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Br(),we.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),r=0;r<e;r++)o[r]=fe;return i.index++,o}function Pn(e,i){return typeof i=="function"?i(e):i}function ka(e){var i=pt();return Hr(i,Je,e)}function Hr(e,i,o){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=o;var d=e.baseQueue,p=r.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}i.baseQueue=d=p,r.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{i=d.next;var C=T=null,x=null,D=i,P=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(Pe&q)===q:(ni&q)===q){var I=D.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===gl&&(P=!0);else if((ni&I)===I){D=D.next,I===gl&&(P=!0);continue}else q={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(C=x=q,T=p):x=x.next=q,we.lanes|=I,ui|=I;q=D.action,zi&&o(p,q),p=D.hasEagerState?D.eagerState:o(p,q)}else I={lane:q,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(C=x=I,T=p):x=x.next=I,we.lanes|=q,ui|=q;D=D.next}while(D!==null&&D!==i);if(x===null?T=p:x.next=C,!Yt(p,e.memoizedState)&&(Ct=!0,P&&(o=yl,o!==null)))throw o;e.memoizedState=p,e.baseState=T,e.baseQueue=x,r.lastRenderedState=p}return d===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Fr(e){var i=pt(),o=i.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=e;var r=o.dispatch,d=o.pending,p=i.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=e(p,T.action),T=T.next;while(T!==d);Yt(p,i.memoizedState)||(Ct=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,r]}function Bf(e,i,o){var r=we,d=pt(),p=qe;if(p){if(o===void 0)throw Error(l(407));o=o()}else o=i();var T=!Yt((Je||d).memoizedState,o);T&&(d.memoizedState=o,Ct=!0),d=d.queue;var C=Ff.bind(null,r,d,e);if(Eo(2048,8,C,[e]),d.getSnapshot!==i||T||mt!==null&&mt.memoizedState.tag&1){if(r.flags|=2048,_l(9,Va(),Hf.bind(null,r,d,o,i),null),et===null)throw Error(l(349));p||(ni&124)!==0||qf(r,i,o)}return o}function qf(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=we.updateQueue,i===null?(i=Br(),we.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function Hf(e,i,o,r){i.value=o,i.getSnapshot=r,Yf(i)&&$f(e)}function Ff(e,i,o){return o(function(){Yf(i)&&$f(e)})}function Yf(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Yt(e,o)}catch{return!0}}function $f(e){var i=dl(e,2);i!==null&&Qt(i,e,2)}function Yr(e){var i=zt();if(typeof e=="function"){var o=e;if(e=o(),zi){gn(!0);try{o()}finally{gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},i}function Zf(e,i,o,r){return e.baseState=o,Hr(e,Je,typeof r=="function"?r:Pn)}function Oy(e,i,o,r,d){if(Ga(e))throw Error(l(485));if(e=i.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};k.T!==null?o(!0):p.isTransition=!1,r(p),o=i.pending,o===null?(p.next=i.pending=p,Jf(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Jf(e,i){var o=i.action,r=i.payload,d=e.state;if(i.isTransition){var p=k.T,T={};k.T=T;try{var C=o(d,r),x=k.S;x!==null&&x(T,C),Kf(e,i,C)}catch(D){$r(e,i,D)}finally{k.T=p}}else try{p=o(d,r),Kf(e,i,p)}catch(D){$r(e,i,D)}}function Kf(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(r){Xf(e,i,r)},function(r){return $r(e,i,r)}):Xf(e,i,o)}function Xf(e,i,o){i.status="fulfilled",i.value=o,Qf(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,Jf(e,o)))}function $r(e,i,o){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=o,Qf(i),i=i.next;while(i!==r)}e.action=null}function Qf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wf(e,i){return i}function jf(e,i){if(qe){var o=et.formState;if(o!==null){e:{var r=we;if(qe){if(ut){t:{for(var d=ut,p=vn;d.nodeType!==8;){if(!p){d=null;break t}if(d=mn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){ut=mn(d.nextSibling),r=d.data==="F!";break e}}ki(r)}r=!1}r&&(i=o[0])}}return o=zt(),o.memoizedState=o.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:i},o.queue=r,o=vd.bind(null,we,r),r.dispatch=o,r=Yr(!1),p=Qr.bind(null,we,!1,r.queue),r=zt(),d={state:i,dispatch:null,action:e,pending:null},r.queue=d,o=Oy.bind(null,we,d,p,o),d.dispatch=o,r.memoizedState=e,[i,o,!1]}function ed(e){var i=pt();return td(i,Je,e)}function td(e,i,o){if(i=Hr(e,i,Wf)[0],e=ka(Pn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=So(i)}catch(T){throw T===go?wa:T}else r=i;i=pt();var d=i.queue,p=d.dispatch;return o!==i.memoizedState&&(we.flags|=2048,_l(9,Va(),Ly.bind(null,d,o),null)),[r,p,e]}function Ly(e,i){e.action=i}function nd(e){var i=pt(),o=Je;if(o!==null)return td(i,o,e);pt(),i=i.memoizedState,o=pt();var r=o.queue.dispatch;return o.memoizedState=e,[i,r,!1]}function _l(e,i,o,r){return e={tag:e,create:o,deps:r,inst:i,next:null},i=we.updateQueue,i===null&&(i=Br(),we.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(r=o.next,o.next=e,e.next=r,i.lastEffect=e),e}function Va(){return{destroy:void 0,resource:void 0}}function id(){return pt().memoizedState}function Pa(e,i,o,r){var d=zt();r=r===void 0?null:r,we.flags|=e,d.memoizedState=_l(1|i,Va(),o,r)}function Eo(e,i,o,r){var d=pt();r=r===void 0?null:r;var p=d.memoizedState.inst;Je!==null&&r!==null&&kr(r,Je.memoizedState.deps)?d.memoizedState=_l(i,p,o,r):(we.flags|=e,d.memoizedState=_l(1|i,p,o,r))}function ld(e,i){Pa(8390656,8,e,i)}function od(e,i){Eo(2048,8,e,i)}function ad(e,i){return Eo(4,2,e,i)}function sd(e,i){return Eo(4,4,e,i)}function rd(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ud(e,i,o){o=o!=null?o.concat([e]):null,Eo(4,4,rd.bind(null,i,e),o)}function Zr(){}function cd(e,i){var o=pt();i=i===void 0?null:i;var r=o.memoizedState;return i!==null&&kr(i,r[1])?r[0]:(o.memoizedState=[e,i],e)}function fd(e,i){var o=pt();i=i===void 0?null:i;var r=o.memoizedState;if(i!==null&&kr(i,r[1]))return r[0];if(r=e(),zi){gn(!0);try{e()}finally{gn(!1)}}return o.memoizedState=[r,i],r}function Jr(e,i,o){return o===void 0||(ni&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=pm(),we.lanes|=e,ui|=e,o)}function dd(e,i,o,r){return Yt(o,i)?o:vl.current!==null?(e=Jr(e,o,r),Yt(e,i)||(Ct=!0),e):(ni&42)===0?(Ct=!0,e.memoizedState=o):(e=pm(),we.lanes|=e,ui|=e,i)}function md(e,i,o,r,d){var p=K.p;K.p=p!==0&&8>p?p:8;var T=k.T,C={};k.T=C,Qr(e,!1,i,o);try{var x=d(),D=k.S;if(D!==null&&D(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=Dy(x,r);xo(e,i,P,Xt(e))}else xo(e,i,r,Xt(e))}catch(q){xo(e,i,{then:function(){},status:"rejected",reason:q},Xt())}finally{K.p=p,k.T=T}}function ky(){}function Kr(e,i,o,r){if(e.tag!==5)throw Error(l(476));var d=pd(e).queue;md(e,d,i,de,o===null?ky:function(){return hd(e),o(r)})}function pd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:de},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function hd(e){var i=pd(e).next.queue;xo(e,i,{},Xt())}function Xr(){return wt(qo)}function gd(){return pt().memoizedState}function yd(){return pt().memoizedState}function Vy(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Xt();e=ei(o);var r=ti(i,e,o);r!==null&&(Qt(r,i,o),vo(r,i,o)),i={cache:Mr()},e.payload=i;return}i=i.return}}function Py(e,i,o){var r=Xt();o={lane:r,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Td(i,o):(o=gr(e,i,o,r),o!==null&&(Qt(o,e,r),Cd(o,i,r)))}function vd(e,i,o){var r=Xt();xo(e,i,o,r)}function xo(e,i,o,r){var d={lane:r,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Td(i,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,C=p(T,o);if(d.hasEagerState=!0,d.eagerState=C,Yt(C,T))return Sa(e,i,d,0),et===null&&_a(),!1}catch{}finally{}if(o=gr(e,i,d,r),o!==null)return Qt(o,e,r),Cd(o,i,r),!0}return!1}function Qr(e,i,o,r){if(r={lane:2,revertLane:bu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ga(e)){if(i)throw Error(l(479))}else i=gr(e,o,r,2),i!==null&&Qt(i,e,2)}function Ga(e){var i=e.alternate;return e===we||i!==null&&i===we}function Td(e,i){Tl=Ua=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Cd(e,i,o){if((o&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,o|=r,i.lanes=o,ra(e,o)}}var za={readContext:wt,use:La,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},_d={readContext:wt,use:La,useCallback:function(e,i){return zt().memoizedState=[e,i===void 0?null:i],e},useContext:wt,useEffect:ld,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Pa(4194308,4,rd.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Pa(4194308,4,e,i)},useInsertionEffect:function(e,i){Pa(4,2,e,i)},useMemo:function(e,i){var o=zt();i=i===void 0?null:i;var r=e();if(zi){gn(!0);try{e()}finally{gn(!1)}}return o.memoizedState=[r,i],r},useReducer:function(e,i,o){var r=zt();if(o!==void 0){var d=o(i);if(zi){gn(!0);try{o(i)}finally{gn(!1)}}}else d=i;return r.memoizedState=r.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},r.queue=e,e=e.dispatch=Py.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var i=zt();return e={current:e},i.memoizedState=e},useState:function(e){e=Yr(e);var i=e.queue,o=vd.bind(null,we,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Zr,useDeferredValue:function(e,i){var o=zt();return Jr(o,e,i)},useTransition:function(){var e=Yr(!1);return e=md.bind(null,we,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var r=we,d=zt();if(qe){if(o===void 0)throw Error(l(407));o=o()}else{if(o=i(),et===null)throw Error(l(349));(Pe&124)!==0||qf(r,i,o)}d.memoizedState=o;var p={value:o,getSnapshot:i};return d.queue=p,ld(Ff.bind(null,r,p,e),[e]),r.flags|=2048,_l(9,Va(),Hf.bind(null,r,p,o,i),null),o},useId:function(){var e=zt(),i=et.identifierPrefix;if(qe){var o=Ln,r=On;o=(r&~(1<<32-Rt(r)-1)).toString(32)+o,i="«"+i+"R"+o,o=Oa++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=Iy++,i="«"+i+"r"+o.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Xr,useFormState:jf,useActionState:jf,useOptimistic:function(e){var i=zt();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Qr.bind(null,we,!0,o),o.dispatch=i,[e,i]},useMemoCache:qr,useCacheRefresh:function(){return zt().memoizedState=Vy.bind(null,we)}},Sd={readContext:wt,use:La,useCallback:cd,useContext:wt,useEffect:od,useImperativeHandle:ud,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:fd,useReducer:ka,useRef:id,useState:function(){return ka(Pn)},useDebugValue:Zr,useDeferredValue:function(e,i){var o=pt();return dd(o,Je.memoizedState,e,i)},useTransition:function(){var e=ka(Pn)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:So(e),i]},useSyncExternalStore:Bf,useId:gd,useHostTransitionStatus:Xr,useFormState:ed,useActionState:ed,useOptimistic:function(e,i){var o=pt();return Zf(o,Je,e,i)},useMemoCache:qr,useCacheRefresh:yd},Gy={readContext:wt,use:La,useCallback:cd,useContext:wt,useEffect:od,useImperativeHandle:ud,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:fd,useReducer:Fr,useRef:id,useState:function(){return Fr(Pn)},useDebugValue:Zr,useDeferredValue:function(e,i){var o=pt();return Je===null?Jr(o,e,i):dd(o,Je.memoizedState,e,i)},useTransition:function(){var e=Fr(Pn)[0],i=pt().memoizedState;return[typeof e=="boolean"?e:So(e),i]},useSyncExternalStore:Bf,useId:gd,useHostTransitionStatus:Xr,useFormState:nd,useActionState:nd,useOptimistic:function(e,i){var o=pt();return Je!==null?Zf(o,Je,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:qr,useCacheRefresh:yd},Sl=null,Ao=0;function Ba(e){var i=Ao;return Ao+=1,Sl===null&&(Sl=[]),Uf(Sl,e,i)}function Mo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qa(e,i){throw i.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ed(e){var i=e._init;return i(e._payload)}function xd(e){function i(b,N){if(e){var w=b.deletions;w===null?(b.deletions=[N],b.flags|=16):w.push(N)}}function o(b,N){if(!e)return null;for(;N!==null;)i(b,N),N=N.sibling;return null}function r(b){for(var N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function d(b,N){return b=Un(b,N),b.index=0,b.sibling=null,b}function p(b,N,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<N?(b.flags|=67108866,N):w):(b.flags|=67108866,N)):(b.flags|=1048576,N)}function T(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function C(b,N,w,z){return N===null||N.tag!==6?(N=vr(w,b.mode,z),N.return=b,N):(N=d(N,w),N.return=b,N)}function x(b,N,w,z){var oe=w.type;return oe===O?P(b,N,w.props.children,z,w.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ve&&Ed(oe)===N.type)?(N=d(N,w.props),Mo(N,w),N.return=b,N):(N=xa(w.type,w.key,w.props,null,b.mode,z),Mo(N,w),N.return=b,N)}function D(b,N,w,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==w.containerInfo||N.stateNode.implementation!==w.implementation?(N=Tr(w,b.mode,z),N.return=b,N):(N=d(N,w.children||[]),N.return=b,N)}function P(b,N,w,z,oe){return N===null||N.tag!==7?(N=Ii(w,b.mode,z,oe),N.return=b,N):(N=d(N,w),N.return=b,N)}function q(b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vr(""+N,b.mode,w),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return w=xa(N.type,N.key,N.props,null,b.mode,w),Mo(w,N),w.return=b,w;case R:return N=Tr(N,b.mode,w),N.return=b,N;case ve:var z=N._init;return N=z(N._payload),q(b,N,w)}if(He(N)||Le(N))return N=Ii(N,b.mode,w,null),N.return=b,N;if(typeof N.then=="function")return q(b,Ba(N),w);if(N.$$typeof===ne)return q(b,Ra(b,N),w);qa(b,N)}return null}function I(b,N,w,z){var oe=N!==null?N.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return oe!==null?null:C(b,N,""+w,z);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return w.key===oe?x(b,N,w,z):null;case R:return w.key===oe?D(b,N,w,z):null;case ve:return oe=w._init,w=oe(w._payload),I(b,N,w,z)}if(He(w)||Le(w))return oe!==null?null:P(b,N,w,z,null);if(typeof w.then=="function")return I(b,N,Ba(w),z);if(w.$$typeof===ne)return I(b,N,Ra(b,w),z);qa(b,w)}return null}function U(b,N,w,z,oe){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return b=b.get(w)||null,C(N,b,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return b=b.get(z.key===null?w:z.key)||null,x(N,b,z,oe);case R:return b=b.get(z.key===null?w:z.key)||null,D(N,b,z,oe);case ve:var De=z._init;return z=De(z._payload),U(b,N,w,z,oe)}if(He(z)||Le(z))return b=b.get(w)||null,P(N,b,z,oe,null);if(typeof z.then=="function")return U(b,N,w,Ba(z),oe);if(z.$$typeof===ne)return U(b,N,w,Ra(N,z),oe);qa(N,z)}return null}function Ce(b,N,w,z){for(var oe=null,De=null,ce=N,ye=N=0,St=null;ce!==null&&ye<w.length;ye++){ce.index>ye?(St=ce,ce=null):St=ce.sibling;var ze=I(b,ce,w[ye],z);if(ze===null){ce===null&&(ce=St);break}e&&ce&&ze.alternate===null&&i(b,ce),N=p(ze,N,ye),De===null?oe=ze:De.sibling=ze,De=ze,ce=St}if(ye===w.length)return o(b,ce),qe&&Oi(b,ye),oe;if(ce===null){for(;ye<w.length;ye++)ce=q(b,w[ye],z),ce!==null&&(N=p(ce,N,ye),De===null?oe=ce:De.sibling=ce,De=ce);return qe&&Oi(b,ye),oe}for(ce=r(ce);ye<w.length;ye++)St=U(ce,b,ye,w[ye],z),St!==null&&(e&&St.alternate!==null&&ce.delete(St.key===null?ye:St.key),N=p(St,N,ye),De===null?oe=St:De.sibling=St,De=St);return e&&ce.forEach(function(vi){return i(b,vi)}),qe&&Oi(b,ye),oe}function ge(b,N,w,z){if(w==null)throw Error(l(151));for(var oe=null,De=null,ce=N,ye=N=0,St=null,ze=w.next();ce!==null&&!ze.done;ye++,ze=w.next()){ce.index>ye?(St=ce,ce=null):St=ce.sibling;var vi=I(b,ce,ze.value,z);if(vi===null){ce===null&&(ce=St);break}e&&ce&&vi.alternate===null&&i(b,ce),N=p(vi,N,ye),De===null?oe=vi:De.sibling=vi,De=vi,ce=St}if(ze.done)return o(b,ce),qe&&Oi(b,ye),oe;if(ce===null){for(;!ze.done;ye++,ze=w.next())ze=q(b,ze.value,z),ze!==null&&(N=p(ze,N,ye),De===null?oe=ze:De.sibling=ze,De=ze);return qe&&Oi(b,ye),oe}for(ce=r(ce);!ze.done;ye++,ze=w.next())ze=U(ce,b,ye,ze.value,z),ze!==null&&(e&&ze.alternate!==null&&ce.delete(ze.key===null?ye:ze.key),N=p(ze,N,ye),De===null?oe=ze:De.sibling=ze,De=ze);return e&&ce.forEach(function(zv){return i(b,zv)}),qe&&Oi(b,ye),oe}function Xe(b,N,w,z){if(typeof w=="object"&&w!==null&&w.type===O&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case S:e:{for(var oe=w.key;N!==null;){if(N.key===oe){if(oe=w.type,oe===O){if(N.tag===7){o(b,N.sibling),z=d(N,w.props.children),z.return=b,b=z;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ve&&Ed(oe)===N.type){o(b,N.sibling),z=d(N,w.props),Mo(z,w),z.return=b,b=z;break e}o(b,N);break}else i(b,N);N=N.sibling}w.type===O?(z=Ii(w.props.children,b.mode,z,w.key),z.return=b,b=z):(z=xa(w.type,w.key,w.props,null,b.mode,z),Mo(z,w),z.return=b,b=z)}return T(b);case R:e:{for(oe=w.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===w.containerInfo&&N.stateNode.implementation===w.implementation){o(b,N.sibling),z=d(N,w.children||[]),z.return=b,b=z;break e}else{o(b,N);break}else i(b,N);N=N.sibling}z=Tr(w,b.mode,z),z.return=b,b=z}return T(b);case ve:return oe=w._init,w=oe(w._payload),Xe(b,N,w,z)}if(He(w))return Ce(b,N,w,z);if(Le(w)){if(oe=Le(w),typeof oe!="function")throw Error(l(150));return w=oe.call(w),ge(b,N,w,z)}if(typeof w.then=="function")return Xe(b,N,Ba(w),z);if(w.$$typeof===ne)return Xe(b,N,Ra(b,w),z);qa(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,N!==null&&N.tag===6?(o(b,N.sibling),z=d(N,w),z.return=b,b=z):(o(b,N),z=vr(w,b.mode,z),z.return=b,b=z),T(b)):o(b,N)}return function(b,N,w,z){try{Ao=0;var oe=Xe(b,N,w,z);return Sl=null,oe}catch(ce){if(ce===go||ce===wa)throw ce;var De=$t(29,ce,null,b.mode);return De.lanes=z,De.return=b,De}finally{}}}var El=xd(!0),Ad=xd(!1),sn=H(null),Tn=null;function ii(e){var i=e.alternate;Q(Tt,Tt.current&1),Q(sn,e),Tn===null&&(i===null||vl.current!==null||i.memoizedState!==null)&&(Tn=e)}function Md(e){if(e.tag===22){if(Q(Tt,Tt.current),Q(sn,e),Tn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Tn=e)}}else li()}function li(){Q(Tt,Tt.current),Q(sn,sn.current)}function Gn(e){ee(sn),Tn===e&&(Tn=null),ee(Tt)}var Tt=H(0);function Ha(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Bu(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wr(e,i,o,r){i=e.memoizedState,o=o(r,i),o=o==null?i:v({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var jr={enqueueSetState:function(e,i,o){e=e._reactInternals;var r=Xt(),d=ei(r);d.payload=i,o!=null&&(d.callback=o),i=ti(e,d,r),i!==null&&(Qt(i,e,r),vo(i,e,r))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var r=Xt(),d=ei(r);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=ti(e,d,r),i!==null&&(Qt(i,e,r),vo(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Xt(),r=ei(o);r.tag=2,i!=null&&(r.callback=i),i=ti(e,r,o),i!==null&&(Qt(i,e,o),vo(i,e,o))}};function Nd(e,i,o,r,d,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,p,T):i.prototype&&i.prototype.isPureReactComponent?!so(o,r)||!so(d,p):!0}function Rd(e,i,o,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,r),i.state!==e&&jr.enqueueReplaceState(i,i.state,null)}function Bi(e,i){var o=i;if("ref"in i){o={};for(var r in i)r!=="ref"&&(o[r]=i[r])}if(e=e.defaultProps){o===i&&(o=v({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}var Fa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function bd(e){Fa(e)}function wd(e){console.error(e)}function Dd(e){Fa(e)}function Ya(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Id(e,i,o){try{var r=e.onCaughtError;r(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function eu(e,i,o){return o=ei(o),o.tag=3,o.payload={element:null},o.callback=function(){Ya(e,i)},o}function Ud(e){return e=ei(e),e.tag=3,e}function Od(e,i,o,r){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=r.value;e.payload=function(){return d(p)},e.callback=function(){Id(i,o,r)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Id(i,o,r),typeof d!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function zy(e,i,o,r,d){if(o.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=o.alternate,i!==null&&mo(i,o,d,!0),o=sn.current,o!==null){switch(o.tag){case 13:return Tn===null?xu():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=d,r===br?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([r]):i.add(r),Mu(e,r,d)),!1;case 22:return o.flags|=65536,r===br?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([r]):o.add(r)),Mu(e,r,d)),!1}throw Error(l(435,o.tag))}return Mu(e,r,d),xu(),!1}if(qe)return i=sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,r!==Sr&&(e=Error(l(422),{cause:r}),fo(nn(e,o)))):(r!==Sr&&(i=Error(l(423),{cause:r}),fo(nn(i,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,r=nn(r,o),d=eu(e.stateNode,r,d),Ir(e,d),ct!==4&&(ct=2)),!1;var p=Error(l(520),{cause:r});if(p=nn(p,o),Uo===null?Uo=[p]:Uo.push(p),ct!==4&&(ct=2),i===null)return!0;r=nn(r,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=eu(o.stateNode,r,e),Ir(o,e),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ci===null||!ci.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Ud(d),Od(d,e,o,r),Ir(o,d),!1}o=o.return}while(o!==null);return!1}var Ld=Error(l(461)),Ct=!1;function At(e,i,o,r){i.child=e===null?Ad(i,null,o,r):El(i,e.child,o,r)}function kd(e,i,o,r,d){o=o.render;var p=i.ref;if("ref"in r){var T={};for(var C in r)C!=="ref"&&(T[C]=r[C])}else T=r;return Pi(i),r=Vr(e,i,o,T,p,d),C=Pr(),e!==null&&!Ct?(Gr(e,i,d),zn(e,i,d)):(qe&&C&&Cr(i),i.flags|=1,At(e,i,r,d),i.child)}function Vd(e,i,o,r,d){if(e===null){var p=o.type;return typeof p=="function"&&!yr(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Pd(e,i,p,r,d)):(e=xa(o.type,null,r,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!ru(e,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:so,o(T,r)&&e.ref===i.ref)return zn(e,i,d)}return i.flags|=1,e=Un(p,r),e.ref=i.ref,e.return=i,i.child=e}function Pd(e,i,o,r,d){if(e!==null){var p=e.memoizedProps;if(so(p,r)&&e.ref===i.ref)if(Ct=!1,i.pendingProps=r=p,ru(e,d))(e.flags&131072)!==0&&(Ct=!0);else return i.lanes=e.lanes,zn(e,i,d)}return tu(e,i,o,r,d)}function Gd(e,i,o){var r=i.pendingProps,d=r.children,p=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=p!==null?p.baseLanes|o:o,e!==null){for(d=i.child=e.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~r}else i.childLanes=0,i.child=null;return zd(e,i,r,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ba(i,p!==null?p.cachePool:null),p!==null?Pf(i,p):Or(),Md(i);else return i.lanes=i.childLanes=536870912,zd(e,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(ba(i,p.cachePool),Pf(i,p),li(),i.memoizedState=null):(e!==null&&ba(i,null),Or(),li());return At(e,i,d,o),i.child}function zd(e,i,o,r){var d=Rr();return d=d===null?null:{parent:vt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},e!==null&&ba(i,null),Or(),Md(i),e!==null&&mo(e,i,r,!0),null}function $a(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(l(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function tu(e,i,o,r,d){return Pi(i),o=Vr(e,i,o,r,void 0,d),r=Pr(),e!==null&&!Ct?(Gr(e,i,d),zn(e,i,d)):(qe&&r&&Cr(i),i.flags|=1,At(e,i,o,d),i.child)}function Bd(e,i,o,r,d,p){return Pi(i),i.updateQueue=null,o=zf(i,r,o,d),Gf(e),r=Pr(),e!==null&&!Ct?(Gr(e,i,p),zn(e,i,p)):(qe&&r&&Cr(i),i.flags|=1,At(e,i,o,p),i.child)}function qd(e,i,o,r,d){if(Pi(i),i.stateNode===null){var p=ml,T=o.contextType;typeof T=="object"&&T!==null&&(p=wt(T)),p=new o(r,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jr,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=r,p.state=i.memoizedState,p.refs={},wr(i),T=o.contextType,p.context=typeof T=="object"&&T!==null?wt(T):ml,p.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Wr(i,o,T,r),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&jr.enqueueReplaceState(p,p.state,null),Co(i,r,p,d),To(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){p=i.stateNode;var C=i.memoizedProps,x=Bi(o,C);p.props=x;var D=p.context,P=o.contextType;T=ml,typeof P=="object"&&P!==null&&(T=wt(P));var q=o.getDerivedStateFromProps;P=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||D!==T)&&Rd(i,p,r,T),jn=!1;var I=i.memoizedState;p.state=I,Co(i,r,p,d),To(),D=i.memoizedState,C||I!==D||jn?(typeof q=="function"&&(Wr(i,o,q,r),D=i.memoizedState),(x=jn||Nd(i,o,x,r,I,D,T))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=D),p.props=r,p.state=D,p.context=T,r=x):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{p=i.stateNode,Dr(e,i),T=i.memoizedProps,P=Bi(o,T),p.props=P,q=i.pendingProps,I=p.context,D=o.contextType,x=ml,typeof D=="object"&&D!==null&&(x=wt(D)),C=o.getDerivedStateFromProps,(D=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==q||I!==x)&&Rd(i,p,r,x),jn=!1,I=i.memoizedState,p.state=I,Co(i,r,p,d),To();var U=i.memoizedState;T!==q||I!==U||jn||e!==null&&e.dependencies!==null&&Na(e.dependencies)?(typeof C=="function"&&(Wr(i,o,C,r),U=i.memoizedState),(P=jn||Nd(i,o,P,r,I,U,x)||e!==null&&e.dependencies!==null&&Na(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,U,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,U,x)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),p.props=r,p.state=U,p.context=x,r=P):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&I===e.memoizedState||(i.flags|=1024),r=!1)}return p=r,$a(e,i),r=(i.flags&128)!==0,p||r?(p=i.stateNode,o=r&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&r?(i.child=El(i,e.child,null,d),i.child=El(i,null,o,d)):At(e,i,o,d),i.memoizedState=p.state,e=i.child):e=zn(e,i,d),e}function Hd(e,i,o,r){return co(),i.flags|=256,At(e,i,o,r),i.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:wf()}}function lu(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=rn),e}function Fd(e,i,o){var r=i.pendingProps,d=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(qe){if(d?ii(i):li(),qe){var C=ut,x;if(x=C){e:{for(x=C,C=vn;x.nodeType!==8;){if(!C){C=null;break e}if(x=mn(x.nextSibling),x===null){C=null;break e}}C=x}C!==null?(i.memoizedState={dehydrated:C,treeContext:Ui!==null?{id:On,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},x=$t(18,null,null,0),x.stateNode=C,x.return=i,i.child=x,Lt=i,ut=null,x=!0):x=!1}x||ki(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Bu(C)?i.lanes=32:i.lanes=536870912,null;Gn(i)}return C=r.children,r=r.fallback,d?(li(),d=i.mode,C=Za({mode:"hidden",children:C},d),r=Ii(r,d,o,null),C.return=i,r.return=i,C.sibling=r,i.child=C,d=i.child,d.memoizedState=iu(o),d.childLanes=lu(e,T,o),i.memoizedState=nu,r):(ii(i),ou(i,C))}if(x=e.memoizedState,x!==null&&(C=x.dehydrated,C!==null)){if(p)i.flags&256?(ii(i),i.flags&=-257,i=au(e,i,o)):i.memoizedState!==null?(li(),i.child=e.child,i.flags|=128,i=null):(li(),d=r.fallback,C=i.mode,r=Za({mode:"visible",children:r.children},C),d=Ii(d,C,o,null),d.flags|=2,r.return=i,d.return=i,r.sibling=d,i.child=r,El(i,e.child,null,o),r=i.child,r.memoizedState=iu(o),r.childLanes=lu(e,T,o),i.memoizedState=nu,i=d);else if(ii(i),Bu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,r=Error(l(419)),r.stack="",r.digest=T,fo({value:r,source:null,stack:null}),i=au(e,i,o)}else if(Ct||mo(e,i,o,!1),T=(o&e.childLanes)!==0,Ct||T){if(T=et,T!==null&&(r=o&-o,r=(r&42)!==0?1:tl(r),r=(r&(T.suspendedLanes|o))!==0?0:r,r!==0&&r!==x.retryLane))throw x.retryLane=r,dl(e,r),Qt(T,e,r),Ld;C.data==="$?"||xu(),i=au(e,i,o)}else C.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ut=mn(C.nextSibling),Lt=i,qe=!0,Li=null,vn=!1,e!==null&&(on[an++]=On,on[an++]=Ln,on[an++]=Ui,On=e.id,Ln=e.overflow,Ui=i),i=ou(i,r.children),i.flags|=4096);return i}return d?(li(),d=r.fallback,C=i.mode,x=e.child,D=x.sibling,r=Un(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,D!==null?d=Un(D,d):(d=Ii(d,C,o,null),d.flags|=2),d.return=i,r.return=i,r.sibling=d,i.child=r,r=d,d=i.child,C=e.child.memoizedState,C===null?C=iu(o):(x=C.cachePool,x!==null?(D=vt._currentValue,x=x.parent!==D?{parent:D,pool:D}:x):x=wf(),C={baseLanes:C.baseLanes|o,cachePool:x}),d.memoizedState=C,d.childLanes=lu(e,T,o),i.memoizedState=nu,r):(ii(i),o=e.child,e=o.sibling,o=Un(o,{mode:"visible",children:r.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function ou(e,i){return i=Za({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Za(e,i){return e=$t(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function au(e,i,o){return El(i,e.child,null,o),e=ou(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Yd(e,i,o){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),xr(e.return,i,o)}function su(e,i,o,r,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:o,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=o,p.tailMode=d)}function $d(e,i,o){var r=i.pendingProps,d=r.revealOrder,p=r.tail;if(At(e,i,r.children,o),r=Tt.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,o,i);else if(e.tag===19)Yd(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Q(Tt,r),d){case"forwards":for(o=i.child,d=null;o!==null;)e=o.alternate,e!==null&&Ha(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),su(i,!1,d,o,p);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&Ha(e)===null){i.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}su(i,!0,o,null,p);break;case"together":su(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zn(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ui|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(mo(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,o=Un(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Un(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function ru(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Na(e)))}function By(e,i,o){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),Wn(i,vt,e.memoizedState.cache),co();break;case 27:case 5:Rn(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:Wn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(ii(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Fd(e,i,o):(ii(i),e=zn(e,i,o),e!==null?e.sibling:null);ii(i);break;case 19:var d=(e.flags&128)!==0;if(r=(o&i.childLanes)!==0,r||(mo(e,i,o,!1),r=(o&i.childLanes)!==0),d){if(r)return $d(e,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(Tt,Tt.current),r)break;return null;case 22:case 23:return i.lanes=0,Gd(e,i,o);case 24:Wn(i,vt,e.memoizedState.cache)}return zn(e,i,o)}function Zd(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ct=!0;else{if(!ru(e,o)&&(i.flags&128)===0)return Ct=!1,By(e,i,o);Ct=(e.flags&131072)!==0}else Ct=!1,qe&&(i.flags&1048576)!==0&&Ef(i,Ma,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var r=i.elementType,d=r._init;if(r=d(r._payload),i.type=r,typeof r=="function")yr(r)?(e=Bi(r,e),i.tag=1,i=qd(null,i,r,e,o)):(i.tag=0,i=tu(null,i,r,e,o));else{if(r!=null){if(d=r.$$typeof,d===Y){i.tag=11,i=kd(null,i,r,e,o);break e}else if(d===X){i.tag=14,i=Vd(null,i,r,e,o);break e}}throw i=Ze(r)||r,Error(l(306,i,""))}}return i;case 0:return tu(e,i,i.type,i.pendingProps,o);case 1:return r=i.type,d=Bi(r,i.pendingProps),qd(e,i,r,d,o);case 3:e:{if(Qe(i,i.stateNode.containerInfo),e===null)throw Error(l(387));r=i.pendingProps;var p=i.memoizedState;d=p.element,Dr(e,i),Co(i,r,null,o);var T=i.memoizedState;if(r=T.cache,Wn(i,vt,r),r!==p.cache&&Ar(i,[vt],o,!0),To(),r=T.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Hd(e,i,r,o);break e}else if(r!==d){d=nn(Error(l(424)),i),fo(d),i=Hd(e,i,r,o);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=mn(e.firstChild),Lt=i,qe=!0,Li=null,vn=!0,o=Ad(i,null,r,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(co(),r===d){i=zn(e,i,o);break e}At(e,i,r,o)}i=i.child}return i;case 26:return $a(e,i),e===null?(o=Qm(i.type,null,i.pendingProps,null))?i.memoizedState=o:qe||(o=i.type,e=i.pendingProps,r=ss(Se.current).createElement(o),r[yt]=i,r[bt]=e,Nt(r,o,e),Ne(r),i.stateNode=r):i.memoizedState=Qm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Rn(i),e===null&&qe&&(r=i.stateNode=Jm(i.type,i.pendingProps,Se.current),Lt=i,vn=!0,d=ut,mi(i.type)?(qu=d,ut=mn(r.firstChild)):ut=d),At(e,i,i.pendingProps.children,o),$a(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qe&&((d=r=ut)&&(r=hv(r,i.type,i.pendingProps,vn),r!==null?(i.stateNode=r,Lt=i,ut=mn(r.firstChild),vn=!1,d=!0):d=!1),d||ki(i)),Rn(i),d=i.type,p=i.pendingProps,T=e!==null?e.memoizedProps:null,r=p.children,Pu(d,p)?r=null:T!==null&&Pu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Vr(e,i,Uy,null,null,o),qo._currentValue=d),$a(e,i),At(e,i,r,o),i.child;case 6:return e===null&&qe&&((e=o=ut)&&(o=gv(o,i.pendingProps,vn),o!==null?(i.stateNode=o,Lt=i,ut=null,e=!0):e=!1),e||ki(i)),null;case 13:return Fd(e,i,o);case 4:return Qe(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=El(i,null,r,o):At(e,i,r,o),i.child;case 11:return kd(e,i,i.type,i.pendingProps,o);case 7:return At(e,i,i.pendingProps,o),i.child;case 8:return At(e,i,i.pendingProps.children,o),i.child;case 12:return At(e,i,i.pendingProps.children,o),i.child;case 10:return r=i.pendingProps,Wn(i,i.type,r.value),At(e,i,r.children,o),i.child;case 9:return d=i.type._context,r=i.pendingProps.children,Pi(i),d=wt(d),r=r(d),i.flags|=1,At(e,i,r,o),i.child;case 14:return Vd(e,i,i.type,i.pendingProps,o);case 15:return Pd(e,i,i.type,i.pendingProps,o);case 19:return $d(e,i,o);case 31:return r=i.pendingProps,o=i.mode,r={mode:r.mode,children:r.children},e===null?(o=Za(r,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Un(e.child,r),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Gd(e,i,o);case 24:return Pi(i),r=wt(vt),e===null?(d=Rr(),d===null&&(d=et,p=Mr(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),i.memoizedState={parent:r,cache:d},wr(i),Wn(i,vt,d)):((e.lanes&o)!==0&&(Dr(e,i),Co(i,null,null,o),To()),d=e.memoizedState,p=i.memoizedState,d.parent!==r?(d={parent:r,cache:r},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Wn(i,vt,r)):(r=p.cache,Wn(i,vt,r),r!==d.cache&&Ar(i,[vt],o,!0))),At(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Bn(e){e.flags|=4}function Jd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!np(i)){if(i=sn.current,i!==null&&((Pe&4194048)===Pe?Tn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||i!==Tn))throw yo=br,Df;e.flags|=8192}}function Ja(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?aa():536870912,e.lanes|=i,Nl|=i)}function No(e,i){if(!qe)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,r=0;if(i)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,r|=d.subtreeFlags&65011712,r|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,r|=d.subtreeFlags,r|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=r,e.childLanes=o,i}function qy(e,i,o){var r=i.pendingProps;switch(_r(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return o=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Vn(vt),Pt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(uo(i)?Bn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),st(i),null;case 26:return o=i.memoizedState,e===null?(Bn(i),o!==null?(st(i),Jd(i,o)):(st(i),i.flags&=-16777217)):o?o!==e.memoizedState?(Bn(i),st(i),Jd(i,o)):(st(i),i.flags&=-16777217):(e.memoizedProps!==r&&Bn(i),st(i),i.flags&=-16777217),null;case 27:bn(i),o=Se.current;var d=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Bn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return st(i),null}e=me.current,uo(i)?xf(i):(e=Jm(d,r,o),i.stateNode=e,Bn(i))}return st(i),null;case 5:if(bn(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Bn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return st(i),null}if(e=me.current,uo(i))xf(i);else{switch(d=ss(Se.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?d.createElement(o,{is:r.is}):d.createElement(o)}}e[yt]=i,e[bt]=r;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=e;e:switch(Nt(e,o,r),o){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Bn(i)}}return st(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&Bn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(e=Se.current,uo(i)){if(e=i.stateNode,o=i.memoizedProps,r=null,d=Lt,d!==null)switch(d.tag){case 27:case 5:r=d.memoizedProps}e[yt]=i,e=!!(e.nodeValue===o||r!==null&&r.suppressHydrationWarning===!0||Bm(e.nodeValue,o)),e||ki(i)}else e=ss(e).createTextNode(r),e[yt]=i,i.stateNode=e}return st(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=uo(i),r!==null&&r.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[yt]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else d=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Gn(i),i):(Gn(i),null)}if(Gn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=r!==null,e=e!==null&&e.memoizedState!==null,o){r=i.child,d=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(d=r.alternate.memoizedState.cachePool.pool);var p=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==d&&(r.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),Ja(i,i.updateQueue),st(i),null;case 4:return Pt(),e===null&&Uu(i.stateNode.containerInfo),st(i),null;case 10:return Vn(i.type),st(i),null;case 19:if(ee(Tt),d=i.memoizedState,d===null)return st(i),null;if(r=(i.flags&128)!==0,p=d.rendering,p===null)if(r)No(d,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=Ha(e),p!==null){for(i.flags|=128,No(d,!1),e=p.updateQueue,i.updateQueue=e,Ja(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Sf(o,e),o=o.sibling;return Q(Tt,Tt.current&1|2),i.child}e=e.sibling}d.tail!==null&&It()>Qa&&(i.flags|=128,r=!0,No(d,!1),i.lanes=4194304)}else{if(!r)if(e=Ha(p),e!==null){if(i.flags|=128,r=!0,e=e.updateQueue,i.updateQueue=e,Ja(i,e),No(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!qe)return st(i),null}else 2*It()-d.renderingStartTime>Qa&&o!==536870912&&(i.flags|=128,r=!0,No(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(e=d.last,e!==null?e.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=It(),i.sibling=null,e=Tt.current,Q(Tt,r?e&1|2:e&1),i):(st(i),null);case 22:case 23:return Gn(i),Lr(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(o&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),o=i.updateQueue,o!==null&&Ja(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(i.flags|=2048),e!==null&&ee(Gi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vn(vt),st(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Hy(e,i){switch(_r(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Vn(vt),Pt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return bn(i),null;case 13:if(Gn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));co()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ee(Tt),null;case 4:return Pt(),null;case 10:return Vn(i.type),null;case 22:case 23:return Gn(i),Lr(),e!==null&&ee(Gi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Vn(vt),null;case 25:return null;default:return null}}function Kd(e,i){switch(_r(i),i.tag){case 3:Vn(vt),Pt();break;case 26:case 27:case 5:bn(i);break;case 4:Pt();break;case 13:Gn(i);break;case 19:ee(Tt);break;case 10:Vn(i.type);break;case 22:case 23:Gn(i),Lr(),e!==null&&ee(Gi);break;case 24:Vn(vt)}}function Ro(e,i){try{var o=i.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var d=r.next;o=d;do{if((o.tag&e)===e){r=void 0;var p=o.create,T=o.inst;r=p(),T.destroy=r}o=o.next}while(o!==d)}}catch(C){je(i,i.return,C)}}function oi(e,i,o){try{var r=i.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var p=d.next;r=p;do{if((r.tag&e)===e){var T=r.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var x=o,D=C;try{D()}catch(P){je(d,x,P)}}}r=r.next}while(r!==p)}}catch(P){je(i,i.return,P)}}function Xd(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Vf(i,o)}catch(r){je(e,e.return,r)}}}function Qd(e,i,o){o.props=Bi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(r){je(e,i,r)}}function bo(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof o=="function"?e.refCleanup=o(r):o.current=r}}catch(d){je(e,i,d)}}function Cn(e,i){var o=e.ref,r=e.refCleanup;if(o!==null)if(typeof r=="function")try{r()}catch(d){je(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){je(e,i,d)}else o.current=null}function Wd(e){var i=e.type,o=e.memoizedProps,r=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break e;case"img":o.src?r.src=o.src:o.srcSet&&(r.srcset=o.srcSet)}}catch(d){je(e,e.return,d)}}function uu(e,i,o){try{var r=e.stateNode;cv(r,e.type,o,i),r[bt]=i}catch(d){je(e,e.return,d)}}function jd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,i,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=as));else if(r!==4&&(r===27&&mi(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(fu(e,i,o),e=e.sibling;e!==null;)fu(e,i,o),e=e.sibling}function Ka(e,i,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(r!==4&&(r===27&&mi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ka(e,i,o),e=e.sibling;e!==null;)Ka(e,i,o),e=e.sibling}function em(e){var i=e.stateNode,o=e.memoizedProps;try{for(var r=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Nt(i,r,o),i[yt]=e,i[bt]=o}catch(p){je(e,e.return,p)}}var qn=!1,dt=!1,du=!1,tm=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Fy(e,i){if(e=e.containerInfo,ku=ms,e=df(e),cr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var r=o.getSelection&&o.getSelection();if(r&&r.rangeCount!==0){o=r.anchorNode;var d=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,C=-1,x=-1,D=0,P=0,q=e,I=null;t:for(;;){for(var U;q!==o||d!==0&&q.nodeType!==3||(C=T+d),q!==p||r!==0&&q.nodeType!==3||(x=T+r),q.nodeType===3&&(T+=q.nodeValue.length),(U=q.firstChild)!==null;)I=q,q=U;for(;;){if(q===e)break t;if(I===o&&++D===d&&(C=T),I===p&&++P===r&&(x=T),(U=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=U}o=C===-1||x===-1?null:{start:C,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vu={focusedElem:e,selectionRange:o},ms=!1,_t=i;_t!==null;)if(i=_t,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,_t=e;else for(;_t!==null;){switch(i=_t,p=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=i,d=p.memoizedProps,p=p.memoizedState,r=o.stateNode;try{var Ce=Bi(o.type,d,o.elementType===o.type);e=r.getSnapshotBeforeUpdate(Ce,p),r.__reactInternalSnapshotBeforeUpdate=e}catch(ge){je(o,o.return,ge)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)zu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,_t=e;break}_t=i.return}}function nm(e,i,o){var r=o.flags;switch(o.tag){case 0:case 11:case 15:ai(e,o),r&4&&Ro(5,o);break;case 1:if(ai(e,o),r&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){je(o,o.return,T)}else{var d=Bi(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){je(o,o.return,T)}}r&64&&Xd(o),r&512&&bo(o,o.return);break;case 3:if(ai(e,o),r&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Vf(e,i)}catch(T){je(o,o.return,T)}}break;case 27:i===null&&r&4&&em(o);case 26:case 5:ai(e,o),i===null&&r&4&&Wd(o),r&512&&bo(o,o.return);break;case 12:ai(e,o);break;case 13:ai(e,o),r&4&&om(e,o),r&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=jy.bind(null,o),yv(e,o))));break;case 22:if(r=o.memoizedState!==null||qn,!r){i=i!==null&&i.memoizedState!==null||dt,d=qn;var p=dt;qn=r,(dt=i)&&!p?si(e,o,(o.subtreeFlags&8772)!==0):ai(e,o),qn=d,dt=p}break;case 30:break;default:ai(e,o)}}function im(e){var i=e.alternate;i!==null&&(e.alternate=null,im(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&L(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,Bt=!1;function Hn(e,i,o){for(o=o.child;o!==null;)lm(e,i,o),o=o.sibling}function lm(e,i,o){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ai,o)}catch{}switch(o.tag){case 26:dt||Cn(o,i),Hn(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:dt||Cn(o,i);var r=it,d=Bt;mi(o.type)&&(it=o.stateNode,Bt=!1),Hn(e,i,o),Po(o.stateNode),it=r,Bt=d;break;case 5:dt||Cn(o,i);case 6:if(r=it,d=Bt,it=null,Hn(e,i,o),it=r,Bt=d,it!==null)if(Bt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(o.stateNode)}catch(p){je(o,i,p)}else try{it.removeChild(o.stateNode)}catch(p){je(o,i,p)}break;case 18:it!==null&&(Bt?(e=it,$m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),$o(e)):$m(it,o.stateNode));break;case 4:r=it,d=Bt,it=o.stateNode.containerInfo,Bt=!0,Hn(e,i,o),it=r,Bt=d;break;case 0:case 11:case 14:case 15:dt||oi(2,o,i),dt||oi(4,o,i),Hn(e,i,o);break;case 1:dt||(Cn(o,i),r=o.stateNode,typeof r.componentWillUnmount=="function"&&Qd(o,i,r)),Hn(e,i,o);break;case 21:Hn(e,i,o);break;case 22:dt=(r=dt)||o.memoizedState!==null,Hn(e,i,o),dt=r;break;default:Hn(e,i,o)}}function om(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$o(e)}catch(o){je(i,i.return,o)}}function Yy(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new tm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new tm),i;default:throw Error(l(435,e.tag))}}function mu(e,i){var o=Yy(e);i.forEach(function(r){var d=ev.bind(null,e,r);o.has(r)||(o.add(r),r.then(d,d))})}function Zt(e,i){var o=i.deletions;if(o!==null)for(var r=0;r<o.length;r++){var d=o[r],p=e,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(mi(C.type)){it=C.stateNode,Bt=!1;break e}break;case 5:it=C.stateNode,Bt=!1;break e;case 3:case 4:it=C.stateNode.containerInfo,Bt=!0;break e}C=C.return}if(it===null)throw Error(l(160));lm(p,T,d),it=null,Bt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)am(i,e),i=i.sibling}var dn=null;function am(e,i){var o=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(i,e),Jt(e),r&4&&(oi(3,e,e.return),Ro(3,e),oi(5,e,e.return));break;case 1:Zt(i,e),Jt(e),r&512&&(dt||o===null||Cn(o,o.return)),r&64&&qn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?r:o.concat(r))));break;case 26:var d=dn;if(Zt(i,e),Jt(e),r&512&&(dt||o===null||Cn(o,o.return)),r&4){var p=o!==null?o.memoizedState:null;if(r=e.memoizedState,o===null)if(r===null)if(e.stateNode===null){e:{r=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(r){case"title":p=d.getElementsByTagName("title")[0],(!p||p[M]||p[yt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(r),d.head.insertBefore(p,d.querySelector("head > title"))),Nt(p,r,o),p[yt]=e,Ne(p),r=p;break e;case"link":var T=ep("link","href",d).get(r+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}p=d.createElement(r),Nt(p,r,o),d.head.appendChild(p);break;case"meta":if(T=ep("meta","content",d).get(r+(o.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}p=d.createElement(r),Nt(p,r,o),d.head.appendChild(p);break;default:throw Error(l(468,r))}p[yt]=e,Ne(p),r=p}e.stateNode=r}else tp(d,e.type,e.stateNode);else e.stateNode=jm(d,r,e.memoizedProps);else p!==r?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,r===null?tp(d,e.type,e.stateNode):jm(d,r,e.memoizedProps)):r===null&&e.stateNode!==null&&uu(e,e.memoizedProps,o.memoizedProps)}break;case 27:Zt(i,e),Jt(e),r&512&&(dt||o===null||Cn(o,o.return)),o!==null&&r&4&&uu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Zt(i,e),Jt(e),r&512&&(dt||o===null||Cn(o,o.return)),e.flags&32){d=e.stateNode;try{ol(d,"")}catch(U){je(e,e.return,U)}}r&4&&e.stateNode!=null&&(d=e.memoizedProps,uu(e,d,o!==null?o.memoizedProps:d)),r&1024&&(du=!0);break;case 6:if(Zt(i,e),Jt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,o=e.stateNode;try{o.nodeValue=r}catch(U){je(e,e.return,U)}}break;case 3:if(cs=null,d=dn,dn=rs(i.containerInfo),Zt(i,e),dn=d,Jt(e),r&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(U){je(e,e.return,U)}du&&(du=!1,sm(e));break;case 4:r=dn,dn=rs(e.stateNode.containerInfo),Zt(i,e),Jt(e),dn=r;break;case 12:Zt(i,e),Jt(e);break;case 13:Zt(i,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tu=It()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,mu(e,r)));break;case 22:d=e.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,D=qn,P=dt;if(qn=D||d,dt=P||x,Zt(i,e),dt=P,qn=D,Jt(e),r&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||x||qn||dt||qi(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){x=o=i;try{if(p=x.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=x.stateNode;var q=x.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(U){je(x,x.return,U)}}}else if(i.tag===6){if(o===null){x=i;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(U){je(x,x.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(o=r.retryQueue,o!==null&&(r.retryQueue=null,mu(e,o))));break;case 19:Zt(i,e),Jt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,mu(e,r)));break;case 30:break;case 21:break;default:Zt(i,e),Jt(e)}}function Jt(e){var i=e.flags;if(i&2){try{for(var o,r=e.return;r!==null;){if(jd(r)){o=r;break}r=r.return}if(o==null)throw Error(l(160));switch(o.tag){case 27:var d=o.stateNode,p=cu(e);Ka(e,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(ol(T,""),o.flags&=-33);var C=cu(e);Ka(e,C,T);break;case 3:case 4:var x=o.stateNode.containerInfo,D=cu(e);fu(e,D,x);break;default:throw Error(l(161))}}catch(P){je(e,e.return,P)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function sm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;sm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ai(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nm(e,i.alternate,i),i=i.sibling}function qi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:oi(4,i,i.return),qi(i);break;case 1:Cn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Qd(i,i.return,o),qi(i);break;case 27:Po(i.stateNode);case 26:case 5:Cn(i,i.return),qi(i);break;case 22:i.memoizedState===null&&qi(i);break;case 30:qi(i);break;default:qi(i)}e=e.sibling}}function si(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,d=e,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:si(d,p,o),Ro(4,p);break;case 1:if(si(d,p,o),r=p,d=r.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){je(r,r.return,D)}if(r=p,d=r.updateQueue,d!==null){var C=r.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)kf(x[d],C)}catch(D){je(r,r.return,D)}}o&&T&64&&Xd(p),bo(p,p.return);break;case 27:em(p);case 26:case 5:si(d,p,o),o&&r===null&&T&4&&Wd(p),bo(p,p.return);break;case 12:si(d,p,o);break;case 13:si(d,p,o),o&&T&4&&om(d,p);break;case 22:p.memoizedState===null&&si(d,p,o),bo(p,p.return);break;case 30:break;default:si(d,p,o)}i=i.sibling}}function pu(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&po(o))}function hu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&po(e))}function _n(e,i,o,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rm(e,i,o,r),i=i.sibling}function rm(e,i,o,r){var d=i.flags;switch(i.tag){case 0:case 11:case 15:_n(e,i,o,r),d&2048&&Ro(9,i);break;case 1:_n(e,i,o,r);break;case 3:_n(e,i,o,r),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&po(e)));break;case 12:if(d&2048){_n(e,i,o,r),e=i.stateNode;try{var p=i.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){je(i,i.return,x)}}else _n(e,i,o,r);break;case 13:_n(e,i,o,r);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?_n(e,i,o,r):wo(e,i):p._visibility&2?_n(e,i,o,r):(p._visibility|=2,xl(e,i,o,r,(i.subtreeFlags&10256)!==0)),d&2048&&pu(T,i);break;case 24:_n(e,i,o,r),d&2048&&hu(i.alternate,i);break;default:_n(e,i,o,r)}}function xl(e,i,o,r,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=e,T=i,C=o,x=r,D=T.flags;switch(T.tag){case 0:case 11:case 15:xl(p,T,C,x,d),Ro(8,T);break;case 23:break;case 22:var P=T.stateNode;T.memoizedState!==null?P._visibility&2?xl(p,T,C,x,d):wo(p,T):(P._visibility|=2,xl(p,T,C,x,d)),d&&D&2048&&pu(T.alternate,T);break;case 24:xl(p,T,C,x,d),d&&D&2048&&hu(T.alternate,T);break;default:xl(p,T,C,x,d)}i=i.sibling}}function wo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,r=i,d=r.flags;switch(r.tag){case 22:wo(o,r),d&2048&&pu(r.alternate,r);break;case 24:wo(o,r),d&2048&&hu(r.alternate,r);break;default:wo(o,r)}i=i.sibling}}var Do=8192;function Al(e){if(e.subtreeFlags&Do)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 26:Al(e),e.flags&Do&&e.memoizedState!==null&&wv(dn,e.memoizedState,e.memoizedProps);break;case 5:Al(e);break;case 3:case 4:var i=dn;dn=rs(e.stateNode.containerInfo),Al(e),dn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Do,Do=16777216,Al(e),Do=i):Al(e));break;default:Al(e)}}function cm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Io(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var r=i[o];_t=r,dm(r,e)}cm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fm(e),e=e.sibling}function fm(e){switch(e.tag){case 0:case 11:case 15:Io(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Io(e);break;case 12:Io(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xa(e)):Io(e);break;default:Io(e)}}function Xa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var r=i[o];_t=r,dm(r,e)}cm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:oi(8,i,i.return),Xa(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Xa(i));break;default:Xa(i)}e=e.sibling}}function dm(e,i){for(;_t!==null;){var o=_t;switch(o.tag){case 0:case 11:case 15:oi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var r=o.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:po(o.memoizedState.cache)}if(r=o.child,r!==null)r.return=o,_t=r;else e:for(o=e;_t!==null;){r=_t;var d=r.sibling,p=r.return;if(im(r),r===o){_t=null;break e}if(d!==null){d.return=p,_t=d;break e}_t=p}}}var $y={getCacheForType:function(e){var i=wt(vt),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},Zy=typeof WeakMap=="function"?WeakMap:Map,Ye=0,et=null,Ue=null,Pe=0,$e=0,Kt=null,ri=!1,Ml=!1,gu=!1,Fn=0,ct=0,ui=0,Hi=0,yu=0,rn=0,Nl=0,Uo=null,qt=null,vu=!1,Tu=0,Qa=1/0,Wa=null,ci=null,Mt=0,fi=null,Rl=null,bl=0,Cu=0,_u=null,mm=null,Oo=0,Su=null;function Xt(){if((Ye&2)!==0&&Pe!==0)return Pe&-Pe;if(k.T!==null){var e=gl;return e!==0?e:bu()}return ua()}function pm(){rn===0&&(rn=(Pe&536870912)===0||qe?oa():536870912);var e=sn.current;return e!==null&&(e.flags|=32),rn}function Qt(e,i,o){(e===et&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(wl(e,0),di(e,Pe,rn,!1)),Ri(e,o),((Ye&2)===0||e!==et)&&(e===et&&((Ye&2)===0&&(Hi|=o),ct===4&&di(e,Pe,rn,!1)),Sn(e))}function hm(e,i,o){if((Ye&6)!==0)throw Error(l(327));var r=!o&&(i&124)===0&&(i&e.expiredLanes)===0||Ni(e,i),d=r?Xy(e,i):Au(e,i,!0),p=r;do{if(d===0){Ml&&!r&&di(e,i,0,!1);break}else{if(o=e.current.alternate,p&&!Jy(o)){d=Au(e,i,!1),p=!1;continue}if(d===2){if(p=i,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=e;d=Uo;var x=C.current.memoizedState.isDehydrated;if(x&&(wl(C,T).flags|=256),T=Au(C,T,!1),T!==2){if(gu&&!x){C.errorRecoveryDisabledLanes|=p,Hi|=p,d=4;break e}p=qt,qt=d,p!==null&&(qt===null?qt=p:qt.push.apply(qt,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){wl(e,0),di(e,i,0,!0);break}e:{switch(r=e,p=d,p){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:di(r,i,rn,!ri);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Tu+300-It(),10<d)){if(di(r,i,rn,!ri),el(r,0,!0)!==0)break e;r.timeoutHandle=Fm(gm.bind(null,r,o,qt,Wa,vu,i,rn,Hi,Nl,ri,p,2,-0,0),d);break e}gm(r,o,qt,Wa,vu,i,rn,Hi,Nl,ri,p,0,-0,0)}}break}while(!0);Sn(e)}function gm(e,i,o,r,d,p,T,C,x,D,P,q,I,U){if(e.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Bo={stylesheets:null,count:0,unsuspend:bv},um(i),q=Dv(),q!==null)){e.cancelPendingCommit=q(Em.bind(null,e,i,p,o,r,d,T,C,x,P,1,I,U)),di(e,p,T,!D);return}Em(e,i,p,o,r,d,T,C,x)}function Jy(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var r=0;r<o.length;r++){var d=o[r],p=d.getSnapshot;d=d.value;try{if(!Yt(p(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function di(e,i,o,r){i&=~yu,i&=~Hi,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var d=i;0<d;){var p=31-Rt(d),T=1<<p;r[p]=-1,d&=~T}o!==0&&sa(e,o,i)}function ja(){return(Ye&6)===0?(Lo(0),!1):!0}function Eu(){if(Ue!==null){if($e===0)var e=Ue.return;else e=Ue,kn=Vi=null,zr(e),Sl=null,Ao=0,e=Ue;for(;e!==null;)Kd(e.alternate,e),e=e.return;Ue=null}}function wl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,dv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Eu(),et=e,Ue=o=Un(e.current,null),Pe=i,$e=0,Kt=null,ri=!1,Ml=Ni(e,i),gu=!1,Nl=rn=yu=Hi=ui=ct=0,qt=Uo=null,vu=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var d=31-Rt(r),p=1<<d;i|=e[d],r&=~p}return Fn=i,_a(),o}function ym(e,i){we=null,k.H=za,i===go||i===wa?(i=Of(),$e=3):i===Df?(i=Of(),$e=4):$e=i===Ld?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kt=i,Ue===null&&(ct=1,Ya(e,nn(i,e.current)))}function vm(){var e=k.H;return k.H=za,e===null?za:e}function Tm(){var e=k.A;return k.A=$y,e}function xu(){ct=4,ri||(Pe&4194048)!==Pe&&sn.current!==null||(Ml=!0),(ui&134217727)===0&&(Hi&134217727)===0||et===null||di(et,Pe,rn,!1)}function Au(e,i,o){var r=Ye;Ye|=2;var d=vm(),p=Tm();(et!==e||Pe!==i)&&(Wa=null,wl(e,i)),i=!1;var T=ct;e:do try{if($e!==0&&Ue!==null){var C=Ue,x=Kt;switch($e){case 8:Eu(),T=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(i=!0);var D=$e;if($e=0,Kt=null,Dl(e,C,x,D),o&&Ml){T=0;break e}break;default:D=$e,$e=0,Kt=null,Dl(e,C,x,D)}}Ky(),T=ct;break}catch(P){ym(e,P)}while(!0);return i&&e.shellSuspendCounter++,kn=Vi=null,Ye=r,k.H=d,k.A=p,Ue===null&&(et=null,Pe=0,_a()),T}function Ky(){for(;Ue!==null;)Cm(Ue)}function Xy(e,i){var o=Ye;Ye|=2;var r=vm(),d=Tm();et!==e||Pe!==i?(Wa=null,Qa=It()+500,wl(e,i)):Ml=Ni(e,i);e:do try{if($e!==0&&Ue!==null){i=Ue;var p=Kt;t:switch($e){case 1:$e=0,Kt=null,Dl(e,i,p,1);break;case 2:case 9:if(If(p)){$e=0,Kt=null,_m(i);break}i=function(){$e!==2&&$e!==9||et!==e||($e=7),Sn(e)},p.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:If(p)?($e=0,Kt=null,_m(i)):($e=0,Kt=null,Dl(e,i,p,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var C=Ue;if(!T||np(T)){$e=0,Kt=null;var x=C.sibling;if(x!==null)Ue=x;else{var D=C.return;D!==null?(Ue=D,es(D)):Ue=null}break t}}$e=0,Kt=null,Dl(e,i,p,5);break;case 6:$e=0,Kt=null,Dl(e,i,p,6);break;case 8:Eu(),ct=6;break e;default:throw Error(l(462))}}Qy();break}catch(P){ym(e,P)}while(!0);return kn=Vi=null,k.H=r,k.A=d,Ye=o,Ue!==null?0:(et=null,Pe=0,_a(),ct)}function Qy(){for(;Ue!==null&&!Xl();)Cm(Ue)}function Cm(e){var i=Zd(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,i===null?es(e):Ue=i}function _m(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Bd(o,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Bd(o,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:zr(i);default:Kd(o,i),i=Ue=Sf(i,Fn),i=Zd(o,i,Fn)}e.memoizedProps=e.pendingProps,i===null?es(e):Ue=i}function Dl(e,i,o,r){kn=Vi=null,zr(i),Sl=null,Ao=0;var d=i.return;try{if(zy(e,d,i,o,Pe)){ct=1,Ya(e,nn(o,e.current)),Ue=null;return}}catch(p){if(d!==null)throw Ue=d,p;ct=1,Ya(e,nn(o,e.current)),Ue=null;return}i.flags&32768?(qe||r===1?e=!0:Ml||(Pe&536870912)!==0?e=!1:(ri=e=!0,(r===2||r===9||r===3||r===6)&&(r=sn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Sm(i,e)):es(i)}function es(e){var i=e;do{if((i.flags&32768)!==0){Sm(i,ri);return}e=i.return;var o=qy(i.alternate,i,Fn);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=e}while(i!==null);ct===0&&(ct=5)}function Sm(e,i){do{var o=Hy(e.alternate,e);if(o!==null){o.flags&=32767,Ue=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=o}while(e!==null);ct=6,Ue=null}function Em(e,i,o,r,d,p,T,C,x){e.cancelPendingCommit=null;do ts();while(Mt!==0);if((Ye&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(p=i.lanes|i.childLanes,p|=hr,Fs(e,o,p,T,C,x),e===et&&(Ue=et=null,Pe=0),Rl=i,fi=e,bl=o,Cu=p,_u=d,mm=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tv(wn,function(){return Rm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,d=K.p,K.p=2,T=Ye,Ye|=4;try{Fy(e,i,o)}finally{Ye=T,K.p=d,k.T=r}}Mt=1,xm(),Am(),Mm()}}function xm(){if(Mt===1){Mt=0;var e=fi,i=Rl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var r=K.p;K.p=2;var d=Ye;Ye|=4;try{am(i,e);var p=Vu,T=df(e.containerInfo),C=p.focusedElem,x=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&ff(C.ownerDocument.documentElement,C)){if(x!==null&&cr(C)){var D=x.start,P=x.end;if(P===void 0&&(P=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(P,C.value.length);else{var q=C.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var U=I.getSelection(),Ce=C.textContent.length,ge=Math.min(x.start,Ce),Xe=x.end===void 0?ge:Math.min(x.end,Ce);!U.extend&&ge>Xe&&(T=Xe,Xe=ge,ge=T);var b=cf(C,ge),N=cf(C,Xe);if(b&&N&&(U.rangeCount!==1||U.anchorNode!==b.node||U.anchorOffset!==b.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var w=q.createRange();w.setStart(b.node,b.offset),U.removeAllRanges(),ge>Xe?(U.addRange(w),U.extend(N.node,N.offset)):(w.setEnd(N.node,N.offset),U.addRange(w))}}}}for(q=[],U=C;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<q.length;C++){var z=q[C];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ms=!!ku,Vu=ku=null}finally{Ye=d,K.p=r,k.T=o}}e.current=i,Mt=2}}function Am(){if(Mt===2){Mt=0;var e=fi,i=Rl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var r=K.p;K.p=2;var d=Ye;Ye|=4;try{nm(e,i.alternate,i)}finally{Ye=d,K.p=r,k.T=o}}Mt=3}}function Mm(){if(Mt===4||Mt===3){Mt=0,Wt();var e=fi,i=Rl,o=bl,r=mm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Rl=fi=null,Nm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ci=null),Wl(o),i=i.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ai,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=k.T,d=K.p,K.p=2,k.T=null;try{for(var p=e.onRecoverableError,T=0;T<r.length;T++){var C=r[T];p(C.value,{componentStack:C.stack})}}finally{k.T=i,K.p=d}}(bl&3)!==0&&ts(),Sn(e),d=e.pendingLanes,(o&4194090)!==0&&(d&42)!==0?e===Su?Oo++:(Oo=0,Su=e):Oo=0,Lo(0)}}function Nm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,po(i)))}function ts(e){return xm(),Am(),Mm(),Rm()}function Rm(){if(Mt!==5)return!1;var e=fi,i=Cu;Cu=0;var o=Wl(bl),r=k.T,d=K.p;try{K.p=32>o?32:o,k.T=null,o=_u,_u=null;var p=fi,T=bl;if(Mt=0,Rl=fi=null,bl=0,(Ye&6)!==0)throw Error(l(331));var C=Ye;if(Ye|=4,fm(p.current),rm(p,p.current,T,o),Ye=C,Lo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ai,p)}catch{}return!0}finally{K.p=d,k.T=r,Nm(e,i)}}function bm(e,i,o){i=nn(o,i),i=eu(e.stateNode,i,2),e=ti(e,i,2),e!==null&&(Ri(e,2),Sn(e))}function je(e,i,o){if(e.tag===3)bm(e,e,o);else for(;i!==null;){if(i.tag===3){bm(i,e,o);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){e=nn(o,e),o=Ud(2),r=ti(i,o,2),r!==null&&(Od(o,r,i,e),Ri(r,2),Sn(r));break}}i=i.return}}function Mu(e,i,o){var r=e.pingCache;if(r===null){r=e.pingCache=new Zy;var d=new Set;r.set(i,d)}else d=r.get(i),d===void 0&&(d=new Set,r.set(i,d));d.has(o)||(gu=!0,d.add(o),e=Wy.bind(null,e,i,o),i.then(e,e))}function Wy(e,i,o){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,et===e&&(Pe&o)===o&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>It()-Tu?(Ye&2)===0&&wl(e,0):yu|=o,Nl===Pe&&(Nl=0)),Sn(e)}function wm(e,i){i===0&&(i=aa()),e=dl(e,i),e!==null&&(Ri(e,i),Sn(e))}function jy(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),wm(e,o)}function ev(e,i){var o=0;switch(e.tag){case 13:var r=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),wm(e,o)}function tv(e,i){return hn(e,i)}var ns=null,Il=null,Nu=!1,is=!1,Ru=!1,Fi=0;function Sn(e){e!==Il&&e.next===null&&(Il===null?ns=Il=e:Il=Il.next=e),is=!0,Nu||(Nu=!0,iv())}function Lo(e,i){if(!Ru&&is){Ru=!0;do for(var o=!1,r=ns;r!==null;){if(e!==0){var d=r.pendingLanes;if(d===0)var p=0;else{var T=r.suspendedLanes,C=r.pingedLanes;p=(1<<31-Rt(42|e)+1)-1,p&=d&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Om(r,p))}else p=Pe,p=el(r,r===et?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||Ni(r,p)||(o=!0,Om(r,p));r=r.next}while(o);Ru=!1}}function nv(){Dm()}function Dm(){is=Nu=!1;var e=0;Fi!==0&&(fv()&&(e=Fi),Fi=0);for(var i=It(),o=null,r=ns;r!==null;){var d=r.next,p=Im(r,i);p===0?(r.next=null,o===null?ns=d:o.next=d,d===null&&(Il=o)):(o=r,(e!==0||(p&3)!==0)&&(is=!0)),r=d}Lo(e)}function Im(e,i){for(var o=e.suspendedLanes,r=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Rt(p),C=1<<T,x=d[T];x===-1?((C&o)===0||(C&r)!==0)&&(d[T]=Hs(C,i)):x<=i&&(e.expiredLanes|=C),p&=~C}if(i=et,o=Pe,o=el(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,o===0||e===i&&($e===2||$e===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ei(r),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ni(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(r!==null&&Ei(r),Wl(o)){case 2:case 8:o=Xi;break;case 32:o=wn;break;case 268435456:o=ie;break;default:o=wn}return r=Um.bind(null,e),o=hn(o,r),e.callbackPriority=i,e.callbackNode=o,i}return r!==null&&r!==null&&Ei(r),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,i){if(Mt!==0&&Mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ts()&&e.callbackNode!==o)return null;var r=Pe;return r=el(e,e===et?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(hm(e,r,i),Im(e,It()),e.callbackNode!=null&&e.callbackNode===o?Um.bind(null,e):null)}function Om(e,i){if(ts())return null;hm(e,i,!0)}function iv(){mv(function(){(Ye&6)!==0?hn(Ki,nv):Dm()})}function bu(){return Fi===0&&(Fi=oa()),Fi}function Lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function km(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function lv(e,i,o,r,d){if(i==="submit"&&o&&o.stateNode===d){var p=Lm((d[bt]||null).action),T=r.submitter;T&&(i=(i=T[bt]||null)?Lm(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var C=new va("action","action",null,r,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fi!==0){var x=T?km(d,T):new FormData(d);Kr(o,{pending:!0,data:x,method:d.method,action:p},null,x)}}else typeof p=="function"&&(C.preventDefault(),x=T?km(d,T):new FormData(d),Kr(o,{pending:!0,data:x,method:d.method,action:p},p,x))},currentTarget:d}]})}}for(var wu=0;wu<pr.length;wu++){var Du=pr[wu],ov=Du.toLowerCase(),av=Du[0].toUpperCase()+Du.slice(1);fn(ov,"on"+av)}fn(hf,"onAnimationEnd"),fn(gf,"onAnimationIteration"),fn(yf,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Ey,"onTransitionRun"),fn(xy,"onTransitionStart"),fn(Ay,"onTransitionCancel"),fn(vf,"onTransitionEnd"),Fe("onMouseEnter",["mouseout","mouseover"]),Fe("onMouseLeave",["mouseout","mouseover"]),Fe("onPointerEnter",["pointerout","pointerover"]),Fe("onPointerLeave",["pointerout","pointerover"]),Ee("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ee("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ee("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ee("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ee("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ee("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Vm(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var r=e[o],d=r.event;r=r.listeners;e:{var p=void 0;if(i)for(var T=r.length-1;0<=T;T--){var C=r[T],x=C.instance,D=C.currentTarget;if(C=C.listener,x!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=D;try{p(d)}catch(P){Fa(P)}d.currentTarget=null,p=x}else for(T=0;T<r.length;T++){if(C=r[T],x=C.instance,D=C.currentTarget,C=C.listener,x!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=D;try{p(d)}catch(P){Fa(P)}d.currentTarget=null,p=x}}}}function Oe(e,i){var o=i[jl];o===void 0&&(o=i[jl]=new Set);var r=e+"__bubble";o.has(r)||(Pm(i,e,2,!1),o.add(r))}function Iu(e,i,o){var r=0;i&&(r|=4),Pm(o,e,r,i)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[ls]){e[ls]=!0,Te.forEach(function(o){o!=="selectionchange"&&(sv.has(o)||Iu(o,!1,e),Iu(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ls]||(i[ls]=!0,Iu("selectionchange",!1,i))}}function Pm(e,i,o,r){switch(rp(i)){case 2:var d=Ov;break;case 8:d=Lv;break;default:d=Zu}o=d.bind(null,i,o,e),d=void 0,!tr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),r?d!==void 0?e.addEventListener(i,o,{capture:!0,passive:d}):e.addEventListener(i,o,!0):d!==void 0?e.addEventListener(i,o,{passive:d}):e.addEventListener(i,o,!1)}function Ou(e,i,o,r,d){var p=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var C=r.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=r.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=G(C),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){r=p=T;continue e}C=C.parentNode}}r=r.return}Fc(function(){var D=p,P=js(o),q=[];e:{var I=Tf.get(e);if(I!==void 0){var U=va,Ce=e;switch(e){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":U=ty;break;case"focusin":Ce="focus",U=or;break;case"focusout":Ce="blur",U=or;break;case"beforeblur":case"afterblur":U=or;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=ly;break;case hf:case gf:case yf:U=$g;break;case vf:U=ay;break;case"scroll":case"scrollend":U=Bg;break;case"wheel":U=ry;break;case"copy":case"cut":case"paste":U=Jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Kc;break;case"toggle":case"beforetoggle":U=cy}var ge=(i&4)!==0,Xe=!ge&&(e==="scroll"||e==="scrollend"),b=ge?I!==null?I+"Capture":null:I;ge=[];for(var N=D,w;N!==null;){var z=N;if(w=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||w===null||b===null||(z=eo(N,b),z!=null&&ge.push(Vo(N,z,w))),Xe)break;N=N.return}0<ge.length&&(I=new U(I,Ce,null,o,P),q.push({event:I,listeners:ge}))}}if((i&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&o!==Ws&&(Ce=o.relatedTarget||o.fromElement)&&(G(Ce)||Ce[Kn]))break e;if((U||I)&&(I=P.window===P?P:(I=P.ownerDocument)?I.defaultView||I.parentWindow:window,U?(Ce=o.relatedTarget||o.toElement,U=D,Ce=Ce?G(Ce):null,Ce!==null&&(Xe=c(Ce),ge=Ce.tag,Ce!==Xe||ge!==5&&ge!==27&&ge!==6)&&(Ce=null)):(U=null,Ce=D),U!==Ce)){if(ge=Zc,z="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Kc,z="onPointerLeave",b="onPointerEnter",N="pointer"),Xe=U==null?I:re(U),w=Ce==null?I:re(Ce),I=new ge(z,N+"leave",U,o,P),I.target=Xe,I.relatedTarget=w,z=null,G(P)===D&&(ge=new ge(b,N+"enter",Ce,o,P),ge.target=w,ge.relatedTarget=Xe,z=ge),Xe=z,U&&Ce)t:{for(ge=U,b=Ce,N=0,w=ge;w;w=Ul(w))N++;for(w=0,z=b;z;z=Ul(z))w++;for(;0<N-w;)ge=Ul(ge),N--;for(;0<w-N;)b=Ul(b),w--;for(;N--;){if(ge===b||b!==null&&ge===b.alternate)break t;ge=Ul(ge),b=Ul(b)}ge=null}else ge=null;U!==null&&Gm(q,I,U,ge,!1),Ce!==null&&Xe!==null&&Gm(q,Xe,Ce,ge,!0)}}e:{if(I=D?re(D):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var oe=lf;else if(tf(I))if(of)oe=Cy;else{oe=vy;var De=yy}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&Qs(D.elementType)&&(oe=lf):oe=Ty;if(oe&&(oe=oe(e,D))){nf(q,oe,o,P);break e}De&&De(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&Xs(I,"number",I.value)}switch(De=D?re(D):window,e){case"focusin":(tf(De)||De.contentEditable==="true")&&(ul=De,fr=D,ro=null);break;case"focusout":ro=fr=ul=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,mf(q,o,P);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":mf(q,o,P)}var ce;if(sr)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else rl?jc(e,o)&&(ye="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(Xc&&o.locale!=="ko"&&(rl||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&rl&&(ce=Yc()):(Qn=P,nr="value"in Qn?Qn.value:Qn.textContent,rl=!0)),De=os(D,ye),0<De.length&&(ye=new Jc(ye,e,null,o,P),q.push({event:ye,listeners:De}),ce?ye.data=ce:(ce=ef(o),ce!==null&&(ye.data=ce)))),(ce=dy?my(e,o):py(e,o))&&(ye=os(D,"onBeforeInput"),0<ye.length&&(De=new Jc("onBeforeInput","beforeinput",null,o,P),q.push({event:De,listeners:ye}),De.data=ce)),lv(q,e,D,o,P)}Vm(q,i)})}function Vo(e,i,o){return{instance:e,listener:i,currentTarget:o}}function os(e,i){for(var o=i+"Capture",r=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=eo(e,o),d!=null&&r.unshift(Vo(e,d,p)),d=eo(e,i),d!=null&&r.push(Vo(e,d,p))),e.tag===3)return r;e=e.return}return[]}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gm(e,i,o,r,d){for(var p=i._reactName,T=[];o!==null&&o!==r;){var C=o,x=C.alternate,D=C.stateNode;if(C=C.tag,x!==null&&x===r)break;C!==5&&C!==26&&C!==27||D===null||(x=D,d?(D=eo(o,p),D!=null&&T.unshift(Vo(o,D,x))):d||(D=eo(o,p),D!=null&&T.push(Vo(o,D,x)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var rv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function zm(e){return(typeof e=="string"?e:""+e).replace(rv,`
`).replace(uv,"")}function Bm(e,i){return i=zm(i),zm(e)===i}function as(){}function Ke(e,i,o,r,d,p){switch(o){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||ol(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&ol(e,""+r);break;case"className":jt(e,"class",r);break;case"tabIndex":jt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(e,o,r);break;case"style":qc(e,r,p);break;case"data":if(i!=="object"){jt(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=pa(""+r),e.setAttribute(o,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&Ke(e,i,"name",d.name,d,null),Ke(e,i,"formEncType",d.formEncType,d,null),Ke(e,i,"formMethod",d.formMethod,d,null),Ke(e,i,"formTarget",d.formTarget,d,null)):(Ke(e,i,"encType",d.encType,d,null),Ke(e,i,"method",d.method,d,null),Ke(e,i,"target",d.target,d,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=pa(""+r),e.setAttribute(o,r);break;case"onClick":r!=null&&(e.onclick=as);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(o=r.__html,o!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}o=pa(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""+r):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":r===!0?e.setAttribute(o,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,r):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(o,r):e.removeAttribute(o);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(o):e.setAttribute(o,r);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),at(e,"popover",r);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gg.get(o)||o,at(e,o,r))}}function Lu(e,i,o,r,d,p){switch(o){case"style":qc(e,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(o=r.__html,o!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=o}}break;case"children":typeof r=="string"?ol(e,r):(typeof r=="number"||typeof r=="bigint")&&ol(e,""+r);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ot.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),p=e[bt]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(i,p,d),typeof r=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,r,d);break e}o in e?e[o]=r:r===!0?e.setAttribute(o,""):at(e,o,r)}}}function Nt(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var r=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":r=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ke(e,i,p,T,o,null)}}d&&Ke(e,i,"srcSet",o.srcSet,o,null),r&&Ke(e,i,"src",o.src,o,null);return;case"input":Oe("invalid",e);var C=p=T=d=null,x=null,D=null;for(r in o)if(o.hasOwnProperty(r)){var P=o[r];if(P!=null)switch(r){case"name":d=P;break;case"type":T=P;break;case"checked":x=P;break;case"defaultChecked":D=P;break;case"value":p=P;break;case"defaultValue":C=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,i));break;default:Ke(e,i,r,P,o,null)}}Pc(e,p,C,x,D,T,d,!1),da(e);return;case"select":Oe("invalid",e),r=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":r=C;default:Ke(e,i,d,C,o,null)}i=p,o=T,e.multiple=!!r,i!=null?ll(e,!!r,i,!1):o!=null&&ll(e,!!r,o,!0);return;case"textarea":Oe("invalid",e),p=d=r=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":r=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Ke(e,i,T,C,o,null)}zc(e,r,d,p),da(e);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(r=o[x],r!=null))switch(x){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ke(e,i,x,r,o,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(r=0;r<ko.length;r++)Oe(ko[r],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(r=o[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ke(e,i,D,r,o,null)}return;default:if(Qs(i)){for(P in o)o.hasOwnProperty(P)&&(r=o[P],r!==void 0&&Lu(e,i,P,r,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(r=o[C],r!=null&&Ke(e,i,C,r,o,null))}function cv(e,i,o,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,C=null,x=null,D=null,P=null;for(U in o){var q=o[U];if(o.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=q;default:r.hasOwnProperty(U)||Ke(e,i,U,null,r,q)}}for(var I in r){var U=r[I];if(q=o[I],r.hasOwnProperty(I)&&(U!=null||q!=null))switch(I){case"type":p=U;break;case"name":d=U;break;case"checked":D=U;break;case"defaultChecked":P=U;break;case"value":T=U;break;case"defaultValue":C=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:U!==q&&Ke(e,i,I,U,r,q)}}Ks(e,T,C,x,D,P,p,d);return;case"select":U=T=C=I=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":U=x;default:r.hasOwnProperty(p)||Ke(e,i,p,null,r,x)}for(d in r)if(p=r[d],x=o[d],r.hasOwnProperty(d)&&(p!=null||x!=null))switch(d){case"value":I=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==x&&Ke(e,i,d,p,r,x)}i=C,o=T,r=U,I!=null?ll(e,!!o,I,!1):!!r!=!!o&&(i!=null?ll(e,!!o,i,!0):ll(e,!!o,o?[]:"",!1));return;case"textarea":U=I=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ke(e,i,C,null,r,d)}for(T in r)if(d=r[T],p=o[T],r.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":I=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==p&&Ke(e,i,T,d,r,p)}Gc(e,I,U);return;case"option":for(var Ce in o)if(I=o[Ce],o.hasOwnProperty(Ce)&&I!=null&&!r.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Ke(e,i,Ce,null,r,I)}for(x in r)if(I=r[x],U=o[x],r.hasOwnProperty(x)&&I!==U&&(I!=null||U!=null))switch(x){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ke(e,i,x,I,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in o)I=o[ge],o.hasOwnProperty(ge)&&I!=null&&!r.hasOwnProperty(ge)&&Ke(e,i,ge,null,r,I);for(D in r)if(I=r[D],U=o[D],r.hasOwnProperty(D)&&I!==U&&(I!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:Ke(e,i,D,I,r,U)}return;default:if(Qs(i)){for(var Xe in o)I=o[Xe],o.hasOwnProperty(Xe)&&I!==void 0&&!r.hasOwnProperty(Xe)&&Lu(e,i,Xe,void 0,r,I);for(P in r)I=r[P],U=o[P],!r.hasOwnProperty(P)||I===U||I===void 0&&U===void 0||Lu(e,i,P,I,r,U);return}}for(var b in o)I=o[b],o.hasOwnProperty(b)&&I!=null&&!r.hasOwnProperty(b)&&Ke(e,i,b,null,r,I);for(q in r)I=r[q],U=o[q],!r.hasOwnProperty(q)||I===U||I==null&&U==null||Ke(e,i,q,I,r,U)}var ku=null,Vu=null;function ss(e){return e.nodeType===9?e:e.ownerDocument}function qm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gu=null;function fv(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var Fm=typeof setTimeout=="function"?setTimeout:void 0,dv=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(pv)}:Fm;function pv(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function $m(e,i){var o=i,r=0,d=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<r&&8>r){o=r;var T=e.ownerDocument;if(o&1&&Po(T.documentElement),o&2&&Po(T.body),o&4)for(o=T.head,Po(o),T=o.firstChild;T;){var C=T.nextSibling,x=T.nodeName;T[M]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=C}}if(d===0){e.removeChild(p),$o(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:r=o.charCodeAt(0)-48;else r=0;o=p}while(o);$o(i)}function zu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zu(o),L(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function hv(e,i,o,r){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[M])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function gv(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=mn(e.nextSibling),e===null))return null;return e}function Bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function yv(e,i){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")i();else{var r=function(){i(),o.removeEventListener("DOMContentLoaded",r)};o.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var qu=null;function Zm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function Jm(e,i,o){switch(i=ss(o),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Po(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);L(e)}var un=new Map,Km=new Set;function rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=K.d;K.d={f:vv,r:Tv,D:Cv,C:_v,L:Sv,m:Ev,X:Av,S:xv,M:Mv};function vv(){var e=Yn.f(),i=ja();return e||i}function Tv(e){var i=V(e);i!==null&&i.tag===5&&i.type==="form"?hd(i):Yn.r(e)}var Ol=typeof document>"u"?null:document;function Xm(e,i,o){var r=Ol;if(r&&typeof i=="string"&&i){var d=tn(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Km.has(d)||(Km.add(d),e={rel:e,crossOrigin:o,href:i},r.querySelector(d)===null&&(i=r.createElement("link"),Nt(i,"link",e),Ne(i),r.head.appendChild(i)))}}function Cv(e){Yn.D(e),Xm("dns-prefetch",e,null)}function _v(e,i){Yn.C(e,i),Xm("preconnect",e,i)}function Sv(e,i,o){Yn.L(e,i,o);var r=Ol;if(r&&e&&i){var d='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+tn(o.imageSizes)+'"]')):d+='[href="'+tn(e)+'"]';var p=d;switch(i){case"style":p=Ll(e);break;case"script":p=kl(e)}un.has(p)||(e=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),un.set(p,e),r.querySelector(d)!==null||i==="style"&&r.querySelector(Go(p))||i==="script"&&r.querySelector(zo(p))||(i=r.createElement("link"),Nt(i,"link",e),Ne(i),r.head.appendChild(i)))}}function Ev(e,i){Yn.m(e,i);var o=Ol;if(o&&e){var r=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+tn(r)+'"][href="'+tn(e)+'"]',p=d;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=kl(e)}if(!un.has(p)&&(e=v({rel:"modulepreload",href:e},i),un.set(p,e),o.querySelector(d)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zo(p)))return}r=o.createElement("link"),Nt(r,"link",e),Ne(r),o.head.appendChild(r)}}}function xv(e,i,o){Yn.S(e,i,o);var r=Ol;if(r&&e){var d=le(r).hoistableStyles,p=Ll(e);i=i||"default";var T=d.get(p);if(!T){var C={loading:0,preload:null};if(T=r.querySelector(Go(p)))C.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},o),(o=un.get(p))&&Hu(e,o);var x=T=r.createElement("link");Ne(x),Nt(x,"link",e),x._p=new Promise(function(D,P){x.onload=D,x.onerror=P}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,us(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(p,T)}}}function Av(e,i){Yn.X(e,i);var o=Ol;if(o&&e){var r=le(o).hoistableScripts,d=kl(e),p=r.get(d);p||(p=o.querySelector(zo(d)),p||(e=v({src:e,async:!0},i),(i=un.get(d))&&Fu(e,i),p=o.createElement("script"),Ne(p),Nt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(d,p))}}function Mv(e,i){Yn.M(e,i);var o=Ol;if(o&&e){var r=le(o).hoistableScripts,d=kl(e),p=r.get(d);p||(p=o.querySelector(zo(d)),p||(e=v({src:e,async:!0,type:"module"},i),(i=un.get(d))&&Fu(e,i),p=o.createElement("script"),Ne(p),Nt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(d,p))}}function Qm(e,i,o,r){var d=(d=Se.current)?rs(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ll(o.href),o=le(d).hoistableStyles,r=o.get(i),r||(r={type:"style",instance:null,count:0,state:null},o.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ll(o.href);var p=le(d).hoistableStyles,T=p.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=d.querySelector(Go(e)))&&!p._p&&(T.instance=p,T.state.loading=5),un.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},un.set(e,o),p||Nv(d,e,o,T.state))),i&&r===null)throw Error(l(528,""));return T}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kl(o),o=le(d).hoistableScripts,r=o.get(i),r||(r={type:"script",instance:null,count:0,state:null},o.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ll(e){return'href="'+tn(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function Wm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Nv(e,i,o,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),Nt(i,"link",o),Ne(i),e.head.appendChild(i))}function kl(e){return'[src="'+tn(e)+'"]'}function zo(e){return"script[async]"+e}function jm(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+tn(o.href)+'"]');if(r)return i.instance=r,Ne(r),r;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ne(r),Nt(r,"style",d),us(r,o.precedence,e),i.instance=r;case"stylesheet":d=Ll(o.href);var p=e.querySelector(Go(d));if(p)return i.state.loading|=4,i.instance=p,Ne(p),p;r=Wm(o),(d=un.get(d))&&Hu(r,d),p=(e.ownerDocument||e).createElement("link"),Ne(p);var T=p;return T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),Nt(p,"link",r),i.state.loading|=4,us(p,o.precedence,e),i.instance=p;case"script":return p=kl(o.src),(d=e.querySelector(zo(p)))?(i.instance=d,Ne(d),d):(r=o,(d=un.get(p))&&(r=v({},o),Fu(r,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ne(d),Nt(d,"link",r),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,us(r,o.precedence,e));return i.instance}function us(e,i,o){for(var r=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=r.length?r[r.length-1]:null,p=d,T=0;T<r.length;T++){var C=r[T];if(C.dataset.precedence===i)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Hu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Fu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var cs=null;function ep(e,i,o){if(cs===null){var r=new Map,d=cs=new Map;d.set(o,r)}else d=cs,r=d.get(o),r||(r=new Map,d.set(o,r));if(r.has(e))return r;for(r.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var p=o[d];if(!(p[M]||p[yt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=e+T;var C=r.get(T);C?C.push(p):r.set(T,[p])}}return r}function tp(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function Rv(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Bo=null;function bv(){}function wv(e,i,o){if(Bo===null)throw Error(l(475));var r=Bo;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Ll(o.href),p=e.querySelector(Go(d));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=fs.bind(r),e.then(r,r)),i.state.loading|=4,i.instance=p,Ne(p);return}p=e.ownerDocument||e,o=Wm(o),(d=un.get(d))&&Hu(o,d),p=p.createElement("link"),Ne(p);var T=p;T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),Nt(p,"link",o),i.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=fs.bind(r),e.addEventListener("load",i),e.addEventListener("error",i))}}function Dv(){if(Bo===null)throw Error(l(475));var e=Bo;return e.stylesheets&&e.count===0&&Yu(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function fs(){if(this.count--,this.count===0){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ds=null;function Yu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ds=new Map,i.forEach(Iv,e),ds=null,fs.call(e))}function Iv(e,i){if(!(i.state.loading&4)){var o=ds.get(e);if(o)var r=o.get(null);else{o=new Map,ds.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),r=T)}r&&o.set(null,r)}d=i.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||r,p===r&&o.set(null,d),o.set(T,d),this.count++,r=fs.bind(this),d.addEventListener("load",r),d.addEventListener("error",r),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var qo={$$typeof:ne,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Uv(e,i,o,r,d,p,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=r,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ip(e,i,o,r,d,p,T,C,x,D,P,q){return e=new Uv(e,i,o,T,C,x,D,q),i=1,p===!0&&(i|=24),p=$t(3,null,null,i),e.current=p,p.stateNode=e,i=Mr(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:r,isDehydrated:o,cache:i},wr(p),e}function lp(e){return e?(e=ml,e):ml}function op(e,i,o,r,d,p){d=lp(d),r.context===null?r.context=d:r.pendingContext=d,r=ei(i),r.payload={element:o},p=p===void 0?null:p,p!==null&&(r.callback=p),o=ti(e,r,i),o!==null&&(Qt(o,e,i),vo(o,e,i))}function ap(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function $u(e,i){ap(e,i),(e=e.alternate)&&ap(e,i)}function sp(e){if(e.tag===13){var i=dl(e,67108864);i!==null&&Qt(i,e,67108864),$u(e,67108864)}}var ms=!0;function Ov(e,i,o,r){var d=k.T;k.T=null;var p=K.p;try{K.p=2,Zu(e,i,o,r)}finally{K.p=p,k.T=d}}function Lv(e,i,o,r){var d=k.T;k.T=null;var p=K.p;try{K.p=8,Zu(e,i,o,r)}finally{K.p=p,k.T=d}}function Zu(e,i,o,r){if(ms){var d=Ju(r);if(d===null)Ou(e,i,r,ps,o),up(e,r);else if(Vv(d,e,i,o,r))r.stopPropagation();else if(up(e,r),i&4&&-1<kv.indexOf(e)){for(;d!==null;){var p=V(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Dn(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var x=1<<31-Rt(T);C.entanglements[1]|=x,T&=~x}Sn(p),(Ye&6)===0&&(Qa=It()+500,Lo(0))}}break;case 13:C=dl(p,2),C!==null&&Qt(C,p,2),ja(),$u(p,2)}if(p=Ju(r),p===null&&Ou(e,i,r,ps,o),p===d)break;d=p}d!==null&&r.stopPropagation()}else Ou(e,i,r,null,o)}}function Ju(e){return e=js(e),Ku(e)}var ps=null;function Ku(e){if(ps=null,e=G(e),e!==null){var i=c(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ps=e,null}function rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xi()){case Ki:return 2;case Xi:return 8;case wn:case Qi:return 32;case ie:return 268435456;default:return 32}default:return 32}}var Xu=!1,pi=null,hi=null,gi=null,Ho=new Map,Fo=new Map,yi=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,i){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Ho.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Yo(e,i,o,r,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:o,eventSystemFlags:r,nativeEvent:p,targetContainers:[d]},i!==null&&(i=V(i),i!==null&&sp(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function Vv(e,i,o,r,d){switch(i){case"focusin":return pi=Yo(pi,e,i,o,r,d),!0;case"dragenter":return hi=Yo(hi,e,i,o,r,d),!0;case"mouseover":return gi=Yo(gi,e,i,o,r,d),!0;case"pointerover":var p=d.pointerId;return Ho.set(p,Yo(Ho.get(p)||null,e,i,o,r,d)),!0;case"gotpointercapture":return p=d.pointerId,Fo.set(p,Yo(Fo.get(p)||null,e,i,o,r,d)),!0}return!1}function cp(e){var i=G(e.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,Ys(e.priority,function(){if(o.tag===13){var r=Xt();r=tl(r);var d=dl(o,r);d!==null&&Qt(d,o,r),$u(o,r)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Ju(e.nativeEvent);if(o===null){o=e.nativeEvent;var r=new o.constructor(o.type,o);Ws=r,o.target.dispatchEvent(r),Ws=null}else return i=V(o),i!==null&&sp(i),e.blockedOn=o,!1;i.shift()}return!0}function fp(e,i,o){hs(e)&&o.delete(i)}function Pv(){Xu=!1,pi!==null&&hs(pi)&&(pi=null),hi!==null&&hs(hi)&&(hi=null),gi!==null&&hs(gi)&&(gi=null),Ho.forEach(fp),Fo.forEach(fp)}function gs(e,i){e.blockedOn===i&&(e.blockedOn=null,Xu||(Xu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pv)))}var ys=null;function dp(e){ys!==e&&(ys=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ys===e&&(ys=null);for(var i=0;i<e.length;i+=3){var o=e[i],r=e[i+1],d=e[i+2];if(typeof r!="function"){if(Ku(r||o)===null)continue;break}var p=V(o);p!==null&&(e.splice(i,3),i-=3,Kr(p,{pending:!0,data:d,method:o.method,action:r},r,d))}}))}function $o(e){function i(x){return gs(x,e)}pi!==null&&gs(pi,e),hi!==null&&gs(hi,e),gi!==null&&gs(gi,e),Ho.forEach(i),Fo.forEach(i);for(var o=0;o<yi.length;o++){var r=yi[o];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yi.length&&(o=yi[0],o.blockedOn===null);)cp(o),o.blockedOn===null&&yi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(r=0;r<o.length;r+=3){var d=o[r],p=o[r+1],T=d[bt]||null;if(typeof p=="function")T||dp(o);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[bt]||null)C=T.formAction;else if(Ku(d)!==null)continue}else C=T.action;typeof C=="function"?o[r+1]=C:(o.splice(r,3),r-=3),dp(o)}}}function Qu(e){this._internalRoot=e}vs.prototype.render=Qu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var o=i.current,r=Xt();op(o,r,e,i,null,null)},vs.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;op(e.current,2,null,e,null,null),ja(),i[Kn]=null}};function vs(e){this._internalRoot=e}vs.prototype.unstable_scheduleHydration=function(e){if(e){var i=ua();e={blockedOn:null,target:e,priority:i};for(var o=0;o<yi.length&&i!==0&&i<yi[o].priority;o++);yi.splice(o,0,e),o===0&&cp(e)}};var mp=t.version;if(mp!=="19.1.0")throw Error(l(527,mp,"19.1.0"));K.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(i),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var Gv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Ai=Ts.inject(Gv),Ut=Ts}catch{}}return Jo.createRoot=function(e,i){if(!s(e))throw Error(l(299));var o=!1,r="",d=bd,p=wd,T=Dd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=ip(e,1,!1,null,null,o,r,d,p,T,C,null),e[Kn]=i.current,Uu(e),new Qu(i)},Jo.hydrateRoot=function(e,i,o){if(!s(e))throw Error(l(299));var r=!1,d="",p=bd,T=wd,C=Dd,x=null,D=null;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(D=o.formState)),i=ip(e,1,!0,i,o??null,r,d,p,T,C,x,D),i.context=lp(null),o=i.current,r=Xt(),r=tl(r),d=ei(r),d.callback=null,ti(o,d,r),o=r,i.current.lanes=o,Ri(i,o),Sn(i),e[Kn]=i.current,Uu(e),new vs(i)},Jo.version="19.1.0",Jo}var Ep;function Xv(){if(Ep)return ec.exports;Ep=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ec.exports=Kv(),ec.exports}var Qv=Xv();const Wv=og(Qv);var lt=(a=>(a.Pending="pending",a.Processing="processing",a.Completed="completed",a.Error="error",a))(lt||{});const En=["Pregunta","Opción correcta 1","Opción Correcta 2","Opción Correcta 3","Opción Incorrecta 1","Opción Incorrecta 2","Opción Incorrecta 3","Explicación"],xp={Pregunta:"Pregunta","Opción correcta 1":"Opción correcta 1","Opción Correcta 2":"Opción Correcta 2","Opción Correcta 3":"Opción Correcta 3","Opción Incorrecta 1":"Opción Incorrecta 1","Opción Incorrecta 2":"Opción Incorrecta 2","Opción Incorrecta 3":"Opción Incorrecta 3",Explicación:"Explicación"};var F=(a=>(a.Info="info",a.Error="error",a.Warning="warning",a.GeminiRequest="gemini-request",a.GeminiResponse="gemini-response",a.GeminiStream="gemini-stream",a.FileProcessing="file-processing",a.System="system",a))(F||{}),Ht=(a=>(a.OpenAnswer="OpenAnswer",a.MultipleCorrect="MultipleCorrect",a.SingleCorrect="SingleCorrect",a.TrueFalse="TrueFalse",a.Unknown="Unknown",a.Empty="Empty",a))(Ht||{});const ea="gemini-2.5-flash-preview-04-17",jv="Generador CSV de Preguntas para Questioner Base",Ap="preguntas_questioner_base.csv",$n="questions_to_rewrite.json",lc=2,oc=5,e0={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},t0=2500;var Be;(function(a){a.assertEqual=s=>{};function t(s){}a.assertIs=t;function n(s){throw new Error}a.assertNever=n,a.arrayToEnum=s=>{const c={};for(const m of s)c[m]=m;return c},a.getValidEnumValues=s=>{const c=a.objectKeys(s).filter(g=>typeof s[s[g]]!="number"),m={};for(const g of c)m[g]=s[g];return a.objectValues(m)},a.objectValues=s=>a.objectKeys(s).map(function(c){return s[c]}),a.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const c=[];for(const m in s)Object.prototype.hasOwnProperty.call(s,m)&&c.push(m);return c},a.find=(s,c)=>{for(const m of s)if(c(m))return m},a.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function l(s,c=" | "){return s.map(m=>typeof m=="string"?`'${m}'`:m).join(c)}a.joinValues=l,a.jsonStringifyReplacer=(s,c)=>typeof c=="bigint"?c.toString():c})(Be||(Be={}));var Mp;(function(a){a.mergeShapes=(t,n)=>({...t,...n})})(Mp||(Mp={}));const ae=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ti=a=>{switch(typeof a){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return Number.isNaN(a)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(a)?ae.array:a===null?ae.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?ae.promise:typeof Map<"u"&&a instanceof Map?ae.map:typeof Set<"u"&&a instanceof Set?ae.set:typeof Date<"u"&&a instanceof Date?ae.date:ae.object;default:return ae.unknown}},$=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(c){return c.message},l={_errors:[]},s=c=>{for(const m of c.issues)if(m.code==="invalid_union")m.unionErrors.map(s);else if(m.code==="invalid_return_type")s(m.returnTypeError);else if(m.code==="invalid_arguments")s(m.argumentsError);else if(m.path.length===0)l._errors.push(n(m));else{let g=l,y=0;for(;y<m.path.length;){const h=m.path[y];y===m.path.length-1?(g[h]=g[h]||{_errors:[]},g[h]._errors.push(n(m))):g[h]=g[h]||{_errors:[]},g=g[h],y++}}};return s(this),l}static assert(t){if(!(t instanceof Zn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},l=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):l.push(t(s));return{formErrors:l,fieldErrors:n}}get formErrors(){return this.flatten()}}Zn.create=a=>new Zn(a);const fc=(a,t)=>{let n;switch(a.code){case $.invalid_type:a.received===ae.undefined?n="Required":n=`Expected ${a.expected}, received ${a.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(a.expected,Be.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${Be.joinValues(a.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Be.joinValues(a.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${Be.joinValues(a.options)}, received '${a.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(n=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?n=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?n=`Invalid input: must end with "${a.validation.endsWith}"`:Be.assertNever(a.validation):a.validation!=="regex"?n=`Invalid ${a.validation}`:n="Invalid";break;case $.too_small:a.type==="array"?n=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?n=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?n=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?n=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:n="Invalid input";break;case $.too_big:a.type==="array"?n=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?n=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?n=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?n=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?n=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${a.multipleOf}`;break;case $.not_finite:n="Number must be finite";break;default:n=t.defaultError,Be.assertNever(a)}return{message:n}};let n0=fc;function i0(){return n0}const l0=a=>{const{data:t,path:n,errorMaps:l,issueData:s}=a,c=[...n,...s.path||[]],m={...s,path:c};if(s.message!==void 0)return{...s,path:c,message:s.message};let g="";const y=l.filter(h=>!!h).slice().reverse();for(const h of y)g=h(m,{data:t,defaultError:g}).message;return{...s,path:c,message:g}};function te(a,t){const n=i0(),l=l0({issueData:t,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,n,n===fc?void 0:fc].filter(s=>!!s)});a.common.issues.push(l)}class Vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const l=[];for(const s of n){if(s.status==="aborted")return Ae;s.status==="dirty"&&t.dirty(),l.push(s.value)}return{status:t.value,value:l}}static async mergeObjectAsync(t,n){const l=[];for(const s of n){const c=await s.key,m=await s.value;l.push({key:c,value:m})}return Vt.mergeObjectSync(t,l)}static mergeObjectSync(t,n){const l={};for(const s of n){const{key:c,value:m}=s;if(c.status==="aborted"||m.status==="aborted")return Ae;c.status==="dirty"&&t.dirty(),m.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof m.value<"u"||s.alwaysSet)&&(l[c.value]=m.value)}return{status:t.value,value:l}}}const Ae=Object.freeze({status:"aborted"}),Qo=a=>({status:"dirty",value:a}),cn=a=>({status:"valid",value:a}),Np=a=>a.status==="aborted",Rp=a=>a.status==="dirty",ql=a=>a.status==="valid",Ns=a=>typeof Promise<"u"&&a instanceof Promise;var ue;(function(a){a.errToObj=t=>typeof t=="string"?{message:t}:t||{},a.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ue||(ue={}));class Nn{constructor(t,n,l,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=l,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bp=(a,t)=>{if(ql(t))return{success:!0,data:t.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Zn(a.common.issues);return this._error=n,this._error}}};function be(a){if(!a)return{};const{errorMap:t,invalid_type_error:n,required_error:l,description:s}=a;if(t&&(n||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(m,g)=>{const{message:y}=a;return m.code==="invalid_enum_value"?{message:y??g.defaultError}:typeof g.data>"u"?{message:y??l??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:y??n??g.defaultError}},description:s}}class ke{get description(){return this._def.description}_getType(t){return Ti(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vt,ctx:{common:t.parent.common,data:t.data,parsedType:Ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ns(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const l=this.safeParse(t,n);if(l.success)return l.data;throw l.error}safeParse(t,n){const l={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ti(t)},s=this._parseSync({data:t,path:l.path,parent:l});return bp(l,s)}"~validate"(t){var l,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ti(t)};if(!this["~standard"].async)try{const c=this._parseSync({data:t,path:[],parent:n});return ql(c)?{value:c.value}:{issues:n.common.issues}}catch(c){(s=(l=c==null?void 0:c.message)==null?void 0:l.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(c=>ql(c)?{value:c.value}:{issues:n.common.issues})}async parseAsync(t,n){const l=await this.safeParseAsync(t,n);if(l.success)return l.data;throw l.error}async safeParseAsync(t,n){const l={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ti(t)},s=this._parse({data:t,path:l.path,parent:l}),c=await(Ns(s)?s:Promise.resolve(s));return bp(l,c)}refine(t,n){const l=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,c)=>{const m=t(s),g=()=>c.addIssue({code:$.custom,...l(s)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(t,n){return this._refinement((l,s)=>t(l)?!0:(s.addIssue(typeof n=="function"?n(l,s):n),!1))}_refinement(t){return new Yl({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ci.create(this,this._def)}nullable(){return $l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this)}promise(){return Is.create(this,this._def)}or(t){return bs.create([this,t],this._def)}and(t){return ws.create(this,t,this._def)}transform(t){return new Yl({...be(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new hc({...be(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new N0({typeName:xe.ZodBranded,type:this,...be(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new gc({...be(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bc.create(this,t)}readonly(){return yc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const o0=/^c[^\s-]{8,}$/i,a0=/^[0-9a-z]+$/,s0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,r0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u0=/^[a-z0-9_-]{21}$/i,c0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,f0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ac;const p0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,h0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,g0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,y0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ag="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C0=new RegExp(`^${ag}$`);function sg(a){let t="[0-5]\\d";a.precision?t=`${t}\\.\\d{${a.precision}}`:a.precision==null&&(t=`${t}(\\.\\d+)?`);const n=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function _0(a){return new RegExp(`^${sg(a)}$`)}function S0(a){let t=`${ag}T${sg(a)}`;const n=[];return n.push(a.local?"Z?":"Z"),a.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function E0(a,t){return!!((t==="v4"||!t)&&p0.test(a)||(t==="v6"||!t)&&g0.test(a))}function x0(a,t){if(!c0.test(a))return!1;try{const[n]=a.split("."),l=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(l));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function A0(a,t){return!!((t==="v4"||!t)&&h0.test(a)||(t==="v6"||!t)&&y0.test(a))}class xn extends ke{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ae.string){const c=this._getOrReturnCtx(t);return te(c,{code:$.invalid_type,expected:ae.string,received:c.parsedType}),Ae}const l=new Vt;let s;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(s=this._getOrReturnCtx(t,s),te(s,{code:$.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="max")t.data.length>c.value&&(s=this._getOrReturnCtx(t,s),te(s,{code:$.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if(c.kind==="length"){const m=t.data.length>c.value,g=t.data.length<c.value;(m||g)&&(s=this._getOrReturnCtx(t,s),m?te(s,{code:$.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):g&&te(s,{code:$.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if(c.kind==="email")d0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"email",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="emoji")ac||(ac=new RegExp(m0,"u")),ac.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"emoji",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="uuid")r0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"uuid",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="nanoid")u0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"nanoid",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid")o0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"cuid",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="cuid2")a0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"cuid2",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="ulid")s0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"ulid",code:$.invalid_string,message:c.message}),l.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),te(s,{validation:"url",code:$.invalid_string,message:c.message}),l.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"regex",code:$.invalid_string,message:c.message}),l.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):c.kind==="datetime"?S0(c).test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:"datetime",message:c.message}),l.dirty()):c.kind==="date"?C0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:"date",message:c.message}),l.dirty()):c.kind==="time"?_0(c).test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{code:$.invalid_string,validation:"time",message:c.message}),l.dirty()):c.kind==="duration"?f0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"duration",code:$.invalid_string,message:c.message}),l.dirty()):c.kind==="ip"?E0(t.data,c.version)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"ip",code:$.invalid_string,message:c.message}),l.dirty()):c.kind==="jwt"?x0(t.data,c.alg)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"jwt",code:$.invalid_string,message:c.message}),l.dirty()):c.kind==="cidr"?A0(t.data,c.version)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"cidr",code:$.invalid_string,message:c.message}),l.dirty()):c.kind==="base64"?v0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"base64",code:$.invalid_string,message:c.message}),l.dirty()):c.kind==="base64url"?T0.test(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{validation:"base64url",code:$.invalid_string,message:c.message}),l.dirty()):Be.assertNever(c);return{status:l.value,value:t.data}}_regex(t,n,l){return this.refinement(s=>t.test(s),{validation:n,code:$.invalid_string,...ue.errToObj(l)})}_addCheck(t){return new xn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ue.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ue.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ue.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ue.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ue.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ue.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ue.errToObj(n)})}nonempty(t){return this.min(1,ue.errToObj(t))}trim(){return new xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}xn.create=a=>new xn({checks:[],typeName:xe.ZodString,coerce:(a==null?void 0:a.coerce)??!1,...be(a)});function M0(a,t){const n=(a.toString().split(".")[1]||"").length,l=(t.toString().split(".")[1]||"").length,s=n>l?n:l,c=Number.parseInt(a.toFixed(s).replace(".","")),m=Number.parseInt(t.toFixed(s).replace(".",""));return c%m/10**s}class $i extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ae.number){const c=this._getOrReturnCtx(t);return te(c,{code:$.invalid_type,expected:ae.number,received:c.parsedType}),Ae}let l;const s=new Vt;for(const c of this._def.checks)c.kind==="int"?Be.isInteger(t.data)||(l=this._getOrReturnCtx(t,l),te(l,{code:$.invalid_type,expected:"integer",received:"float",message:c.message}),s.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),s.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),s.dirty()):c.kind==="multipleOf"?M0(t.data,c.value)!==0&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.not_multiple_of,multipleOf:c.value,message:c.message}),s.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(l=this._getOrReturnCtx(t,l),te(l,{code:$.not_finite,message:c.message}),s.dirty()):Be.assertNever(c);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ue.toString(n))}setLimit(t,n,l,s){return new $i({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:l,message:ue.toString(s)}]})}_addCheck(t){return new $i({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Be.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(n===null||l.value>n)&&(n=l.value):l.kind==="max"&&(t===null||l.value<t)&&(t=l.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$i.create=a=>new $i({checks:[],typeName:xe.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...be(a)});class Zi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ae.bigint)return this._getInvalidInput(t);let l;const s=new Vt;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),s.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),s.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(l=this._getOrReturnCtx(t,l),te(l,{code:$.not_multiple_of,multipleOf:c.value,message:c.message}),s.dirty()):Be.assertNever(c);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return te(n,{code:$.invalid_type,expected:ae.bigint,received:n.parsedType}),Ae}gte(t,n){return this.setLimit("min",t,!0,ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ue.toString(n))}setLimit(t,n,l,s){return new Zi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:l,message:ue.toString(s)}]})}_addCheck(t){return new Zi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zi.create=a=>new Zi({checks:[],typeName:xe.ZodBigInt,coerce:(a==null?void 0:a.coerce)??!1,...be(a)});class Rs extends ke{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ae.boolean){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.boolean,received:l.parsedType}),Ae}return cn(t.data)}}Rs.create=a=>new Rs({typeName:xe.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...be(a)});class Hl extends ke{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ae.date){const c=this._getOrReturnCtx(t);return te(c,{code:$.invalid_type,expected:ae.date,received:c.parsedType}),Ae}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return te(c,{code:$.invalid_date}),Ae}const l=new Vt;let s;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(s=this._getOrReturnCtx(t,s),te(s,{code:$.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),l.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(s=this._getOrReturnCtx(t,s),te(s,{code:$.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),l.dirty()):Be.assertNever(c);return{status:l.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ue.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ue.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Hl.create=a=>new Hl({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:xe.ZodDate,...be(a)});class wp extends ke{_parse(t){if(this._getType(t)!==ae.symbol){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.symbol,received:l.parsedType}),Ae}return cn(t.data)}}wp.create=a=>new wp({typeName:xe.ZodSymbol,...be(a)});class Dp extends ke{_parse(t){if(this._getType(t)!==ae.undefined){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.undefined,received:l.parsedType}),Ae}return cn(t.data)}}Dp.create=a=>new Dp({typeName:xe.ZodUndefined,...be(a)});class Ip extends ke{_parse(t){if(this._getType(t)!==ae.null){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.null,received:l.parsedType}),Ae}return cn(t.data)}}Ip.create=a=>new Ip({typeName:xe.ZodNull,...be(a)});class Up extends ke{constructor(){super(...arguments),this._any=!0}_parse(t){return cn(t.data)}}Up.create=a=>new Up({typeName:xe.ZodAny,...be(a)});class dc extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cn(t.data)}}dc.create=a=>new dc({typeName:xe.ZodUnknown,...be(a)});class _i extends ke{_parse(t){const n=this._getOrReturnCtx(t);return te(n,{code:$.invalid_type,expected:ae.never,received:n.parsedType}),Ae}}_i.create=a=>new _i({typeName:xe.ZodNever,...be(a)});class Op extends ke{_parse(t){if(this._getType(t)!==ae.undefined){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.void,received:l.parsedType}),Ae}return cn(t.data)}}Op.create=a=>new Op({typeName:xe.ZodVoid,...be(a)});class Mn extends ke{_parse(t){const{ctx:n,status:l}=this._processInputParams(t),s=this._def;if(n.parsedType!==ae.array)return te(n,{code:$.invalid_type,expected:ae.array,received:n.parsedType}),Ae;if(s.exactLength!==null){const m=n.data.length>s.exactLength.value,g=n.data.length<s.exactLength.value;(m||g)&&(te(n,{code:m?$.too_big:$.too_small,minimum:g?s.exactLength.value:void 0,maximum:m?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),l.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),l.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),l.dirty()),n.common.async)return Promise.all([...n.data].map((m,g)=>s.type._parseAsync(new Nn(n,m,n.path,g)))).then(m=>Vt.mergeArray(l,m));const c=[...n.data].map((m,g)=>s.type._parseSync(new Nn(n,m,n.path,g)));return Vt.mergeArray(l,c)}get element(){return this._def.type}min(t,n){return new Mn({...this._def,minLength:{value:t,message:ue.toString(n)}})}max(t,n){return new Mn({...this._def,maxLength:{value:t,message:ue.toString(n)}})}length(t,n){return new Mn({...this._def,exactLength:{value:t,message:ue.toString(n)}})}nonempty(t){return this.min(1,t)}}Mn.create=(a,t)=>new Mn({type:a,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...be(t)});function Pl(a){if(a instanceof gt){const t={};for(const n in a.shape){const l=a.shape[n];t[n]=Ci.create(Pl(l))}return new gt({...a._def,shape:()=>t})}else return a instanceof Mn?new Mn({...a._def,type:Pl(a.element)}):a instanceof Ci?Ci.create(Pl(a.unwrap())):a instanceof $l?$l.create(Pl(a.unwrap())):a instanceof Ji?Ji.create(a.items.map(t=>Pl(t))):a}class gt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Be.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==ae.object){const h=this._getOrReturnCtx(t);return te(h,{code:$.invalid_type,expected:ae.object,received:h.parsedType}),Ae}const{status:l,ctx:s}=this._processInputParams(t),{shape:c,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof _i&&this._def.unknownKeys==="strip"))for(const h in s.data)m.includes(h)||g.push(h);const y=[];for(const h of m){const v=c[h],_=s.data[h];y.push({key:{status:"valid",value:h},value:v._parse(new Nn(s,_,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof _i){const h=this._def.unknownKeys;if(h==="passthrough")for(const v of g)y.push({key:{status:"valid",value:v},value:{status:"valid",value:s.data[v]}});else if(h==="strict")g.length>0&&(te(s,{code:$.unrecognized_keys,keys:g}),l.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const v of g){const _=s.data[v];y.push({key:{status:"valid",value:v},value:h._parse(new Nn(s,_,s.path,v)),alwaysSet:v in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const v of y){const _=await v.key,S=await v.value;h.push({key:_,value:S,alwaysSet:v.alwaysSet})}return h}).then(h=>Vt.mergeObjectSync(l,h)):Vt.mergeObjectSync(l,y)}get shape(){return this._def.shape()}strict(t){return ue.errToObj,new gt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,l)=>{var c,m;const s=((m=(c=this._def).errorMap)==null?void 0:m.call(c,n,l).message)??l.defaultError;return n.code==="unrecognized_keys"?{message:ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(t){return new gt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new gt({...this._def,catchall:t})}pick(t){const n={};for(const l of Be.objectKeys(t))t[l]&&this.shape[l]&&(n[l]=this.shape[l]);return new gt({...this._def,shape:()=>n})}omit(t){const n={};for(const l of Be.objectKeys(this.shape))t[l]||(n[l]=this.shape[l]);return new gt({...this._def,shape:()=>n})}deepPartial(){return Pl(this)}partial(t){const n={};for(const l of Be.objectKeys(this.shape)){const s=this.shape[l];t&&!t[l]?n[l]=s:n[l]=s.optional()}return new gt({...this._def,shape:()=>n})}required(t){const n={};for(const l of Be.objectKeys(this.shape))if(t&&!t[l])n[l]=this.shape[l];else{let c=this.shape[l];for(;c instanceof Ci;)c=c._def.innerType;n[l]=c}return new gt({...this._def,shape:()=>n})}keyof(){return rg(Be.objectKeys(this.shape))}}gt.create=(a,t)=>new gt({shape:()=>a,unknownKeys:"strip",catchall:_i.create(),typeName:xe.ZodObject,...be(t)});gt.strictCreate=(a,t)=>new gt({shape:()=>a,unknownKeys:"strict",catchall:_i.create(),typeName:xe.ZodObject,...be(t)});gt.lazycreate=(a,t)=>new gt({shape:a,unknownKeys:"strip",catchall:_i.create(),typeName:xe.ZodObject,...be(t)});class bs extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),l=this._def.options;function s(c){for(const g of c)if(g.result.status==="valid")return g.result;for(const g of c)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const m=c.map(g=>new Zn(g.ctx.common.issues));return te(n,{code:$.invalid_union,unionErrors:m}),Ae}if(n.common.async)return Promise.all(l.map(async c=>{const m={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:m}),ctx:m}})).then(s);{let c;const m=[];for(const y of l){const h={...n,common:{...n.common,issues:[]},parent:null},v=y._parseSync({data:n.data,path:n.path,parent:h});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:h}),h.common.issues.length&&m.push(h.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const g=m.map(y=>new Zn(y));return te(n,{code:$.invalid_union,unionErrors:g}),Ae}}get options(){return this._def.options}}bs.create=(a,t)=>new bs({options:a,typeName:xe.ZodUnion,...be(t)});function mc(a,t){const n=Ti(a),l=Ti(t);if(a===t)return{valid:!0,data:a};if(n===ae.object&&l===ae.object){const s=Be.objectKeys(t),c=Be.objectKeys(a).filter(g=>s.indexOf(g)!==-1),m={...a,...t};for(const g of c){const y=mc(a[g],t[g]);if(!y.valid)return{valid:!1};m[g]=y.data}return{valid:!0,data:m}}else if(n===ae.array&&l===ae.array){if(a.length!==t.length)return{valid:!1};const s=[];for(let c=0;c<a.length;c++){const m=a[c],g=t[c],y=mc(m,g);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return n===ae.date&&l===ae.date&&+a==+t?{valid:!0,data:a}:{valid:!1}}class ws extends ke{_parse(t){const{status:n,ctx:l}=this._processInputParams(t),s=(c,m)=>{if(Np(c)||Np(m))return Ae;const g=mc(c.value,m.value);return g.valid?((Rp(c)||Rp(m))&&n.dirty(),{status:n.value,value:g.data}):(te(l,{code:$.invalid_intersection_types}),Ae)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([c,m])=>s(c,m)):s(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}ws.create=(a,t,n)=>new ws({left:a,right:t,typeName:xe.ZodIntersection,...be(n)});class Ji extends ke{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==ae.array)return te(l,{code:$.invalid_type,expected:ae.array,received:l.parsedType}),Ae;if(l.data.length<this._def.items.length)return te(l,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&l.data.length>this._def.items.length&&(te(l,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const c=[...l.data].map((m,g)=>{const y=this._def.items[g]||this._def.rest;return y?y._parse(new Nn(l,m,l.path,g)):null}).filter(m=>!!m);return l.common.async?Promise.all(c).then(m=>Vt.mergeArray(n,m)):Vt.mergeArray(n,c)}get items(){return this._def.items}rest(t){return new Ji({...this._def,rest:t})}}Ji.create=(a,t)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ji({items:a,typeName:xe.ZodTuple,rest:null,...be(t)})};class Ds extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==ae.object)return te(l,{code:$.invalid_type,expected:ae.object,received:l.parsedType}),Ae;const s=[],c=this._def.keyType,m=this._def.valueType;for(const g in l.data)s.push({key:c._parse(new Nn(l,g,l.path,g)),value:m._parse(new Nn(l,l.data[g],l.path,g)),alwaysSet:g in l.data});return l.common.async?Vt.mergeObjectAsync(n,s):Vt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,l){return n instanceof ke?new Ds({keyType:t,valueType:n,typeName:xe.ZodRecord,...be(l)}):new Ds({keyType:xn.create(),valueType:t,typeName:xe.ZodRecord,...be(n)})}}class Lp extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==ae.map)return te(l,{code:$.invalid_type,expected:ae.map,received:l.parsedType}),Ae;const s=this._def.keyType,c=this._def.valueType,m=[...l.data.entries()].map(([g,y],h)=>({key:s._parse(new Nn(l,g,l.path,[h,"key"])),value:c._parse(new Nn(l,y,l.path,[h,"value"]))}));if(l.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const y of m){const h=await y.key,v=await y.value;if(h.status==="aborted"||v.status==="aborted")return Ae;(h.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(h.value,v.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const y of m){const h=y.key,v=y.value;if(h.status==="aborted"||v.status==="aborted")return Ae;(h.status==="dirty"||v.status==="dirty")&&n.dirty(),g.set(h.value,v.value)}return{status:n.value,value:g}}}}Lp.create=(a,t,n)=>new Lp({valueType:t,keyType:a,typeName:xe.ZodMap,...be(n)});class ta extends ke{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.parsedType!==ae.set)return te(l,{code:$.invalid_type,expected:ae.set,received:l.parsedType}),Ae;const s=this._def;s.minSize!==null&&l.data.size<s.minSize.value&&(te(l,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&l.data.size>s.maxSize.value&&(te(l,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const c=this._def.valueType;function m(y){const h=new Set;for(const v of y){if(v.status==="aborted")return Ae;v.status==="dirty"&&n.dirty(),h.add(v.value)}return{status:n.value,value:h}}const g=[...l.data.values()].map((y,h)=>c._parse(new Nn(l,y,l.path,h)));return l.common.async?Promise.all(g).then(y=>m(y)):m(g)}min(t,n){return new ta({...this._def,minSize:{value:t,message:ue.toString(n)}})}max(t,n){return new ta({...this._def,maxSize:{value:t,message:ue.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ta.create=(a,t)=>new ta({valueType:a,minSize:null,maxSize:null,typeName:xe.ZodSet,...be(t)});class pc extends ke{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pc.create=(a,t)=>new pc({getter:a,typeName:xe.ZodLazy,...be(t)});class kp extends ke{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return te(n,{received:n.data,code:$.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}kp.create=(a,t)=>new kp({value:a,typeName:xe.ZodLiteral,...be(t)});function rg(a,t){return new Fl({values:a,typeName:xe.ZodEnum,...be(t)})}class Fl extends ke{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),l=this._def.values;return te(n,{expected:Be.joinValues(l),received:n.parsedType,code:$.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),l=this._def.values;return te(n,{received:n.data,code:$.invalid_enum_value,options:l}),Ae}return cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Fl.create(t,{...this._def,...n})}exclude(t,n=this._def){return Fl.create(this.options.filter(l=>!t.includes(l)),{...this._def,...n})}}Fl.create=rg;class Vp extends ke{_parse(t){const n=Be.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(t);if(l.parsedType!==ae.string&&l.parsedType!==ae.number){const s=Be.objectValues(n);return te(l,{expected:Be.joinValues(s),received:l.parsedType,code:$.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Be.objectValues(n);return te(l,{received:l.data,code:$.invalid_enum_value,options:s}),Ae}return cn(t.data)}get enum(){return this._def.values}}Vp.create=(a,t)=>new Vp({values:a,typeName:xe.ZodNativeEnum,...be(t)});class Is extends ke{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ae.promise&&n.common.async===!1)return te(n,{code:$.invalid_type,expected:ae.promise,received:n.parsedType}),Ae;const l=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return cn(l.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Is.create=(a,t)=>new Is({type:a,typeName:xe.ZodPromise,...be(t)});class Yl extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:l}=this._processInputParams(t),s=this._def.effect||null,c={addIssue:m=>{te(l,m),m.fatal?n.abort():n.dirty()},get path(){return l.path}};if(c.addIssue=c.addIssue.bind(c),s.type==="preprocess"){const m=s.transform(l.data,c);if(l.common.async)return Promise.resolve(m).then(async g=>{if(n.value==="aborted")return Ae;const y=await this._def.schema._parseAsync({data:g,path:l.path,parent:l});return y.status==="aborted"?Ae:y.status==="dirty"||n.value==="dirty"?Qo(y.value):y});{if(n.value==="aborted")return Ae;const g=this._def.schema._parseSync({data:m,path:l.path,parent:l});return g.status==="aborted"?Ae:g.status==="dirty"||n.value==="dirty"?Qo(g.value):g}}if(s.type==="refinement"){const m=g=>{const y=s.refinement(g,c);if(l.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(l.common.async===!1){const g=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return g.status==="aborted"?Ae:(g.status==="dirty"&&n.dirty(),m(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(g=>g.status==="aborted"?Ae:(g.status==="dirty"&&n.dirty(),m(g.value).then(()=>({status:n.value,value:g.value}))))}if(s.type==="transform")if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!ql(m))return Ae;const g=s.transform(m.value,c);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>ql(m)?Promise.resolve(s.transform(m.value,c)).then(g=>({status:n.value,value:g})):Ae);Be.assertNever(s)}}Yl.create=(a,t,n)=>new Yl({schema:a,typeName:xe.ZodEffects,effect:t,...be(n)});Yl.createWithPreprocess=(a,t,n)=>new Yl({schema:t,effect:{type:"preprocess",transform:a},typeName:xe.ZodEffects,...be(n)});class Ci extends ke{_parse(t){return this._getType(t)===ae.undefined?cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ci.create=(a,t)=>new Ci({innerType:a,typeName:xe.ZodOptional,...be(t)});class $l extends ke{_parse(t){return this._getType(t)===ae.null?cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(a,t)=>new $l({innerType:a,typeName:xe.ZodNullable,...be(t)});class hc extends ke{_parse(t){const{ctx:n}=this._processInputParams(t);let l=n.data;return n.parsedType===ae.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hc.create=(a,t)=>new hc({innerType:a,typeName:xe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...be(t)});class gc extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),l={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return Ns(s)?s.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Zn(l.common.issues)},input:l.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zn(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}gc.create=(a,t)=>new gc({innerType:a,typeName:xe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...be(t)});class Pp extends ke{_parse(t){if(this._getType(t)!==ae.nan){const l=this._getOrReturnCtx(t);return te(l,{code:$.invalid_type,expected:ae.nan,received:l.parsedType}),Ae}return{status:"valid",value:t.data}}}Pp.create=a=>new Pp({typeName:xe.ZodNaN,...be(a)});class N0 extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),l=n.data;return this._def.type._parse({data:l,path:n.path,parent:n})}unwrap(){return this._def.type}}class bc extends ke{_parse(t){const{status:n,ctx:l}=this._processInputParams(t);if(l.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?Ae:c.status==="dirty"?(n.dirty(),Qo(c.value)):this._def.out._parseAsync({data:c.value,path:l.path,parent:l})})();{const s=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return s.status==="aborted"?Ae:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:l.path,parent:l})}}static create(t,n){return new bc({in:t,out:n,typeName:xe.ZodPipeline})}}class yc extends ke{_parse(t){const n=this._def.innerType._parse(t),l=s=>(ql(s)&&(s.value=Object.freeze(s.value)),s);return Ns(n)?n.then(s=>l(s)):l(n)}unwrap(){return this._def.innerType}}yc.create=(a,t)=>new yc({innerType:a,typeName:xe.ZodReadonly,...be(t)});var xe;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Yi=xn.create,Gp=$i.create;Zi.create;const R0=Rs.create;Hl.create;const zp=dc.create;_i.create;const Wo=Mn.create,b0=gt.create,w0=bs.create;ws.create;Ji.create;const D0=Ds.create,I0=pc.create,U0=Fl.create;Is.create;Ci.create;$l.create;const Vl={string:a=>xn.create({...a,coerce:!0}),number:a=>$i.create({...a,coerce:!0}),boolean:a=>Rs.create({...a,coerce:!0}),bigint:a=>Zi.create({...a,coerce:!0}),date:a=>Hl.create({...a,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let O0,L0;function k0(){return{geminiUrl:O0,vertexUrl:L0}}function V0(a,t,n){var l,s,c;if(!(!((l=a.httpOptions)===null||l===void 0)&&l.baseUrl)){const m=k0();return a.vertexai?(s=m.vertexUrl)!==null&&s!==void 0?s:t:(c=m.geminiUrl)!==null&&c!==void 0?c:n}return a.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jl{}function _e(a,t){const n=/\{([^}]+)\}/g;return a.replace(n,(l,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const c=t[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(a,t,n){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in a))if(Array.isArray(n))a[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(a[g])){const y=a[g];if(Array.isArray(n))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(c+1),n[h])}else for(const h of y)f(h,t.slice(c+1),n)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in a||(a[g]=[{}]);const y=a[g];f(y[0],t.slice(c+1),n);return}(!a[m]||typeof a[m]!="object")&&(a[m]={}),a=a[m]}const l=t[t.length-1],s=a[l];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else a[l]=n}function u(a,t){try{if(t.length===1&&t[0]==="_self")return a;for(let n=0;n<t.length;n++){if(typeof a!="object"||a===null)return;const l=t[n];if(l.endsWith("[]")){const s=l.slice(0,-2);if(s in a){const c=a[s];return Array.isArray(c)?c.map(m=>u(m,t.slice(n+1))):void 0}else return}else a=a[l]}return a}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bp;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bp||(Bp={}));var qp;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(qp||(qp={}));var An;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT",a.NULL="NULL"})(An||(An={}));var Hp;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Hp||(Hp={}));var Fp;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(Fp||(Fp={}));var Yp;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(Yp||(Yp={}));var $p;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var Zp;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(Zp||(Zp={}));var Jp;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY",a.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Jp||(Jp={}));var Kp;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Kp||(Kp={}));var Xp;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xp||(Xp={}));var Qp;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Qp||(Qp={}));var Wp;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wp||(Wp={}));var Us;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(Us||(Us={}));var jp;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jp||(jp={}));var vc;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vc||(vc={}));var eh;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eh||(eh={}));var th;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(th||(th={}));var nh;(function(a){a.UNSPECIFIED="UNSPECIFIED",a.BLOCKING="BLOCKING",a.NON_BLOCKING="NON_BLOCKING"})(nh||(nh={}));var ih;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(ih||(ih={}));var lh;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(lh||(lh={}));var oh;(function(a){a.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",a.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",a.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(oh||(oh={}));var ah;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(ah||(ah={}));var sh;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})(sh||(sh={}));var rh;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi"})(rh||(rh={}));var uh;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uh||(uh={}));var ch;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ch||(ch={}));var fh;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fh||(fh={}));var dh;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dh||(dh={}));var mh;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(mh||(mh={}));var ph;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(ph||(ph={}));var hh;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(hh||(hh={}));var gh;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gh||(gh={}));var yh;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yh||(yh={}));var vh;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(vh||(vh={}));var Th;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Th||(Th={}));var Ch;(function(a){a.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",a.SILENT="SILENT",a.WHEN_IDLE="WHEN_IDLE",a.INTERRUPT="INTERRUPT"})(Ch||(Ch={}));var _h;(function(a){a.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",a.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",a.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",a.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",a.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",a.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",a.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",a.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",a.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",a.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",a.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",a.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",a.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_h||(_h={}));var Gl;(function(a){a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT"})(Gl||(Gl={}));class Ko{get text(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const S of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,O]of Object.entries(S))R!=="text"&&R!=="thought"&&(O!==null||O!==void 0)&&_.push(R);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,R]of Object.entries(_))S!=="inlineData"&&(R!==null||R!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,n,l,s,c,m,g,y;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,n,l,s,c,m,g,y,h;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,n,l,s,c,m,g,y,h;if(((s=(l=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Sh{}class Eh{}class P0{}class G0{}class xh{}class Ah{}class Mh{}class z0{}class Nh{}class Rh{}class bh{}class B0{}class Tc{constructor(t){const n={};for(const l of t.headers.entries())n[l[0]]=l[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class q0{}class H0{}class F0{get text(){var t,n,l;let s="",c=!1;const m=[];for(const g of(l=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,s+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var t,n,l;let s="";const c=[];for(const m of(l=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&c.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(s+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Y0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(a,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(a.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ug(a,t){const n=tt(a,t);return n?n.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}`:n.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${n}`:n:""}function cg(a,t){return Array.isArray(t)?t.map(n=>Os(a,n)):[Os(a,t)]}function Os(a,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $0(a,t){const n=Os(a,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Z0(a,t){const n=Os(a,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function wh(a,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fg(a,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>wh(a,n)):[wh(a,t)]}function Cc(a){return a!=null&&typeof a=="object"&&"parts"in a&&Array.isArray(a.parts)}function Dh(a){return a!=null&&typeof a=="object"&&"functionCall"in a}function Ih(a){return a!=null&&typeof a=="object"&&"functionResponse"in a}function kt(a,t){if(t==null)throw new Error("ContentUnion is required");return Cc(t)?t:{role:"user",parts:fg(a,t)}}function dg(a,t){if(!t)return[];if(a.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const l=kt(a,n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(a.isVertexAI()){const n=kt(a,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>kt(a,n)):[kt(a,t)]}function pn(a,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dh(t)||Ih(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kt(a,t)]}const n=[],l=[],s=Cc(t[0]);for(const c of t){const m=Cc(c);if(m!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)n.push(c);else{if(Dh(c)||Ih(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return s||n.push({role:"user",parts:fg(a,l)}),n}const J0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Uh=U0(["string","number","integer","object","array","boolean","null"]),K0=w0([Uh,Wo(Uh)]);function X0(a=!0){const t=I0(()=>{const n=b0({type:K0.optional(),format:Yi().optional(),title:Yi().optional(),description:Yi().optional(),default:zp().optional(),items:t.optional(),minItems:Vl.string().optional(),maxItems:Vl.string().optional(),enum:Wo(zp()).optional(),properties:D0(Yi(),t).optional(),required:Wo(Yi()).optional(),minProperties:Vl.string().optional(),maxProperties:Vl.string().optional(),propertyOrdering:Wo(Yi()).optional(),minimum:Gp().optional(),maximum:Gp().optional(),minLength:Vl.string().optional(),maxLength:Vl.string().optional(),pattern:Yi().optional(),anyOf:Wo(t).optional(),additionalProperties:R0().optional()});return a?n.strict():n});return t}function Q0(a,t){a.includes("null")&&(t.nullable=!0);const n=a.filter(l=>l!=="null");if(n.length===1)t.type=Object.values(An).includes(n[0].toUpperCase())?n[0].toUpperCase():An.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of n)t.anyOf.push({type:Object.values(An).includes(l.toUpperCase())?l.toUpperCase():An.TYPE_UNSPECIFIED})}}function zl(a){const t={},n=["items"],l=["anyOf"],s=["properties"];if(a.type&&a.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=a.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,a=c[1]):c[1].type==="null"&&(t.nullable=!0,a=c[0])),a.type instanceof Array&&Q0(a.type,t);for(const[m,g]of Object.entries(a))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(An).includes(g.toUpperCase())?g.toUpperCase():An.TYPE_UNSPECIFIED}else if(n.includes(m))t[m]=zl(g);else if(l.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(zl(h))}t[m]=y}else if(s.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=zl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Ls(a,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const n=X0().parse(t);return zl(n)}else return zl(t)}function mg(a,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wc(a,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function na(a,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Ls(a,n.parameters)),n.response&&(n.response=Ls(a,n.response));return t}function ia(a,t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of t)n.push(l);return n}function W0(a,t,n,l=1){const s=!t.startsWith(`${n}/`)&&t.split("/").length===l;return a.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${a.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}`:s?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}/${t}`:t:s?`${n}/${t}`:t}function Si(a,t){if(typeof t!="string")throw new Error("name must be a string");return W0(a,t,"cachedContents")}function pg(a,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Jn(a,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function j0(a){return a!=null&&typeof a=="object"&&"name"in a}function eT(a){return a!=null&&typeof a=="object"&&"video"in a}function tT(a){return a!=null&&typeof a=="object"&&"uri"in a}function hg(a,t){var n;let l;if(j0(t)&&(l=t.name),!(tT(t)&&(l=t.uri,l===void 0))&&!(eT(t)&&(l=(n=t.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof t=="string"&&(l=t),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function gg(a,t){let n;return a.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function yg(a,t){for(const n of["models","tunedModels","publisherModels"])if(nT(t,n))return t[n];return[]}function nT(a,t){return a!==null&&typeof a=="object"&&t in a}function iT(a,t={}){const n=a,l={name:n.name,description:n.description,parameters:zl(ks(n.inputSchema))};return t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function lT(a,t={}){const n=[],l=new Set;for(const s of a){const c=s.name;if(l.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);l.add(c);const m=iT(s,t);m.functionDeclarations&&n.push(...m.functionDeclarations)}return{functionDeclarations:n}}function oT(a){const t=[];for(const n of a)t.push(ks(n));return t}function aT(a){const t={};for(const[n,l]of Object.entries(a)){const s=l;t[n]=ks(s)}return t}function ks(a){const t=new Set(["items"]),n=new Set(["anyOf"]),l=new Set(["properties"]),s={};for(const[c,m]of Object.entries(a))if(t.has(c))s[c]=ks(m);else if(n.has(c))s[c]=oT(m);else if(l.has(c))s[c]=aT(m);else if(c==="type"){const g=m.toUpperCase();s[c]=Object.values(An).includes(g)?g:An.TYPE_UNSPECIFIED}else J0.has(c)&&(s[c]=m);return s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function rT(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function uT(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function cT(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],sT(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],rT(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],uT(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Oh(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>cT(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function fT(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function dT(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function mT(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],dT(a,l)),n}function pT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function hT(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],pT(a,l)),n}function gT(){return{}}function yT(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>fT(a,h))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],mT(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],hT(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],gT());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function vT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function TT(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function CT(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],TT(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function _T(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],vT(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],CT(a,s)),n}function ST(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=u(t,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const g=u(t,["contents"]);if(n!==void 0&&g!=null){let _=pn(a,g);Array.isArray(_)&&(_=_.map(S=>Oh(a,S))),f(n,["contents"],_)}const y=u(t,["systemInstruction"]);n!==void 0&&y!=null&&f(n,["systemInstruction"],Oh(a,kt(a,y)));const h=u(t,["tools"]);if(n!==void 0&&h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>yT(a,S))),f(n,["tools"],_)}const v=u(t,["toolConfig"]);if(n!==void 0&&v!=null&&f(n,["toolConfig"],_T(a,v)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function ET(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],ug(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],ST(a,s,n)),n}function xT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function AT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function MT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),l}function NT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],MT(a,s,n)),n}function RT(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function bT(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],RT(a,l,n)),n}function wT(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function DT(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function IT(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function UT(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],wT(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],DT(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],IT(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Lh(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>UT(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function OT(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function LT(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function kT(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],LT(a,l)),n}function VT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function PT(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],VT(a,l)),n}function GT(){return{}}function zT(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function BT(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],zT(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function qT(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],BT(a,l)),n}function HT(){return{}}function FT(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>OT(a,S))),f(n,["functionDeclarations"],_)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],kT(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],PT(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],GT());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],qT(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],HT());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function YT(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function $T(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function ZT(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],$T(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function JT(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],YT(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],ZT(a,s)),n}function KT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);n!==void 0&&c!=null&&f(n,["expireTime"],c);const m=u(t,["displayName"]);n!==void 0&&m!=null&&f(n,["displayName"],m);const g=u(t,["contents"]);if(n!==void 0&&g!=null){let S=pn(a,g);Array.isArray(S)&&(S=S.map(R=>Lh(a,R))),f(n,["contents"],S)}const y=u(t,["systemInstruction"]);n!==void 0&&y!=null&&f(n,["systemInstruction"],Lh(a,kt(a,y)));const h=u(t,["tools"]);if(n!==void 0&&h!=null){let S=h;Array.isArray(S)&&(S=S.map(R=>FT(a,R))),f(n,["tools"],S)}const v=u(t,["toolConfig"]);n!==void 0&&v!=null&&f(n,["toolConfig"],JT(a,v));const _=u(t,["kmsKeyName"]);return n!==void 0&&_!=null&&f(n,["encryption_spec","kmsKeyName"],_),l}function XT(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],ug(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],KT(a,s,n)),n}function QT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function WT(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function jT(a,t,n){const l={},s=u(t,["ttl"]);n!==void 0&&s!=null&&f(n,["ttl"],s);const c=u(t,["expireTime"]);return n!==void 0&&c!=null&&f(n,["expireTime"],c),l}function eC(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],Si(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],jT(a,s,n)),n}function tC(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function nC(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],tC(a,l,n)),n}function xs(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["model"]);c!=null&&f(n,["model"],c);const m=u(t,["createTime"]);m!=null&&f(n,["createTime"],m);const g=u(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const y=u(t,["expireTime"]);y!=null&&f(n,["expireTime"],y);const h=u(t,["usageMetadata"]);return h!=null&&f(n,["usageMetadata"],h),n}function iC(){return{}}function lC(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>xs(a,m))),f(n,["cachedContents"],c)}return n}function As(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["model"]);c!=null&&f(n,["model"],c);const m=u(t,["createTime"]);m!=null&&f(n,["createTime"],m);const g=u(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const y=u(t,["expireTime"]);y!=null&&f(n,["expireTime"],y);const h=u(t,["usageMetadata"]);return h!=null&&f(n,["usageMetadata"],h),n}function oC(){return{}}function aC(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>As(a,m))),f(n,["cachedContents"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zl;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zl||(Zl={}));class Vs{constructor(t,n,l,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,l,s)}init(t,n,l){var s,c;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};l?typeof l=="object"?m=Object.assign({},l):m=l:m={config:{}},m.config&&(m.config.pageToken=n.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(s=m.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vs(Zl.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(n),n)}async create(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,t);return g=_e("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>As(this.apiClient,v))}else{const h=ET(this.apiClient,t);return g=_e("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>xs(this.apiClient,v))}}async get(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=QT(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>As(this.apiClient,v))}else{const h=xT(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>xs(this.apiClient,v))}}async delete(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=WT(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=oC(),_=new Rh;return Object.assign(_,v),_})}else{const h=AT(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(()=>{const v=iC(),_=new Rh;return Object.assign(_,v),_})}}async update(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eC(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>As(this.apiClient,v))}else{const h=NT(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>xs(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nC(this.apiClient,t);return g=_e("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=aC(this.apiClient,v),S=new bh;return Object.assign(S,_),S})}else{const h=bT(this.apiClient,t);return g=_e("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=lC(this.apiClient,v),S=new bh;return Object.assign(S,_),S})}}}function kh(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],l=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(a){return this instanceof nt?(this.v=a,this):new nt(a)}function Bl(a,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=n.apply(a,t||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),s[Symbol.asyncIterator]=function(){return this},s;function m(R){return function(O){return Promise.resolve(O).then(R,_)}}function g(R,O){l[R]&&(s[R]=function(B){return new Promise(function(Z,se){c.push([R,B,Z,se])>1||y(R,B)})},O&&(s[R]=O(s[R])))}function y(R,O){try{h(l[R](O))}catch(B){S(c[0][3],B)}}function h(R){R.value instanceof nt?Promise.resolve(R.value.v).then(v,_):S(c[0][2],R)}function v(R){y("next",R)}function _(R){y("throw",R)}function S(R,O){R(O),c.shift(),c.length&&y(c[0][0],c[0][1])}}function jo(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],n;return t?t.call(a):(a=typeof kh=="function"?kh(a):a[Symbol.iterator](),n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n);function l(c){n[c]=a[c]&&function(m){return new Promise(function(g,y){m=a[c](m),s(g,y,m.done,m.value)})}}function s(c,m,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(a){var t;if(a.candidates==null||a.candidates.length===0)return!1;const n=(t=a.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:vg(n)}function vg(a){if(a.parts===void 0||a.parts.length===0)return!1;for(const t of a.parts)if(t===void 0||Object.keys(t).length===0||!t.thought&&t.text!==void 0&&t.text==="")return!1;return!0}function uC(a){if(a.length!==0){for(const t of a)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Vh(a){if(a===void 0||a.length===0)return[];const t=[],n=a.length;let l=0;for(;l<n;)if(a[l].role==="user")t.push(a[l]),l++;else{const s=[];let c=!0;for(;l<n&&a[l].role==="model";)s.push(a[l]),c&&!vg(a[l])&&(c=!1),l++;c?t.push(...s):t.pop()}return t}class cC{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new fC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class fC{constructor(t,n,l,s={},c=[]){this.apiClient=t,this.modelsModule=n,this.model=l,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),uC(c)}async sendMessage(t){var n;await this.sendPromise;const l=kt(this.apiClient,t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var c,m,g;const y=await s,h=(m=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(_))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(l,R,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var n;await this.sendPromise;const l=kt(this.apiClient,t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,l)}getHistory(t=!1){const n=t?Vh(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var l,s;return Bl(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var _=!0,S=jo(t),R;R=yield nt(S.next()),m=R.done,!m;_=!0){h=R.value,_=!1;const O=h;if(rC(O)){const B=(s=(l=O.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content;B!==void 0&&v.push(B)}yield yield nt(O)}}catch(O){g={error:O}}finally{try{!_&&!m&&(y=S.return)&&(yield nt(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(n,v)})}recordHistory(t,n,l){let s=[];n.length>0&&n.every(c=>c.role!==void 0)?s=n:s.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Vh(l)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);return n!==void 0&&c!=null&&f(n,["_query","pageToken"],c),l}function mC(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],dC(a,l,n)),n}function pC(a,t){const n={},l=u(t,["details"]);l!=null&&f(n,["details"],l);const s=u(t,["message"]);s!=null&&f(n,["message"],s);const c=u(t,["code"]);return c!=null&&f(n,["code"],c),n}function hC(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=u(t,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const g=u(t,["createTime"]);g!=null&&f(n,["createTime"],g);const y=u(t,["expirationTime"]);y!=null&&f(n,["expirationTime"],y);const h=u(t,["updateTime"]);h!=null&&f(n,["updateTime"],h);const v=u(t,["sha256Hash"]);v!=null&&f(n,["sha256Hash"],v);const _=u(t,["uri"]);_!=null&&f(n,["uri"],_);const S=u(t,["downloadUri"]);S!=null&&f(n,["downloadUri"],S);const R=u(t,["state"]);R!=null&&f(n,["state"],R);const O=u(t,["source"]);O!=null&&f(n,["source"],O);const B=u(t,["videoMetadata"]);B!=null&&f(n,["videoMetadata"],B);const Z=u(t,["error"]);return Z!=null&&f(n,["error"],pC(a,Z)),n}function gC(a,t){const n={},l=u(t,["file"]);l!=null&&f(n,["file"],hC(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function yC(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","file"],hg(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function vC(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","file"],hg(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function TC(a,t){const n={},l=u(t,["details"]);l!=null&&f(n,["details"],l);const s=u(t,["message"]);s!=null&&f(n,["message"],s);const c=u(t,["code"]);return c!=null&&f(n,["code"],c),n}function _c(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["mimeType"]);c!=null&&f(n,["mimeType"],c);const m=u(t,["sizeBytes"]);m!=null&&f(n,["sizeBytes"],m);const g=u(t,["createTime"]);g!=null&&f(n,["createTime"],g);const y=u(t,["expirationTime"]);y!=null&&f(n,["expirationTime"],y);const h=u(t,["updateTime"]);h!=null&&f(n,["updateTime"],h);const v=u(t,["sha256Hash"]);v!=null&&f(n,["sha256Hash"],v);const _=u(t,["uri"]);_!=null&&f(n,["uri"],_);const S=u(t,["downloadUri"]);S!=null&&f(n,["downloadUri"],S);const R=u(t,["state"]);R!=null&&f(n,["state"],R);const O=u(t,["source"]);O!=null&&f(n,["source"],O);const B=u(t,["videoMetadata"]);B!=null&&f(n,["videoMetadata"],B);const Z=u(t,["error"]);return Z!=null&&f(n,["error"],TC(a,Z)),n}function CC(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>_c(a,m))),f(n,["files"],c)}return n}function _C(){return{}}function SC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Vs(Zl.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>_c(this.apiClient,n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mC(this.apiClient,t);return c=_e("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=CC(this.apiClient,y),v=new B0;return Object.assign(v,h),v})}}async createInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gC(this.apiClient,t);return c=_e("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=_C(),h=new q0;return Object.assign(h,y),h})}}async get(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yC(this.apiClient,t);return c=_e("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>_c(this.apiClient,y))}}async delete(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vC(this.apiClient,t);return c=_e("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=SC(),h=new H0;return Object.assign(h,y),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function AC(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function Tg(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],xC(a,l)),n}function MC(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],AC(a,l)),n}function NC(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],Tg(a,s)),n}function RC(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>NC(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function bC(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],Tg(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],RC(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function wC(a,t){const n={},l=u(t,["voiceConfig"]);if(l!=null&&f(n,["voiceConfig"],MC(a,l)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function DC(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function IC(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function UC(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function OC(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function LC(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function kC(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function VC(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],DC(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],UC(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],LC(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function PC(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],IC(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],OC(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],kC(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function GC(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>VC(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function zC(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>PC(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function BC(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function qC(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function HC(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function FC(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function YC(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],HC(a,l)),n}function $C(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],FC(a,l)),n}function ZC(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function JC(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function KC(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],ZC(a,l)),n}function XC(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],JC(a,l)),n}function QC(){return{}}function WC(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function jC(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],WC(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function e_(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],jC(a,l)),n}function t_(){return{}}function n_(){return{}}function i_(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>BC(a,h))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],YC(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],KC(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],t_());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function l_(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>qC(a,S))),f(n,["functionDeclarations"],_)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],$C(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],XC(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],QC());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],e_(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],n_());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function o_(a,t){const n={},l=u(t,["handle"]);if(l!=null&&f(n,["handle"],l),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function a_(a,t){const n={},l=u(t,["handle"]);l!=null&&f(n,["handle"],l);const s=u(t,["transparent"]);return s!=null&&f(n,["transparent"],s),n}function Ph(){return{}}function Gh(){return{}}function s_(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function r_(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function u_(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],s_(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function c_(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],r_(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function f_(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function d_(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function m_(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],f_(a,s)),n}function p_(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],d_(a,s)),n}function h_(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function g_(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function y_(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const h=u(t,["maxOutputTokens"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const _=u(t,["seed"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","seed"],_);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],bC(a,wc(a,S)));const R=u(t,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const O=u(t,["systemInstruction"]);n!==void 0&&O!=null&&f(n,["setup","systemInstruction"],GC(a,kt(a,O)));const B=u(t,["tools"]);if(n!==void 0&&B!=null){let pe=ia(a,B);Array.isArray(pe)&&(pe=pe.map(X=>i_(a,na(a,X)))),f(n,["setup","tools"],pe)}const Z=u(t,["sessionResumption"]);n!==void 0&&Z!=null&&f(n,["setup","sessionResumption"],o_(a,Z));const se=u(t,["inputAudioTranscription"]);n!==void 0&&se!=null&&f(n,["setup","inputAudioTranscription"],Ph());const J=u(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","outputAudioTranscription"],Ph());const ne=u(t,["realtimeInputConfig"]);n!==void 0&&ne!=null&&f(n,["setup","realtimeInputConfig"],u_(a,ne));const Y=u(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],m_(a,Y));const W=u(t,["proactivity"]);return n!==void 0&&W!=null&&f(n,["setup","proactivity"],h_(a,W)),l}function v_(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const h=u(t,["maxOutputTokens"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const _=u(t,["seed"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","seed"],_);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],wC(a,wc(a,S)));const R=u(t,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const O=u(t,["systemInstruction"]);n!==void 0&&O!=null&&f(n,["setup","systemInstruction"],zC(a,kt(a,O)));const B=u(t,["tools"]);if(n!==void 0&&B!=null){let pe=ia(a,B);Array.isArray(pe)&&(pe=pe.map(X=>l_(a,na(a,X)))),f(n,["setup","tools"],pe)}const Z=u(t,["sessionResumption"]);n!==void 0&&Z!=null&&f(n,["setup","sessionResumption"],a_(a,Z));const se=u(t,["inputAudioTranscription"]);n!==void 0&&se!=null&&f(n,["setup","inputAudioTranscription"],Gh());const J=u(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","outputAudioTranscription"],Gh());const ne=u(t,["realtimeInputConfig"]);n!==void 0&&ne!=null&&f(n,["setup","realtimeInputConfig"],c_(a,ne));const Y=u(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],p_(a,Y));const W=u(t,["proactivity"]);return n!==void 0&&W!=null&&f(n,["setup","proactivity"],g_(a,W)),l}function T_(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],y_(a,s,n)),n}function C_(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],v_(a,s,n)),n}function __(){return{}}function S_(){return{}}function E_(){return{}}function x_(){return{}}function A_(a,t){const n={},l=u(t,["media"]);l!=null&&f(n,["mediaChunks"],cg(a,l));const s=u(t,["audio"]);s!=null&&f(n,["audio"],Z0(a,s));const c=u(t,["audioStreamEnd"]);c!=null&&f(n,["audioStreamEnd"],c);const m=u(t,["video"]);m!=null&&f(n,["video"],$0(a,m));const g=u(t,["text"]);return g!=null&&f(n,["text"],g),u(t,["activityStart"])!=null&&f(n,["activityStart"],__()),u(t,["activityEnd"])!=null&&f(n,["activityEnd"],E_()),n}function M_(a,t){const n={},l=u(t,["media"]);if(l!=null&&f(n,["mediaChunks"],cg(a,l)),u(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=u(t,["audioStreamEnd"]);if(s!=null&&f(n,["audioStreamEnd"],s),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(t,["activityStart"])!=null&&f(n,["activityStart"],S_()),u(t,["activityEnd"])!=null&&f(n,["activityEnd"],x_()),n}function Cg(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["weight"]);return s!=null&&f(n,["weight"],s),n}function N_(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Cg(a,c))),f(n,["weightedPrompts"],s)}return n}function _g(a,t){const n={},l=u(t,["temperature"]);l!=null&&f(n,["temperature"],l);const s=u(t,["topK"]);s!=null&&f(n,["topK"],s);const c=u(t,["seed"]);c!=null&&f(n,["seed"],c);const m=u(t,["guidance"]);m!=null&&f(n,["guidance"],m);const g=u(t,["bpm"]);g!=null&&f(n,["bpm"],g);const y=u(t,["density"]);y!=null&&f(n,["density"],y);const h=u(t,["brightness"]);h!=null&&f(n,["brightness"],h);const v=u(t,["scale"]);v!=null&&f(n,["scale"],v);const _=u(t,["muteBass"]);_!=null&&f(n,["muteBass"],_);const S=u(t,["muteDrums"]);S!=null&&f(n,["muteDrums"],S);const R=u(t,["onlyBassAndDrums"]);return R!=null&&f(n,["onlyBassAndDrums"],R),n}function R_(a,t){const n={},l=u(t,["musicGenerationConfig"]);return l!=null&&f(n,["musicGenerationConfig"],_g(a,l)),n}function Sg(a,t){const n={},l=u(t,["model"]);return l!=null&&f(n,["model"],l),n}function Eg(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Cg(a,c))),f(n,["weightedPrompts"],s)}return n}function Sc(a,t){const n={},l=u(t,["setup"]);l!=null&&f(n,["setup"],Sg(a,l));const s=u(t,["clientContent"]);s!=null&&f(n,["clientContent"],Eg(a,s));const c=u(t,["musicGenerationConfig"]);c!=null&&f(n,["musicGenerationConfig"],_g(a,c));const m=u(t,["playbackControl"]);return m!=null&&f(n,["playbackControl"],m),n}function b_(){return{}}function w_(){return{}}function D_(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function I_(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function U_(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function O_(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function L_(a,t){const n={},l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function k_(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function V_(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],D_(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],U_(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],L_(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function P_(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],I_(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],O_(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],k_(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function G_(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>V_(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function z_(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>P_(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function zh(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["finished"]);return s!=null&&f(n,["finished"],s),n}function Bh(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["finished"]);return s!=null&&f(n,["finished"],s),n}function B_(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function q_(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>B_(a,c))),f(n,["urlMetadata"],s)}return n}function H_(a,t){const n={},l=u(t,["modelTurn"]);l!=null&&f(n,["modelTurn"],G_(a,l));const s=u(t,["turnComplete"]);s!=null&&f(n,["turnComplete"],s);const c=u(t,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=u(t,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const g=u(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const y=u(t,["inputTranscription"]);y!=null&&f(n,["inputTranscription"],zh(a,y));const h=u(t,["outputTranscription"]);h!=null&&f(n,["outputTranscription"],zh(a,h));const v=u(t,["urlContextMetadata"]);return v!=null&&f(n,["urlContextMetadata"],q_(a,v)),n}function F_(a,t){const n={},l=u(t,["modelTurn"]);l!=null&&f(n,["modelTurn"],z_(a,l));const s=u(t,["turnComplete"]);s!=null&&f(n,["turnComplete"],s);const c=u(t,["interrupted"]);c!=null&&f(n,["interrupted"],c);const m=u(t,["groundingMetadata"]);m!=null&&f(n,["groundingMetadata"],m);const g=u(t,["generationComplete"]);g!=null&&f(n,["generationComplete"],g);const y=u(t,["inputTranscription"]);y!=null&&f(n,["inputTranscription"],Bh(a,y));const h=u(t,["outputTranscription"]);return h!=null&&f(n,["outputTranscription"],Bh(a,h)),n}function Y_(a,t){const n={},l=u(t,["id"]);l!=null&&f(n,["id"],l);const s=u(t,["args"]);s!=null&&f(n,["args"],s);const c=u(t,["name"]);return c!=null&&f(n,["name"],c),n}function $_(a,t){const n={},l=u(t,["args"]);l!=null&&f(n,["args"],l);const s=u(t,["name"]);return s!=null&&f(n,["name"],s),n}function Z_(a,t){const n={},l=u(t,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Y_(a,c))),f(n,["functionCalls"],s)}return n}function J_(a,t){const n={},l=u(t,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>$_(a,c))),f(n,["functionCalls"],s)}return n}function K_(a,t){const n={},l=u(t,["ids"]);return l!=null&&f(n,["ids"],l),n}function X_(a,t){const n={},l=u(t,["ids"]);return l!=null&&f(n,["ids"],l),n}function Cs(a,t){const n={},l=u(t,["modality"]);l!=null&&f(n,["modality"],l);const s=u(t,["tokenCount"]);return s!=null&&f(n,["tokenCount"],s),n}function _s(a,t){const n={},l=u(t,["modality"]);l!=null&&f(n,["modality"],l);const s=u(t,["tokenCount"]);return s!=null&&f(n,["tokenCount"],s),n}function Q_(a,t){const n={},l=u(t,["promptTokenCount"]);l!=null&&f(n,["promptTokenCount"],l);const s=u(t,["cachedContentTokenCount"]);s!=null&&f(n,["cachedContentTokenCount"],s);const c=u(t,["responseTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=u(t,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const g=u(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const y=u(t,["totalTokenCount"]);y!=null&&f(n,["totalTokenCount"],y);const h=u(t,["promptTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(O=>Cs(a,O))),f(n,["promptTokensDetails"],R)}const v=u(t,["cacheTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(O=>Cs(a,O))),f(n,["cacheTokensDetails"],R)}const _=u(t,["responseTokensDetails"]);if(_!=null){let R=_;Array.isArray(R)&&(R=R.map(O=>Cs(a,O))),f(n,["responseTokensDetails"],R)}const S=u(t,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(O=>Cs(a,O))),f(n,["toolUsePromptTokensDetails"],R)}return n}function W_(a,t){const n={},l=u(t,["promptTokenCount"]);l!=null&&f(n,["promptTokenCount"],l);const s=u(t,["cachedContentTokenCount"]);s!=null&&f(n,["cachedContentTokenCount"],s);const c=u(t,["candidatesTokenCount"]);c!=null&&f(n,["responseTokenCount"],c);const m=u(t,["toolUsePromptTokenCount"]);m!=null&&f(n,["toolUsePromptTokenCount"],m);const g=u(t,["thoughtsTokenCount"]);g!=null&&f(n,["thoughtsTokenCount"],g);const y=u(t,["totalTokenCount"]);y!=null&&f(n,["totalTokenCount"],y);const h=u(t,["promptTokensDetails"]);if(h!=null){let O=h;Array.isArray(O)&&(O=O.map(B=>_s(a,B))),f(n,["promptTokensDetails"],O)}const v=u(t,["cacheTokensDetails"]);if(v!=null){let O=v;Array.isArray(O)&&(O=O.map(B=>_s(a,B))),f(n,["cacheTokensDetails"],O)}const _=u(t,["candidatesTokensDetails"]);if(_!=null){let O=_;Array.isArray(O)&&(O=O.map(B=>_s(a,B))),f(n,["responseTokensDetails"],O)}const S=u(t,["toolUsePromptTokensDetails"]);if(S!=null){let O=S;Array.isArray(O)&&(O=O.map(B=>_s(a,B))),f(n,["toolUsePromptTokensDetails"],O)}const R=u(t,["trafficType"]);return R!=null&&f(n,["trafficType"],R),n}function j_(a,t){const n={},l=u(t,["timeLeft"]);return l!=null&&f(n,["timeLeft"],l),n}function eS(a,t){const n={},l=u(t,["timeLeft"]);return l!=null&&f(n,["timeLeft"],l),n}function tS(a,t){const n={},l=u(t,["newHandle"]);l!=null&&f(n,["newHandle"],l);const s=u(t,["resumable"]);s!=null&&f(n,["resumable"],s);const c=u(t,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function nS(a,t){const n={},l=u(t,["newHandle"]);l!=null&&f(n,["newHandle"],l);const s=u(t,["resumable"]);s!=null&&f(n,["resumable"],s);const c=u(t,["lastConsumedClientMessageIndex"]);return c!=null&&f(n,["lastConsumedClientMessageIndex"],c),n}function iS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],b_());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],H_(a,s));const c=u(t,["toolCall"]);c!=null&&f(n,["toolCall"],Z_(a,c));const m=u(t,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],K_(a,m));const g=u(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],Q_(a,g));const y=u(t,["goAway"]);y!=null&&f(n,["goAway"],j_(a,y));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&f(n,["sessionResumptionUpdate"],tS(a,h)),n}function lS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],w_());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],F_(a,s));const c=u(t,["toolCall"]);c!=null&&f(n,["toolCall"],J_(a,c));const m=u(t,["toolCallCancellation"]);m!=null&&f(n,["toolCallCancellation"],X_(a,m));const g=u(t,["usageMetadata"]);g!=null&&f(n,["usageMetadata"],W_(a,g));const y=u(t,["goAway"]);y!=null&&f(n,["goAway"],eS(a,y));const h=u(t,["sessionResumptionUpdate"]);return h!=null&&f(n,["sessionResumptionUpdate"],nS(a,h)),n}function oS(){return{}}function aS(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["weight"]);return s!=null&&f(n,["weight"],s),n}function sS(a,t){const n={},l=u(t,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>aS(a,c))),f(n,["weightedPrompts"],s)}return n}function rS(a,t){const n={},l=u(t,["temperature"]);l!=null&&f(n,["temperature"],l);const s=u(t,["topK"]);s!=null&&f(n,["topK"],s);const c=u(t,["seed"]);c!=null&&f(n,["seed"],c);const m=u(t,["guidance"]);m!=null&&f(n,["guidance"],m);const g=u(t,["bpm"]);g!=null&&f(n,["bpm"],g);const y=u(t,["density"]);y!=null&&f(n,["density"],y);const h=u(t,["brightness"]);h!=null&&f(n,["brightness"],h);const v=u(t,["scale"]);v!=null&&f(n,["scale"],v);const _=u(t,["muteBass"]);_!=null&&f(n,["muteBass"],_);const S=u(t,["muteDrums"]);S!=null&&f(n,["muteDrums"],S);const R=u(t,["onlyBassAndDrums"]);return R!=null&&f(n,["onlyBassAndDrums"],R),n}function uS(a,t){const n={},l=u(t,["clientContent"]);l!=null&&f(n,["clientContent"],sS(a,l));const s=u(t,["musicGenerationConfig"]);return s!=null&&f(n,["musicGenerationConfig"],rS(a,s)),n}function cS(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);s!=null&&f(n,["mimeType"],s);const c=u(t,["sourceMetadata"]);return c!=null&&f(n,["sourceMetadata"],uS(a,c)),n}function fS(a,t){const n={},l=u(t,["audioChunks"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>cS(a,c))),f(n,["audioChunks"],s)}return n}function dS(a,t){const n={},l=u(t,["text"]);l!=null&&f(n,["text"],l);const s=u(t,["filteredReason"]);return s!=null&&f(n,["filteredReason"],s),n}function mS(a,t){const n={};u(t,["setupComplete"])!=null&&f(n,["setupComplete"],oS());const s=u(t,["serverContent"]);s!=null&&f(n,["serverContent"],fS(a,s));const c=u(t,["filteredPrompt"]);return c!=null&&f(n,["filteredPrompt"],dS(a,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function hS(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function gS(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function yS(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],pS(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],hS(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],gS(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Ps(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>yS(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function vS(a,t){const n={},l=u(t,["anyOf"]);l!=null&&f(n,["anyOf"],l);const s=u(t,["default"]);s!=null&&f(n,["default"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["enum"]);m!=null&&f(n,["enum"],m);const g=u(t,["example"]);g!=null&&f(n,["example"],g);const y=u(t,["format"]);y!=null&&f(n,["format"],y);const h=u(t,["items"]);h!=null&&f(n,["items"],h);const v=u(t,["maxItems"]);v!=null&&f(n,["maxItems"],v);const _=u(t,["maxLength"]);_!=null&&f(n,["maxLength"],_);const S=u(t,["maxProperties"]);S!=null&&f(n,["maxProperties"],S);const R=u(t,["maximum"]);R!=null&&f(n,["maximum"],R);const O=u(t,["minItems"]);O!=null&&f(n,["minItems"],O);const B=u(t,["minLength"]);B!=null&&f(n,["minLength"],B);const Z=u(t,["minProperties"]);Z!=null&&f(n,["minProperties"],Z);const se=u(t,["minimum"]);se!=null&&f(n,["minimum"],se);const J=u(t,["nullable"]);J!=null&&f(n,["nullable"],J);const ne=u(t,["pattern"]);ne!=null&&f(n,["pattern"],ne);const Y=u(t,["properties"]);Y!=null&&f(n,["properties"],Y);const W=u(t,["propertyOrdering"]);W!=null&&f(n,["propertyOrdering"],W);const pe=u(t,["required"]);pe!=null&&f(n,["required"],pe);const X=u(t,["title"]);X!=null&&f(n,["title"],X);const ve=u(t,["type"]);return ve!=null&&f(n,["type"],ve),n}function TS(a,t){const n={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(t,["category"]);l!=null&&f(n,["category"],l);const s=u(t,["threshold"]);return s!=null&&f(n,["threshold"],s),n}function CS(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function _S(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function SS(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],_S(a,l)),n}function ES(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function xS(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],ES(a,l)),n}function AS(){return{}}function MS(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>CS(a,h))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],SS(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],xS(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],AS());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function NS(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function RS(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function bS(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],RS(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function wS(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],NS(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],bS(a,s)),n}function DS(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function xg(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],DS(a,l)),n}function IS(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],xg(a,s)),n}function US(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>IS(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function OS(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],xg(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],US(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function LS(a,t){const n={},l=u(t,["includeThoughts"]);l!=null&&f(n,["includeThoughts"],l);const s=u(t,["thinkingBudget"]);return s!=null&&f(n,["thinkingBudget"],s),n}function kS(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Ps(a,kt(a,s)));const c=u(t,["temperature"]);c!=null&&f(l,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(l,["topP"],m);const g=u(t,["topK"]);g!=null&&f(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(l,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(l,["logprobs"],S);const R=u(t,["presencePenalty"]);R!=null&&f(l,["presencePenalty"],R);const O=u(t,["frequencyPenalty"]);O!=null&&f(l,["frequencyPenalty"],O);const B=u(t,["seed"]);B!=null&&f(l,["seed"],B);const Z=u(t,["responseMimeType"]);Z!=null&&f(l,["responseMimeType"],Z);const se=u(t,["responseSchema"]);if(se!=null&&f(l,["responseSchema"],vS(a,Ls(a,se))),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(n!==void 0&&J!=null){let fe=J;Array.isArray(fe)&&(fe=fe.map(Ge=>TS(a,Ge))),f(n,["safetySettings"],fe)}const ne=u(t,["tools"]);if(n!==void 0&&ne!=null){let fe=ia(a,ne);Array.isArray(fe)&&(fe=fe.map(Ge=>MS(a,na(a,Ge)))),f(n,["tools"],fe)}const Y=u(t,["toolConfig"]);if(n!==void 0&&Y!=null&&f(n,["toolConfig"],wS(a,Y)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(t,["cachedContent"]);n!==void 0&&W!=null&&f(n,["cachedContent"],Si(a,W));const pe=u(t,["responseModalities"]);pe!=null&&f(l,["responseModalities"],pe);const X=u(t,["mediaResolution"]);X!=null&&f(l,["mediaResolution"],X);const ve=u(t,["speechConfig"]);if(ve!=null&&f(l,["speechConfig"],OS(a,mg(a,ve))),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=u(t,["thinkingConfig"]);return j!=null&&f(l,["thinkingConfig"],LS(a,j)),l}function qh(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);if(s!=null){let m=pn(a,s);Array.isArray(m)&&(m=m.map(g=>Ps(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["generationConfig"],kS(a,c,n)),n}function VS(a,t,n){const l={},s=u(t,["taskType"]);n!==void 0&&s!=null&&f(n,["requests[]","taskType"],s);const c=u(t,["title"]);n!==void 0&&c!=null&&f(n,["requests[]","title"],c);const m=u(t,["outputDimensionality"]);if(n!==void 0&&m!=null&&f(n,["requests[]","outputDimensionality"],m),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function PS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);s!=null&&f(n,["requests[]","content"],dg(a,s));const c=u(t,["config"]);c!=null&&f(n,["config"],VS(a,c,n));const m=u(t,["model"]);return m!==void 0&&f(n,["requests[]","model"],tt(a,m)),n}function GS(a,t,n){const l={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(t,["numberOfImages"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const c=u(t,["aspectRatio"]);n!==void 0&&c!=null&&f(n,["parameters","aspectRatio"],c);const m=u(t,["guidanceScale"]);if(n!==void 0&&m!=null&&f(n,["parameters","guidanceScale"],m),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&f(n,["parameters","safetySetting"],g);const y=u(t,["personGeneration"]);n!==void 0&&y!=null&&f(n,["parameters","personGeneration"],y);const h=u(t,["includeSafetyAttributes"]);n!==void 0&&h!=null&&f(n,["parameters","includeSafetyAttributes"],h);const v=u(t,["includeRaiReason"]);n!==void 0&&v!=null&&f(n,["parameters","includeRaiReason"],v);const _=u(t,["language"]);n!==void 0&&_!=null&&f(n,["parameters","language"],_);const S=u(t,["outputMimeType"]);n!==void 0&&S!=null&&f(n,["parameters","outputOptions","mimeType"],S);const R=u(t,["outputCompressionQuality"]);if(n!==void 0&&R!=null&&f(n,["parameters","outputOptions","compressionQuality"],R),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function zS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],GS(a,c,n)),n}function BS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function qS(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const g=u(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],gg(a,g)),l}function HS(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],qS(a,l,n)),n}function FS(a,t,n){const l={},s=u(t,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=u(t,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),l}function YS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],FS(a,s,n)),n}function $S(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function ZS(a,t){const n={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function JS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);if(s!=null){let m=pn(a,s);Array.isArray(m)&&(m=m.map(g=>Ps(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],ZS(a,c)),n}function KS(a,t){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(t,["imageBytes"]);l!=null&&f(n,["bytesBase64Encoded"],Jn(a,l));const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function XS(a,t,n){const l={},s=u(t,["numberOfVideos"]);if(n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(t,["durationSeconds"]);if(n!==void 0&&c!=null&&f(n,["parameters","durationSeconds"],c),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(t,["aspectRatio"]);if(n!==void 0&&m!=null&&f(n,["parameters","aspectRatio"],m),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=u(t,["personGeneration"]);if(n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(t,["negativePrompt"]);n!==void 0&&y!=null&&f(n,["parameters","negativePrompt"],y);const h=u(t,["enhancePrompt"]);if(n!==void 0&&h!=null&&f(n,["parameters","enhancePrompt"],h),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return l}function QS(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["image"]);if(c!=null&&f(n,["instances[0]","image"],KS(a,c)),u(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=u(t,["config"]);return m!=null&&f(n,["config"],XS(a,m,n)),n}function WS(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function jS(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function eE(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function tE(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],WS(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],jS(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],eE(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function Kl(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>tE(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function nE(a,t){const n={},l=u(t,["anyOf"]);l!=null&&f(n,["anyOf"],l);const s=u(t,["default"]);s!=null&&f(n,["default"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["enum"]);m!=null&&f(n,["enum"],m);const g=u(t,["example"]);g!=null&&f(n,["example"],g);const y=u(t,["format"]);y!=null&&f(n,["format"],y);const h=u(t,["items"]);h!=null&&f(n,["items"],h);const v=u(t,["maxItems"]);v!=null&&f(n,["maxItems"],v);const _=u(t,["maxLength"]);_!=null&&f(n,["maxLength"],_);const S=u(t,["maxProperties"]);S!=null&&f(n,["maxProperties"],S);const R=u(t,["maximum"]);R!=null&&f(n,["maximum"],R);const O=u(t,["minItems"]);O!=null&&f(n,["minItems"],O);const B=u(t,["minLength"]);B!=null&&f(n,["minLength"],B);const Z=u(t,["minProperties"]);Z!=null&&f(n,["minProperties"],Z);const se=u(t,["minimum"]);se!=null&&f(n,["minimum"],se);const J=u(t,["nullable"]);J!=null&&f(n,["nullable"],J);const ne=u(t,["pattern"]);ne!=null&&f(n,["pattern"],ne);const Y=u(t,["properties"]);Y!=null&&f(n,["properties"],Y);const W=u(t,["propertyOrdering"]);W!=null&&f(n,["propertyOrdering"],W);const pe=u(t,["required"]);pe!=null&&f(n,["required"],pe);const X=u(t,["title"]);X!=null&&f(n,["title"],X);const ve=u(t,["type"]);return ve!=null&&f(n,["type"],ve),n}function iE(a,t){const n={},l=u(t,["featureSelectionPreference"]);return l!=null&&f(n,["featureSelectionPreference"],l),n}function lE(a,t){const n={},l=u(t,["method"]);l!=null&&f(n,["method"],l);const s=u(t,["category"]);s!=null&&f(n,["category"],s);const c=u(t,["threshold"]);return c!=null&&f(n,["threshold"],c),n}function oE(a,t){const n={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(t,["description"]);l!=null&&f(n,["description"],l);const s=u(t,["name"]);s!=null&&f(n,["name"],s);const c=u(t,["parameters"]);c!=null&&f(n,["parameters"],c);const m=u(t,["response"]);return m!=null&&f(n,["response"],m),n}function aE(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function sE(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],aE(a,l)),n}function rE(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function uE(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],rE(a,l)),n}function cE(){return{}}function fE(a,t){const n={},l=u(t,["apiKeyString"]);return l!=null&&f(n,["apiKeyString"],l),n}function dE(a,t){const n={},l=u(t,["apiKeyConfig"]);l!=null&&f(n,["apiKeyConfig"],fE(a,l));const s=u(t,["authType"]);s!=null&&f(n,["authType"],s);const c=u(t,["googleServiceAccountConfig"]);c!=null&&f(n,["googleServiceAccountConfig"],c);const m=u(t,["httpBasicAuthConfig"]);m!=null&&f(n,["httpBasicAuthConfig"],m);const g=u(t,["oauthConfig"]);g!=null&&f(n,["oauthConfig"],g);const y=u(t,["oidcConfig"]);return y!=null&&f(n,["oidcConfig"],y),n}function mE(a,t){const n={},l=u(t,["authConfig"]);return l!=null&&f(n,["authConfig"],dE(a,l)),n}function pE(){return{}}function Ag(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>oE(a,S))),f(n,["functionDeclarations"],_)}const s=u(t,["retrieval"]);s!=null&&f(n,["retrieval"],s);const c=u(t,["googleSearch"]);c!=null&&f(n,["googleSearch"],sE(a,c));const m=u(t,["googleSearchRetrieval"]);m!=null&&f(n,["googleSearchRetrieval"],uE(a,m)),u(t,["enterpriseWebSearch"])!=null&&f(n,["enterpriseWebSearch"],cE());const y=u(t,["googleMaps"]);y!=null&&f(n,["googleMaps"],mE(a,y)),u(t,["urlContext"])!=null&&f(n,["urlContext"],pE());const v=u(t,["codeExecution"]);return v!=null&&f(n,["codeExecution"],v),n}function hE(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["allowedFunctionNames"]);return s!=null&&f(n,["allowedFunctionNames"],s),n}function gE(a,t){const n={},l=u(t,["latitude"]);l!=null&&f(n,["latitude"],l);const s=u(t,["longitude"]);return s!=null&&f(n,["longitude"],s),n}function yE(a,t){const n={},l=u(t,["latLng"]);l!=null&&f(n,["latLng"],gE(a,l));const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function vE(a,t){const n={},l=u(t,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],hE(a,l));const s=u(t,["retrievalConfig"]);return s!=null&&f(n,["retrievalConfig"],yE(a,s)),n}function TE(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function CE(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],TE(a,l)),n}function _E(a,t){const n={},l=u(t,["voiceConfig"]);if(l!=null&&f(n,["voiceConfig"],CE(a,l)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=u(t,["languageCode"]);return s!=null&&f(n,["languageCode"],s),n}function SE(a,t){const n={},l=u(t,["includeThoughts"]);l!=null&&f(n,["includeThoughts"],l);const s=u(t,["thinkingBudget"]);return s!=null&&f(n,["thinkingBudget"],s),n}function EE(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Kl(a,kt(a,s)));const c=u(t,["temperature"]);c!=null&&f(l,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(l,["topP"],m);const g=u(t,["topK"]);g!=null&&f(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(l,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(l,["logprobs"],S);const R=u(t,["presencePenalty"]);R!=null&&f(l,["presencePenalty"],R);const O=u(t,["frequencyPenalty"]);O!=null&&f(l,["frequencyPenalty"],O);const B=u(t,["seed"]);B!=null&&f(l,["seed"],B);const Z=u(t,["responseMimeType"]);Z!=null&&f(l,["responseMimeType"],Z);const se=u(t,["responseSchema"]);se!=null&&f(l,["responseSchema"],nE(a,Ls(a,se)));const J=u(t,["routingConfig"]);J!=null&&f(l,["routingConfig"],J);const ne=u(t,["modelSelectionConfig"]);ne!=null&&f(l,["modelConfig"],iE(a,ne));const Y=u(t,["safetySettings"]);if(n!==void 0&&Y!=null){let Ze=Y;Array.isArray(Ze)&&(Ze=Ze.map(He=>lE(a,He))),f(n,["safetySettings"],Ze)}const W=u(t,["tools"]);if(n!==void 0&&W!=null){let Ze=ia(a,W);Array.isArray(Ze)&&(Ze=Ze.map(He=>Ag(a,na(a,He)))),f(n,["tools"],Ze)}const pe=u(t,["toolConfig"]);n!==void 0&&pe!=null&&f(n,["toolConfig"],vE(a,pe));const X=u(t,["labels"]);n!==void 0&&X!=null&&f(n,["labels"],X);const ve=u(t,["cachedContent"]);n!==void 0&&ve!=null&&f(n,["cachedContent"],Si(a,ve));const j=u(t,["responseModalities"]);j!=null&&f(l,["responseModalities"],j);const fe=u(t,["mediaResolution"]);fe!=null&&f(l,["mediaResolution"],fe);const Ge=u(t,["speechConfig"]);Ge!=null&&f(l,["speechConfig"],_E(a,mg(a,Ge)));const Le=u(t,["audioTimestamp"]);Le!=null&&f(l,["audioTimestamp"],Le);const Me=u(t,["thinkingConfig"]);return Me!=null&&f(l,["thinkingConfig"],SE(a,Me)),l}function Hh(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);if(s!=null){let m=pn(a,s);Array.isArray(m)&&(m=m.map(g=>Kl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["generationConfig"],EE(a,c,n)),n}function xE(a,t,n){const l={},s=u(t,["taskType"]);n!==void 0&&s!=null&&f(n,["instances[]","task_type"],s);const c=u(t,["title"]);n!==void 0&&c!=null&&f(n,["instances[]","title"],c);const m=u(t,["outputDimensionality"]);n!==void 0&&m!=null&&f(n,["parameters","outputDimensionality"],m);const g=u(t,["mimeType"]);n!==void 0&&g!=null&&f(n,["instances[]","mimeType"],g);const y=u(t,["autoTruncate"]);return n!==void 0&&y!=null&&f(n,["parameters","autoTruncate"],y),l}function AE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);s!=null&&f(n,["instances[]","content"],dg(a,s));const c=u(t,["config"]);return c!=null&&f(n,["config"],xE(a,c,n)),n}function ME(a,t,n){const l={},s=u(t,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const c=u(t,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=u(t,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const g=u(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const y=u(t,["guidanceScale"]);n!==void 0&&y!=null&&f(n,["parameters","guidanceScale"],y);const h=u(t,["seed"]);n!==void 0&&h!=null&&f(n,["parameters","seed"],h);const v=u(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&f(n,["parameters","safetySetting"],v);const _=u(t,["personGeneration"]);n!==void 0&&_!=null&&f(n,["parameters","personGeneration"],_);const S=u(t,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const R=u(t,["includeRaiReason"]);n!==void 0&&R!=null&&f(n,["parameters","includeRaiReason"],R);const O=u(t,["language"]);n!==void 0&&O!=null&&f(n,["parameters","language"],O);const B=u(t,["outputMimeType"]);n!==void 0&&B!=null&&f(n,["parameters","outputOptions","mimeType"],B);const Z=u(t,["outputCompressionQuality"]);n!==void 0&&Z!=null&&f(n,["parameters","outputOptions","compressionQuality"],Z);const se=u(t,["addWatermark"]);n!==void 0&&se!=null&&f(n,["parameters","addWatermark"],se);const J=u(t,["enhancePrompt"]);return n!==void 0&&J!=null&&f(n,["parameters","enhancePrompt"],J),l}function NE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],ME(a,c,n)),n}function Gs(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const s=u(t,["imageBytes"]);s!=null&&f(n,["bytesBase64Encoded"],Jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function RE(a,t){const n={},l=u(t,["maskMode"]);l!=null&&f(n,["maskMode"],l);const s=u(t,["segmentationClasses"]);s!=null&&f(n,["maskClasses"],s);const c=u(t,["maskDilation"]);return c!=null&&f(n,["dilation"],c),n}function bE(a,t){const n={},l=u(t,["controlType"]);l!=null&&f(n,["controlType"],l);const s=u(t,["enableControlImageComputation"]);return s!=null&&f(n,["computeControl"],s),n}function wE(a,t){const n={},l=u(t,["styleDescription"]);return l!=null&&f(n,["styleDescription"],l),n}function DE(a,t){const n={},l=u(t,["subjectType"]);l!=null&&f(n,["subjectType"],l);const s=u(t,["subjectDescription"]);return s!=null&&f(n,["subjectDescription"],s),n}function IE(a,t){const n={},l=u(t,["referenceImage"]);l!=null&&f(n,["referenceImage"],Gs(a,l));const s=u(t,["referenceId"]);s!=null&&f(n,["referenceId"],s);const c=u(t,["referenceType"]);c!=null&&f(n,["referenceType"],c);const m=u(t,["maskImageConfig"]);m!=null&&f(n,["maskImageConfig"],RE(a,m));const g=u(t,["controlImageConfig"]);g!=null&&f(n,["controlImageConfig"],bE(a,g));const y=u(t,["styleImageConfig"]);y!=null&&f(n,["styleImageConfig"],wE(a,y));const h=u(t,["subjectImageConfig"]);return h!=null&&f(n,["subjectImageConfig"],DE(a,h)),n}function UE(a,t,n){const l={},s=u(t,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const c=u(t,["negativePrompt"]);n!==void 0&&c!=null&&f(n,["parameters","negativePrompt"],c);const m=u(t,["numberOfImages"]);n!==void 0&&m!=null&&f(n,["parameters","sampleCount"],m);const g=u(t,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const y=u(t,["guidanceScale"]);n!==void 0&&y!=null&&f(n,["parameters","guidanceScale"],y);const h=u(t,["seed"]);n!==void 0&&h!=null&&f(n,["parameters","seed"],h);const v=u(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&f(n,["parameters","safetySetting"],v);const _=u(t,["personGeneration"]);n!==void 0&&_!=null&&f(n,["parameters","personGeneration"],_);const S=u(t,["includeSafetyAttributes"]);n!==void 0&&S!=null&&f(n,["parameters","includeSafetyAttributes"],S);const R=u(t,["includeRaiReason"]);n!==void 0&&R!=null&&f(n,["parameters","includeRaiReason"],R);const O=u(t,["language"]);n!==void 0&&O!=null&&f(n,["parameters","language"],O);const B=u(t,["outputMimeType"]);n!==void 0&&B!=null&&f(n,["parameters","outputOptions","mimeType"],B);const Z=u(t,["outputCompressionQuality"]);n!==void 0&&Z!=null&&f(n,["parameters","outputOptions","compressionQuality"],Z);const se=u(t,["editMode"]);n!==void 0&&se!=null&&f(n,["parameters","editMode"],se);const J=u(t,["baseSteps"]);return n!==void 0&&J!=null&&f(n,["parameters","editConfig","baseSteps"],J),l}function OE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>IE(a,y))),f(n,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&f(n,["config"],UE(a,m,n)),n}function LE(a,t,n){const l={},s=u(t,["includeRaiReason"]);n!==void 0&&s!=null&&f(n,["parameters","includeRaiReason"],s);const c=u(t,["outputMimeType"]);n!==void 0&&c!=null&&f(n,["parameters","outputOptions","mimeType"],c);const m=u(t,["outputCompressionQuality"]);n!==void 0&&m!=null&&f(n,["parameters","outputOptions","compressionQuality"],m);const g=u(t,["numberOfImages"]);n!==void 0&&g!=null&&f(n,["parameters","sampleCount"],g);const y=u(t,["mode"]);return n!==void 0&&y!=null&&f(n,["parameters","mode"],y),l}function kE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["image"]);s!=null&&f(n,["instances[0]","image"],Gs(a,s));const c=u(t,["upscaleFactor"]);c!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],c);const m=u(t,["config"]);return m!=null&&f(n,["config"],LE(a,m,n)),n}function VE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function PE(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);n!==void 0&&m!=null&&f(n,["_query","filter"],m);const g=u(t,["queryBase"]);return n!==void 0&&g!=null&&f(n,["_url","models_url"],gg(a,g)),l}function GE(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],PE(a,l,n)),n}function zE(a,t,n){const l={},s=u(t,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);n!==void 0&&c!=null&&f(n,["description"],c);const m=u(t,["defaultCheckpointId"]);return n!==void 0&&m!=null&&f(n,["defaultCheckpointId"],m),l}function BE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],zE(a,s,n)),n}function qE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","name"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function HE(a,t,n){const l={},s=u(t,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Kl(a,kt(a,s)));const c=u(t,["tools"]);if(n!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Ag(a,y))),f(n,["tools"],g)}const m=u(t,["generationConfig"]);return n!==void 0&&m!=null&&f(n,["generationConfig"],m),l}function FE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);if(s!=null){let m=pn(a,s);Array.isArray(m)&&(m=m.map(g=>Kl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],HE(a,c,n)),n}function YE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["contents"]);if(s!=null){let m=pn(a,s);Array.isArray(m)&&(m=m.map(g=>Kl(a,g))),f(n,["contents"],m)}const c=u(t,["config"]);return c!=null&&f(n,["config"],c),n}function $E(a,t){const n={},l=u(t,["uri"]);l!=null&&f(n,["gcsUri"],l);const s=u(t,["videoBytes"]);s!=null&&f(n,["bytesBase64Encoded"],Jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function ZE(a,t,n){const l={},s=u(t,["numberOfVideos"]);n!==void 0&&s!=null&&f(n,["parameters","sampleCount"],s);const c=u(t,["outputGcsUri"]);n!==void 0&&c!=null&&f(n,["parameters","storageUri"],c);const m=u(t,["fps"]);n!==void 0&&m!=null&&f(n,["parameters","fps"],m);const g=u(t,["durationSeconds"]);n!==void 0&&g!=null&&f(n,["parameters","durationSeconds"],g);const y=u(t,["seed"]);n!==void 0&&y!=null&&f(n,["parameters","seed"],y);const h=u(t,["aspectRatio"]);n!==void 0&&h!=null&&f(n,["parameters","aspectRatio"],h);const v=u(t,["resolution"]);n!==void 0&&v!=null&&f(n,["parameters","resolution"],v);const _=u(t,["personGeneration"]);n!==void 0&&_!=null&&f(n,["parameters","personGeneration"],_);const S=u(t,["pubsubTopic"]);n!==void 0&&S!=null&&f(n,["parameters","pubsubTopic"],S);const R=u(t,["negativePrompt"]);n!==void 0&&R!=null&&f(n,["parameters","negativePrompt"],R);const O=u(t,["enhancePrompt"]);n!==void 0&&O!=null&&f(n,["parameters","enhancePrompt"],O);const B=u(t,["generateAudio"]);n!==void 0&&B!=null&&f(n,["parameters","generateAudio"],B);const Z=u(t,["lastFrame"]);return n!==void 0&&Z!=null&&f(n,["instances[0]","lastFrame"],Gs(a,Z)),l}function JE(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["_url","model"],tt(a,l));const s=u(t,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const c=u(t,["image"]);c!=null&&f(n,["instances[0]","image"],Gs(a,c));const m=u(t,["video"]);m!=null&&f(n,["instances[0]","video"],$E(a,m));const g=u(t,["config"]);return g!=null&&f(n,["config"],ZE(a,g,n)),n}function KE(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function XE(a,t){const n={},l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function QE(a,t){const n={},l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function WE(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],KE(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],XE(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],QE(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function jE(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>WE(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function e1(a,t){const n={},l=u(t,["citationSources"]);return l!=null&&f(n,["citations"],l),n}function t1(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function n1(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>t1(a,c))),f(n,["urlMetadata"],s)}return n}function i1(a,t){const n={},l=u(t,["content"]);l!=null&&f(n,["content"],jE(a,l));const s=u(t,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],e1(a,s));const c=u(t,["tokenCount"]);c!=null&&f(n,["tokenCount"],c);const m=u(t,["finishReason"]);m!=null&&f(n,["finishReason"],m);const g=u(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],n1(a,g));const y=u(t,["avgLogprobs"]);y!=null&&f(n,["avgLogprobs"],y);const h=u(t,["groundingMetadata"]);h!=null&&f(n,["groundingMetadata"],h);const v=u(t,["index"]);v!=null&&f(n,["index"],v);const _=u(t,["logprobsResult"]);_!=null&&f(n,["logprobsResult"],_);const S=u(t,["safetyRatings"]);return S!=null&&f(n,["safetyRatings"],S),n}function Fh(a,t){const n={},l=u(t,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>i1(a,y))),f(n,["candidates"],g)}const s=u(t,["modelVersion"]);s!=null&&f(n,["modelVersion"],s);const c=u(t,["promptFeedback"]);c!=null&&f(n,["promptFeedback"],c);const m=u(t,["usageMetadata"]);return m!=null&&f(n,["usageMetadata"],m),n}function l1(a,t){const n={},l=u(t,["values"]);return l!=null&&f(n,["values"],l),n}function o1(){return{}}function a1(a,t){const n={},l=u(t,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>l1(a,m))),f(n,["embeddings"],c)}return u(t,["metadata"])!=null&&f(n,["metadata"],o1()),n}function s1(a,t){const n={},l=u(t,["bytesBase64Encoded"]);l!=null&&f(n,["imageBytes"],Jn(a,l));const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function Mg(a,t){const n={},l=u(t,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const s=u(t,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const c=u(t,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function r1(a,t){const n={},l=u(t,["_self"]);l!=null&&f(n,["image"],s1(a,l));const s=u(t,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const c=u(t,["_self"]);return c!=null&&f(n,["safetyAttributes"],Mg(a,c)),n}function u1(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>r1(a,m))),f(n,["generatedImages"],c)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],Mg(a,s)),n}function c1(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function Ec(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["version"]);m!=null&&f(n,["version"],m);const g=u(t,["_self"]);g!=null&&f(n,["tunedModelInfo"],c1(a,g));const y=u(t,["inputTokenLimit"]);y!=null&&f(n,["inputTokenLimit"],y);const h=u(t,["outputTokenLimit"]);h!=null&&f(n,["outputTokenLimit"],h);const v=u(t,["supportedGenerationMethods"]);return v!=null&&f(n,["supportedActions"],v),n}function f1(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["_self"]);if(s!=null){let c=yg(a,s);Array.isArray(c)&&(c=c.map(m=>Ec(a,m))),f(n,["models"],c)}return n}function d1(){return{}}function m1(a,t){const n={},l=u(t,["totalTokens"]);l!=null&&f(n,["totalTokens"],l);const s=u(t,["cachedContentTokenCount"]);return s!=null&&f(n,["cachedContentTokenCount"],s),n}function p1(a,t){const n={},l=u(t,["video","uri"]);l!=null&&f(n,["uri"],l);const s=u(t,["video","encodedVideo"]);s!=null&&f(n,["videoBytes"],Jn(a,s));const c=u(t,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function h1(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],p1(a,l)),n}function g1(a,t){const n={},l=u(t,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>h1(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function y1(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],g1(a,g)),n}function v1(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function T1(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["data"]);s!=null&&f(n,["data"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function C1(a,t){const n={},l=u(t,["displayName"]);l!=null&&f(n,["displayName"],l);const s=u(t,["fileUri"]);s!=null&&f(n,["fileUri"],s);const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function _1(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],v1(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],T1(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],C1(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function S1(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>_1(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function E1(a,t){const n={},l=u(t,["citations"]);return l!=null&&f(n,["citations"],l),n}function x1(a,t){const n={},l=u(t,["retrievedUrl"]);l!=null&&f(n,["retrievedUrl"],l);const s=u(t,["urlRetrievalStatus"]);return s!=null&&f(n,["urlRetrievalStatus"],s),n}function A1(a,t){const n={},l=u(t,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>x1(a,c))),f(n,["urlMetadata"],s)}return n}function M1(a,t){const n={},l=u(t,["content"]);l!=null&&f(n,["content"],S1(a,l));const s=u(t,["citationMetadata"]);s!=null&&f(n,["citationMetadata"],E1(a,s));const c=u(t,["finishMessage"]);c!=null&&f(n,["finishMessage"],c);const m=u(t,["finishReason"]);m!=null&&f(n,["finishReason"],m);const g=u(t,["urlContextMetadata"]);g!=null&&f(n,["urlContextMetadata"],A1(a,g));const y=u(t,["avgLogprobs"]);y!=null&&f(n,["avgLogprobs"],y);const h=u(t,["groundingMetadata"]);h!=null&&f(n,["groundingMetadata"],h);const v=u(t,["index"]);v!=null&&f(n,["index"],v);const _=u(t,["logprobsResult"]);_!=null&&f(n,["logprobsResult"],_);const S=u(t,["safetyRatings"]);return S!=null&&f(n,["safetyRatings"],S),n}function Yh(a,t){const n={},l=u(t,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>M1(a,v))),f(n,["candidates"],h)}const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["responseId"]);c!=null&&f(n,["responseId"],c);const m=u(t,["modelVersion"]);m!=null&&f(n,["modelVersion"],m);const g=u(t,["promptFeedback"]);g!=null&&f(n,["promptFeedback"],g);const y=u(t,["usageMetadata"]);return y!=null&&f(n,["usageMetadata"],y),n}function N1(a,t){const n={},l=u(t,["truncated"]);l!=null&&f(n,["truncated"],l);const s=u(t,["token_count"]);return s!=null&&f(n,["tokenCount"],s),n}function R1(a,t){const n={},l=u(t,["values"]);l!=null&&f(n,["values"],l);const s=u(t,["statistics"]);return s!=null&&f(n,["statistics"],N1(a,s)),n}function b1(a,t){const n={},l=u(t,["billableCharacterCount"]);return l!=null&&f(n,["billableCharacterCount"],l),n}function w1(a,t){const n={},l=u(t,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>R1(a,m))),f(n,["embeddings"],c)}const s=u(t,["metadata"]);return s!=null&&f(n,["metadata"],b1(a,s)),n}function D1(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["imageBytes"],Jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function Ng(a,t){const n={},l=u(t,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const s=u(t,["safetyAttributes","scores"]);s!=null&&f(n,["scores"],s);const c=u(t,["contentType"]);return c!=null&&f(n,["contentType"],c),n}function Dc(a,t){const n={},l=u(t,["_self"]);l!=null&&f(n,["image"],D1(a,l));const s=u(t,["raiFilteredReason"]);s!=null&&f(n,["raiFilteredReason"],s);const c=u(t,["_self"]);c!=null&&f(n,["safetyAttributes"],Ng(a,c));const m=u(t,["prompt"]);return m!=null&&f(n,["enhancedPrompt"],m),n}function I1(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Dc(a,m))),f(n,["generatedImages"],c)}const s=u(t,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],Ng(a,s)),n}function U1(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Dc(a,c))),f(n,["generatedImages"],s)}return n}function O1(a,t){const n={},l=u(t,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Dc(a,c))),f(n,["generatedImages"],s)}return n}function L1(a,t){const n={},l=u(t,["endpoint"]);l!=null&&f(n,["name"],l);const s=u(t,["deployedModelId"]);return s!=null&&f(n,["deployedModelId"],s),n}function k1(a,t){const n={},l=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(t,["updateTime"]);return c!=null&&f(n,["updateTime"],c),n}function V1(a,t){const n={},l=u(t,["checkpointId"]);l!=null&&f(n,["checkpointId"],l);const s=u(t,["epoch"]);s!=null&&f(n,["epoch"],s);const c=u(t,["step"]);return c!=null&&f(n,["step"],c),n}function xc(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["displayName"]);s!=null&&f(n,["displayName"],s);const c=u(t,["description"]);c!=null&&f(n,["description"],c);const m=u(t,["versionId"]);m!=null&&f(n,["version"],m);const g=u(t,["deployedModels"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(R=>L1(a,R))),f(n,["endpoints"],S)}const y=u(t,["labels"]);y!=null&&f(n,["labels"],y);const h=u(t,["_self"]);h!=null&&f(n,["tunedModelInfo"],k1(a,h));const v=u(t,["defaultCheckpointId"]);v!=null&&f(n,["defaultCheckpointId"],v);const _=u(t,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(R=>V1(a,R))),f(n,["checkpoints"],S)}return n}function P1(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["_self"]);if(s!=null){let c=yg(a,s);Array.isArray(c)&&(c=c.map(m=>xc(a,m))),f(n,["models"],c)}return n}function G1(){return{}}function z1(a,t){const n={},l=u(t,["totalTokens"]);return l!=null&&f(n,["totalTokens"],l),n}function B1(a,t){const n={},l=u(t,["tokensInfo"]);return l!=null&&f(n,["tokensInfo"],l),n}function q1(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["uri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],Jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function H1(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],q1(a,l)),n}function F1(a,t){const n={},l=u(t,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>H1(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Y1(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],F1(a,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1="Content-Type",Z1="X-Server-Timeout",J1="User-Agent",Ac="x-goog-api-client",K1="1.5.1",X1=`google-genai-sdk/${K1}`,Q1="v1beta1",W1="v1beta",$h=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Rg extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Mc extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class j1{constructor(t){var n,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Q1,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:W1,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,l){const s=[this.getRequestUrlInternal(n)];return l&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,l);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))s.searchParams.append(m,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,n,t.abortSignal),this.unaryApiCall(s,c,t.httpMethod)}patchHttpOptions(t,n){const l=JSON.parse(JSON.stringify(t));for(const[s,c]of Object.entries(n))typeof c=="object"?l[s]=Object.assign(Object.assign({},l[s]),c):c!==void 0&&(l[s]=c);return l}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,l);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,n,t.abortSignal),this.streamApiCall(s,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,l){if(n&&n.timeout||l){const s=new AbortController,c=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),l&&l.addEventListener("abort",()=>{s.abort()}),t.signal=c}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:l})).then(async s=>(await Zh(s),new Tc(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,n,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:l})).then(async s=>(await Zh(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var n;return Bl(this,arguments,function*(){const s=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield nt(s.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=c.decode(y);try{const _=JSON.parse(h);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),R=S.status,O=S.code,B=`got status: ${R}. ${JSON.stringify(_)}`;if(O>=400&&O<500)throw new Rg(B);if(O>=500&&O<600)throw new Mc(B)}}catch(_){const S=_;if(S.name==="ClientError"||S.name==="ServerError")throw _}m+=h;let v=m.match($h);for(;v;){const _=v[1];try{const S=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield nt(new Tc(S)),m=m.slice(v[0].length),v=m.match($h)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},n=X1+" "+this.clientOptions.userAgentExtra;return t[J1]=n,t[Ac]=n,t[$1]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[l,s]of Object.entries(t.headers))n.append(l,s);t.timeout&&t.timeout>0&&n.append(Z1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var l;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);s.sizeBytes=String(m.size);const g=(l=n==null?void 0:n.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=g;const y=await this.fetchUploadUrl(s,n);return c.upload(t,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var l;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const c={file:t},m=await this.request({path:_e("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Zh(a){var t;if(a===void 0)throw new Mc("response is undefined");if(!a.ok){const n=a.status,l=a.statusText;let s;!((t=a.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await a.json():s={error:{message:await a.text(),code:a.status,status:a.statusText}};const c=`got status: ${n} ${l}. ${JSON.stringify(s)}`;throw n>=400&&n<500?new Rg(c):n>=500&&n<600?new Mc(c):new Error(c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ex="mcp_used/unknown";function bg(a){for(const t of a)if(Ic(t)||typeof t=="object"&&"inputSchema"in t)return!0;return!1}function wg(a){var t;const n=(t=a[Ac])!==null&&t!==void 0?t:"";a[Ac]=(n+` ${ex}`).trimStart()}function tx(a){var t,n,l;return(l=(n=(t=a.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>Ic(s)))!==null&&l!==void 0?l:!1}function nx(a){var t,n,l;return(l=(n=(t=a.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>!Ic(s)))!==null&&l!==void 0?l:!1}function Ic(a){return a!==null&&typeof a=="object"&&a instanceof Uc}function ix(a,t=100){return Bl(this,arguments,function*(){let l,s=0;for(;s<t;){const c=yield nt(a.listTools({cursor:l}));for(const m of c.tools)yield yield nt(m),s++;if(!c.nextCursor)break;l=c.nextCursor}})}class Uc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Uc(t,n)}async initialize(){var t,n,l,s;if(this.mcpTools.length>0)return;const c={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(n=void 0,jo(ix(v))),h;h=await y.next(),t=h.done,!t;g=!0){s=h.value,g=!1;const _=s;m.push(_);const S=_.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(_){n={error:_}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(n)throw n.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),lT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[l.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await s.callTool({name:l.name,arguments:l.args},void 0,c);n.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lx(a,t,n){const l=new Y0;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const c=mS(a,s);Object.assign(l,c),t(l)}class ox{constructor(t,n,l){this.apiClient=t,this.auth=n,this.webSocketFactory=l}async connect(t){var n,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=rx(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(ne=>{h=ne}),_=t.callbacks,S=function(){h({})},R=this.apiClient,O={onopen:S,onmessage:ne=>{lx(R,_.onmessage,ne)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(ne){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(ne){}},B=this.webSocketFactory.create(y,sx(m),O);B.connect(),await v;const Z=tt(this.apiClient,t.model),se=Sg(this.apiClient,{model:Z}),J=Sc(this.apiClient,{setup:se});return B.send(JSON.stringify(J)),new ax(B,this.apiClient)}}class ax{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N_(this.apiClient,t),l=Eg(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=R_(this.apiClient,t),l=Sc(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const n=Sc(this.apiClient,{playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gl.PLAY)}pause(){this.sendPlaybackControl(Gl.PAUSE)}stop(){this.sendPlaybackControl(Gl.STOP)}resetContext(){this.sendPlaybackControl(Gl.RESET_CONTEXT)}close(){this.conn.close()}}function sx(a){const t={};return a.forEach((n,l)=>{t[l]=n}),t}function rx(a){const t=new Headers;for(const[n,l]of Object.entries(a))t.append(n,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ux="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cx(a,t,n){const l=new F0;let s;if(n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),a.isVertexAI()){const c=lS(a,s);Object.assign(l,c)}else{const c=iS(a,s);Object.assign(l,c)}t(l)}class fx{constructor(t,n,l){this.apiClient=t,this.auth=n,this.webSocketFactory=l,this.music=new ox(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,l,s,c,m,g;const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getDefaultHeaders();t.config&&t.config.tools&&bg(t.config.tools)&&wg(_);const S=hx(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const j=this.apiClient.getApiKey();let fe="BidiGenerateContent",Ge="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),fe="BidiGenerateContentConstrained",Ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${fe}?${Ge}=${j}`}let R=()=>{};const O=new Promise(j=>{R=j}),B=t.callbacks,Z=function(){var j;(j=B==null?void 0:B.onopen)===null||j===void 0||j.call(B),R({})},se=this.apiClient,J={onopen:Z,onmessage:j=>{cx(se,B.onmessage,j)},onerror:(n=B==null?void 0:B.onerror)!==null&&n!==void 0?n:function(j){},onclose:(l=B==null?void 0:B.onclose)!==null&&l!==void 0?l:function(j){}},ne=this.webSocketFactory.create(v,px(S),J);ne.connect(),await O;let Y=tt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const j=this.apiClient.getProject(),fe=this.apiClient.getLocation();Y=`projects/${j}/locations/${fe}/`+Y}let W={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Us.AUDIO]}:t.config.responseModalities=[Us.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const pe=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],X=[];for(const j of pe)if(this.isCallableTool(j)){const fe=j;X.push(await fe.tool())}else X.push(j);X.length>0&&(t.config.tools=X);const ve={model:Y,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=C_(this.apiClient,ve):W=T_(this.apiClient,ve),delete W.config,ne.send(JSON.stringify(W)),new mx(ne,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const dx={turnComplete:!0};class mx{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let l=[];try{l=pn(t,n.turns),t.isVertexAI()?l=l.map(s=>Kl(t,s)):l=l.map(s=>Ps(t,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:l,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let l=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?l=n.functionResponses:l=[n.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const c of l){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(ux)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},dx),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:M_(this.apiClient,t)}:n={realtimeInput:A_(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function px(a){const t={};return a.forEach((n,l)=>{t[l]=n}),t}function hx(a){const t=new Headers;for(const[n,l]of Object.entries(a))t.append(n,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh=10;function Kh(a){var t,n,l;if(!((t=a==null?void 0:a.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const m of(n=a==null?void 0:a.tools)!==null&&n!==void 0?n:[])if(Ms(m)){s=!0;break}if(!s)return!0;const c=(l=a==null?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Ms(a){return"callTool"in a&&typeof a.callTool=="function"}function Xh(a){var t;return!(!((t=a==null?void 0:a.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends Jl{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var l,s,c,m,g;const y=await this.processParamsForMcpUsage(n);if(!tx(n)||Kh(n.config))return await this.generateContentInternal(y);if(nx(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const _=pn(this.apiClient,y.contents),S=(c=(s=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:Jh;let R=0;for(;R<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const O=h.candidates[0].content,B=[];for(const Z of(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ms(Z)){const J=await Z.callTool(h.functionCalls);B.push(...J)}R++,v={role:"user",parts:B},y.contents=pn(this.apiClient,y.contents),y.contents.push(O),y.contents.push(v),Xh(y.config)&&(_.push(O),_.push(v))}return Xh(y.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{if(Kh(n.config)){const l=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(l=>{var s;let c;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:m.push(y);let g;return c?g={generatedImages:m,positivePromptSafetyAttributes:c}:g={generatedImages:m},g}),this.list=async n=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Vs(Zl.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async n=>{const l={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(l.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async n=>{let l={numberOfImages:1,mode:"upscale"};n.config&&(l=Object.assign(Object.assign({},l),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:l};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(t){var n,l,s;const c=(n=t.config)===null||n===void 0?void 0:n.tools;if(!c)return t;const m=await Promise.all(c.map(async y=>Ms(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&bg(t.config.tools)){const y=(s=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),wg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var n,l,s;const c=new Map;for(const m of(l=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&l!==void 0?l:[])if(Ms(m)){const g=m,y=await g.tool();for(const h of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var n,l,s;const c=(s=(l=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Jh;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return function(h,v,_){var S,R;return Bl(this,arguments,function*(){for(var O,B,Z,se;g<c;){m&&(g++,m=!1);const W=yield nt(h.processParamsForMcpUsage(_)),pe=yield nt(h.generateContentStreamInternal(W)),X=[],ve=[];try{for(var J=!0,ne=(B=void 0,jo(pe)),Y;Y=yield nt(ne.next()),O=Y.done,!O;J=!0){se=Y.value,J=!1;const j=se;if(yield yield nt(j),j.candidates&&(!((S=j.candidates[0])===null||S===void 0)&&S.content)){ve.push(j.candidates[0].content);for(const fe of(R=j.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<c&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(fe.functionCall.name)){const Ge=yield nt(v.get(fe.functionCall.name).callTool([fe.functionCall]));X.push(...Ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(j){B={error:j}}finally{try{!J&&!O&&(Z=ne.return)&&(yield nt(Z.call(ne)))}finally{if(B)throw B.error}}if(X.length>0){m=!0;const j=new Ko;j.candidates=[{content:{role:"user",parts:X}}],yield yield nt(j);const fe=[];fe.push(...ve),fe.push({role:"user",parts:X});const Ge=pn(h.apiClient,_.contents).concat(fe);_.contents=Ge}else break}})}(this,y,t)}async generateContentInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Hh(this.apiClient,t);return g=_e("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=Yh(this.apiClient,v),S=new Ko;return Object.assign(S,_),S})}else{const h=qh(this.apiClient,t);return g=_e("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=Fh(this.apiClient,v),S=new Ko;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Hh(this.apiClient,t);g=_e("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(_){return Bl(this,arguments,function*(){var S,R,O,B;try{for(var Z=!0,se=jo(_),J;J=yield nt(se.next()),S=J.done,!S;Z=!0){B=J.value,Z=!1;const Y=Yh(v,yield nt(B.json())),W=new Ko;Object.assign(W,Y),yield yield nt(W)}}catch(ne){R={error:ne}}finally{try{!Z&&!S&&(O=se.return)&&(yield nt(O.call(se)))}finally{if(R)throw R.error}}})})}else{const h=qh(this.apiClient,t);g=_e("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(_){return Bl(this,arguments,function*(){var S,R,O,B;try{for(var Z=!0,se=jo(_),J;J=yield nt(se.next()),S=J.done,!S;Z=!0){B=J.value,Z=!1;const Y=Fh(v,yield nt(B.json())),W=new Ko;Object.assign(W,Y),yield yield nt(W)}}catch(ne){R={error:ne}}finally{try{!Z&&!S&&(O=se.return)&&(yield nt(O.call(se)))}finally{if(R)throw R.error}}})})}}async embedContent(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=AE(this.apiClient,t);return g=_e("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=w1(this.apiClient,v),S=new Sh;return Object.assign(S,_),S})}else{const h=PS(this.apiClient,t);return g=_e("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=a1(this.apiClient,v),S=new Sh;return Object.assign(S,_),S})}}async generateImagesInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NE(this.apiClient,t);return g=_e("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=I1(this.apiClient,v),S=new Eh;return Object.assign(S,_),S})}else{const h=zS(this.apiClient,t);return g=_e("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=u1(this.apiClient,v),S=new Eh;return Object.assign(S,_),S})}}async editImageInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=OE(this.apiClient,t);return c=_e("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=U1(this.apiClient,y),v=new P0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,t);return c=_e("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=O1(this.apiClient,y),v=new G0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=VE(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>xc(this.apiClient,v))}else{const h=BS(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ec(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=GE(this.apiClient,t);return g=_e("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=P1(this.apiClient,v),S=new xh;return Object.assign(S,_),S})}else{const h=HS(this.apiClient,t);return g=_e("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=f1(this.apiClient,v),S=new xh;return Object.assign(S,_),S})}}async update(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,t);return g=_e("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>xc(this.apiClient,v))}else{const h=YS(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ec(this.apiClient,v))}}async delete(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qE(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=G1(),_=new Ah;return Object.assign(_,v),_})}else{const h=$S(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(()=>{const v=d1(),_=new Ah;return Object.assign(_,v),_})}}async countTokens(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,t);return g=_e("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=z1(this.apiClient,v),S=new Mh;return Object.assign(S,_),S})}else{const h=JS(this.apiClient,t);return g=_e("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=m1(this.apiClient,v),S=new Mh;return Object.assign(S,_),S})}}async computeTokens(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=YE(this.apiClient,t);return c=_e("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const h=B1(this.apiClient,y),v=new z0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,t);return g=_e("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Y1(this.apiClient,v))}else{const h=QS(this.apiClient,t);return g=_e("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>y1(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["_url","operationName"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function vx(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["_url","operationName"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function Tx(a,t){const n={},l=u(t,["operationName"]);l!=null&&f(n,["operationName"],l);const s=u(t,["resourceName"]);s!=null&&f(n,["_url","resourceName"],s);const c=u(t,["config"]);return c!=null&&f(n,["config"],c),n}function Cx(a,t){const n={},l=u(t,["video","uri"]);l!=null&&f(n,["uri"],l);const s=u(t,["video","encodedVideo"]);s!=null&&f(n,["videoBytes"],Jn(a,s));const c=u(t,["encoding"]);return c!=null&&f(n,["mimeType"],c),n}function _x(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],Cx(a,l)),n}function Sx(a,t){const n={},l=u(t,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>_x(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Ex(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response","generateVideoResponse"]);return g!=null&&f(n,["response"],Sx(a,g)),n}function xx(a,t){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["uri"],l);const s=u(t,["bytesBase64Encoded"]);s!=null&&f(n,["videoBytes"],Jn(a,s));const c=u(t,["mimeType"]);return c!=null&&f(n,["mimeType"],c),n}function Ax(a,t){const n={},l=u(t,["_self"]);return l!=null&&f(n,["video"],xx(a,l)),n}function Mx(a,t){const n={},l=u(t,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>Ax(a,g))),f(n,["generatedVideos"],m)}const s=u(t,["raiMediaFilteredCount"]);s!=null&&f(n,["raiMediaFilteredCount"],s);const c=u(t,["raiMediaFilteredReasons"]);return c!=null&&f(n,["raiMediaFilteredReasons"],c),n}function Qh(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);m!=null&&f(n,["error"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],Mx(a,g)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nx extends Jl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,l=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let c;return l&&"httpOptions"in l&&(c=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:c}})}else return this.getVideosOperationInternal({operationName:n.name,config:l})}async getVideosOperationInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vx(this.apiClient,t);return g=_e("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Qh(this.apiClient,v))}else{const h=yx(this.apiClient,t);return g=_e("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ex(this.apiClient,v))}}async fetchPredictVideosOperationInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=Tx(this.apiClient,t);return c=_e("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Qh(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rx(a,t){const n={},l=u(t,["voiceName"]);return l!=null&&f(n,["voiceName"],l),n}function Dg(a,t){const n={},l=u(t,["prebuiltVoiceConfig"]);return l!=null&&f(n,["prebuiltVoiceConfig"],Rx(a,l)),n}function bx(a,t){const n={},l=u(t,["speaker"]);l!=null&&f(n,["speaker"],l);const s=u(t,["voiceConfig"]);return s!=null&&f(n,["voiceConfig"],Dg(a,s)),n}function wx(a,t){const n={},l=u(t,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>bx(a,c))),f(n,["speakerVoiceConfigs"],s)}return n}function Dx(a,t){const n={},l=u(t,["voiceConfig"]);l!=null&&f(n,["voiceConfig"],Dg(a,l));const s=u(t,["multiSpeakerVoiceConfig"]);s!=null&&f(n,["multiSpeakerVoiceConfig"],wx(a,s));const c=u(t,["languageCode"]);return c!=null&&f(n,["languageCode"],c),n}function Ix(a,t){const n={},l=u(t,["fps"]);l!=null&&f(n,["fps"],l);const s=u(t,["endOffset"]);s!=null&&f(n,["endOffset"],s);const c=u(t,["startOffset"]);return c!=null&&f(n,["startOffset"],c),n}function Ux(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["data"]);l!=null&&f(n,["data"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function Ox(a,t){const n={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(t,["fileUri"]);l!=null&&f(n,["fileUri"],l);const s=u(t,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function Lx(a,t){const n={},l=u(t,["videoMetadata"]);l!=null&&f(n,["videoMetadata"],Ix(a,l));const s=u(t,["thought"]);s!=null&&f(n,["thought"],s);const c=u(t,["inlineData"]);c!=null&&f(n,["inlineData"],Ux(a,c));const m=u(t,["fileData"]);m!=null&&f(n,["fileData"],Ox(a,m));const g=u(t,["thoughtSignature"]);g!=null&&f(n,["thoughtSignature"],g);const y=u(t,["codeExecutionResult"]);y!=null&&f(n,["codeExecutionResult"],y);const h=u(t,["executableCode"]);h!=null&&f(n,["executableCode"],h);const v=u(t,["functionCall"]);v!=null&&f(n,["functionCall"],v);const _=u(t,["functionResponse"]);_!=null&&f(n,["functionResponse"],_);const S=u(t,["text"]);return S!=null&&f(n,["text"],S),n}function kx(a,t){const n={},l=u(t,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Lx(a,m))),f(n,["parts"],c)}const s=u(t,["role"]);return s!=null&&f(n,["role"],s),n}function Vx(a,t){const n={},l=u(t,["behavior"]);l!=null&&f(n,["behavior"],l);const s=u(t,["description"]);s!=null&&f(n,["description"],s);const c=u(t,["name"]);c!=null&&f(n,["name"],c);const m=u(t,["parameters"]);m!=null&&f(n,["parameters"],m);const g=u(t,["response"]);return g!=null&&f(n,["response"],g),n}function Px(a,t){const n={},l=u(t,["startTime"]);l!=null&&f(n,["startTime"],l);const s=u(t,["endTime"]);return s!=null&&f(n,["endTime"],s),n}function Gx(a,t){const n={},l=u(t,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],Px(a,l)),n}function zx(a,t){const n={},l=u(t,["mode"]);l!=null&&f(n,["mode"],l);const s=u(t,["dynamicThreshold"]);return s!=null&&f(n,["dynamicThreshold"],s),n}function Bx(a,t){const n={},l=u(t,["dynamicRetrievalConfig"]);return l!=null&&f(n,["dynamicRetrievalConfig"],zx(a,l)),n}function qx(){return{}}function Hx(a,t){const n={},l=u(t,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(h=>Vx(a,h))),f(n,["functionDeclarations"],y)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(t,["googleSearch"]);s!=null&&f(n,["googleSearch"],Gx(a,s));const c=u(t,["googleSearchRetrieval"]);if(c!=null&&f(n,["googleSearchRetrieval"],Bx(a,c)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(n,["urlContext"],qx());const g=u(t,["codeExecution"]);return g!=null&&f(n,["codeExecution"],g),n}function Fx(a,t){const n={},l=u(t,["handle"]);if(l!=null&&f(n,["handle"],l),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Wh(){return{}}function Yx(a,t){const n={},l=u(t,["disabled"]);l!=null&&f(n,["disabled"],l);const s=u(t,["startOfSpeechSensitivity"]);s!=null&&f(n,["startOfSpeechSensitivity"],s);const c=u(t,["endOfSpeechSensitivity"]);c!=null&&f(n,["endOfSpeechSensitivity"],c);const m=u(t,["prefixPaddingMs"]);m!=null&&f(n,["prefixPaddingMs"],m);const g=u(t,["silenceDurationMs"]);return g!=null&&f(n,["silenceDurationMs"],g),n}function $x(a,t){const n={},l=u(t,["automaticActivityDetection"]);l!=null&&f(n,["automaticActivityDetection"],Yx(a,l));const s=u(t,["activityHandling"]);s!=null&&f(n,["activityHandling"],s);const c=u(t,["turnCoverage"]);return c!=null&&f(n,["turnCoverage"],c),n}function Zx(a,t){const n={},l=u(t,["targetTokens"]);return l!=null&&f(n,["targetTokens"],l),n}function Jx(a,t){const n={},l=u(t,["triggerTokens"]);l!=null&&f(n,["triggerTokens"],l);const s=u(t,["slidingWindow"]);return s!=null&&f(n,["slidingWindow"],Zx(a,s)),n}function Kx(a,t){const n={},l=u(t,["proactiveAudio"]);return l!=null&&f(n,["proactiveAudio"],l),n}function Xx(a,t,n){const l={},s=u(t,["generationConfig"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig"],s);const c=u(t,["responseModalities"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","responseModalities"],c);const m=u(t,["temperature"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","temperature"],m);const g=u(t,["topP"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","topP"],g);const y=u(t,["topK"]);n!==void 0&&y!=null&&f(n,["setup","generationConfig","topK"],y);const h=u(t,["maxOutputTokens"]);n!==void 0&&h!=null&&f(n,["setup","generationConfig","maxOutputTokens"],h);const v=u(t,["mediaResolution"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","mediaResolution"],v);const _=u(t,["seed"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","seed"],_);const S=u(t,["speechConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","speechConfig"],Dx(a,wc(a,S)));const R=u(t,["enableAffectiveDialog"]);n!==void 0&&R!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],R);const O=u(t,["systemInstruction"]);n!==void 0&&O!=null&&f(n,["setup","systemInstruction"],kx(a,kt(a,O)));const B=u(t,["tools"]);if(n!==void 0&&B!=null){let pe=ia(a,B);Array.isArray(pe)&&(pe=pe.map(X=>Hx(a,na(a,X)))),f(n,["setup","tools"],pe)}const Z=u(t,["sessionResumption"]);n!==void 0&&Z!=null&&f(n,["setup","sessionResumption"],Fx(a,Z));const se=u(t,["inputAudioTranscription"]);n!==void 0&&se!=null&&f(n,["setup","inputAudioTranscription"],Wh());const J=u(t,["outputAudioTranscription"]);n!==void 0&&J!=null&&f(n,["setup","outputAudioTranscription"],Wh());const ne=u(t,["realtimeInputConfig"]);n!==void 0&&ne!=null&&f(n,["setup","realtimeInputConfig"],$x(a,ne));const Y=u(t,["contextWindowCompression"]);n!==void 0&&Y!=null&&f(n,["setup","contextWindowCompression"],Jx(a,Y));const W=u(t,["proactivity"]);return n!==void 0&&W!=null&&f(n,["setup","proactivity"],Kx(a,W)),l}function Qx(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["setup","model"],tt(a,l));const s=u(t,["config"]);return s!=null&&f(n,["config"],Xx(a,s,n)),n}function Wx(a,t,n){const l={},s=u(t,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const c=u(t,["newSessionExpireTime"]);n!==void 0&&c!=null&&f(n,["newSessionExpireTime"],c);const m=u(t,["uses"]);n!==void 0&&m!=null&&f(n,["uses"],m);const g=u(t,["liveConnectConstraints"]);n!==void 0&&g!=null&&f(n,["bidiGenerateContentSetup"],Qx(a,g));const y=u(t,["lockAdditionalFields"]);return n!==void 0&&y!=null&&f(n,["fieldMask"],y),l}function jx(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],Wx(a,l,n)),n}function eA(a,t){const n={},l=u(t,["name"]);return l!=null&&f(n,["name"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tA(a){const t=[];for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)){const l=a[n];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const s=Object.keys(l).map(c=>`${n}.${c}`);t.push(...s)}else t.push(n)}return t.join(",")}function nA(a,t){let n=null;const l=a.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const c=l.setup;typeof c=="object"&&c!==null?(a.bidiGenerateContentSetup=c,n=c):delete a.bidiGenerateContentSetup}else l!==void 0&&delete a.bidiGenerateContentSetup;const s=a.fieldMask;if(n){const c=tA(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?a.fieldMask=c:delete a.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];s.length>0&&(g=s.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?a.fieldMask=y.join(","):delete a.fieldMask}else delete a.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?a.fieldMask=s.join(","):delete a.fieldMask;return a}class iA extends Jl{constructor(t){super(),this.apiClient=t}async create(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=jx(this.apiClient,t);c=_e("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=nA(g,t.config);return s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),s.then(h=>eA(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function oA(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),l}function aA(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],oA(a,l,n)),n}function sA(a,t){const n={},l=u(t,["textInput"]);l!=null&&f(n,["textInput"],l);const s=u(t,["output"]);return s!=null&&f(n,["output"],s),n}function rA(a,t){const n={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(t,["examples"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>sA(a,c))),f(n,["examples","examples"],s)}return n}function uA(a,t,n){const l={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(t,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&f(n,["displayName"],s),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(t,["epochCount"]);n!==void 0&&c!=null&&f(n,["tuningTask","hyperparameters","epochCount"],c);const m=u(t,["learningRateMultiplier"]);if(m!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(t,["batchSize"]);n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(t,["learningRate"]);return n!==void 0&&y!=null&&f(n,["tuningTask","hyperparameters","learningRate"],y),l}function cA(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["trainingDataset"]);s!=null&&f(n,["tuningTask","trainingData"],rA(a,s));const c=u(t,["config"]);return c!=null&&f(n,["config"],uA(a,c,n)),n}function fA(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["_url","name"],l);const s=u(t,["config"]);return s!=null&&f(n,["config"],s),n}function dA(a,t,n){const l={},s=u(t,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(t,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const m=u(t,["filter"]);return n!==void 0&&m!=null&&f(n,["_query","filter"],m),l}function mA(a,t){const n={},l=u(t,["config"]);return l!=null&&f(n,["config"],dA(a,l,n)),n}function pA(a,t,n){const l={},s=u(t,["gcsUri"]);if(n!==void 0&&s!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],s),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function hA(a,t){const n={},l=u(t,["gcsUri"]);return l!=null&&f(n,["validationDatasetUri"],l),n}function gA(a,t,n){const l={},s=u(t,["validationDataset"]);n!==void 0&&s!=null&&f(n,["supervisedTuningSpec"],hA(a,s));const c=u(t,["tunedModelDisplayName"]);n!==void 0&&c!=null&&f(n,["tunedModelDisplayName"],c);const m=u(t,["description"]);n!==void 0&&m!=null&&f(n,["description"],m);const g=u(t,["epochCount"]);n!==void 0&&g!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=u(t,["learningRateMultiplier"]);n!==void 0&&y!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const h=u(t,["exportLastCheckpointOnly"]);n!==void 0&&h!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const v=u(t,["adapterSize"]);if(n!==void 0&&v!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],v),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function yA(a,t){const n={},l=u(t,["baseModel"]);l!=null&&f(n,["baseModel"],l);const s=u(t,["trainingDataset"]);s!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],pA(a,s,n));const c=u(t,["config"]);return c!=null&&f(n,["config"],gA(a,c,n)),n}function vA(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["model"],l);const s=u(t,["name"]);return s!=null&&f(n,["endpoint"],s),n}function Ig(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["state"]);s!=null&&f(n,["state"],pg(a,s));const c=u(t,["createTime"]);c!=null&&f(n,["createTime"],c);const m=u(t,["tuningTask","startTime"]);m!=null&&f(n,["startTime"],m);const g=u(t,["tuningTask","completeTime"]);g!=null&&f(n,["endTime"],g);const y=u(t,["updateTime"]);y!=null&&f(n,["updateTime"],y);const h=u(t,["description"]);h!=null&&f(n,["description"],h);const v=u(t,["baseModel"]);v!=null&&f(n,["baseModel"],v);const _=u(t,["_self"]);_!=null&&f(n,["tunedModel"],vA(a,_));const S=u(t,["distillationSpec"]);S!=null&&f(n,["distillationSpec"],S);const R=u(t,["experiment"]);R!=null&&f(n,["experiment"],R);const O=u(t,["labels"]);O!=null&&f(n,["labels"],O);const B=u(t,["pipelineJob"]);B!=null&&f(n,["pipelineJob"],B);const Z=u(t,["serviceAccount"]);Z!=null&&f(n,["serviceAccount"],Z);const se=u(t,["tunedModelDisplayName"]);return se!=null&&f(n,["tunedModelDisplayName"],se),n}function TA(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>Ig(a,m))),f(n,["tuningJobs"],c)}return n}function CA(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["metadata"]);s!=null&&f(n,["metadata"],s);const c=u(t,["done"]);c!=null&&f(n,["done"],c);const m=u(t,["error"]);return m!=null&&f(n,["error"],m),n}function _A(a,t){const n={},l=u(t,["checkpointId"]);l!=null&&f(n,["checkpointId"],l);const s=u(t,["epoch"]);s!=null&&f(n,["epoch"],s);const c=u(t,["step"]);c!=null&&f(n,["step"],c);const m=u(t,["endpoint"]);return m!=null&&f(n,["endpoint"],m),n}function SA(a,t){const n={},l=u(t,["model"]);l!=null&&f(n,["model"],l);const s=u(t,["endpoint"]);s!=null&&f(n,["endpoint"],s);const c=u(t,["checkpoints"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>_A(a,g))),f(n,["checkpoints"],m)}return n}function Nc(a,t){const n={},l=u(t,["name"]);l!=null&&f(n,["name"],l);const s=u(t,["state"]);s!=null&&f(n,["state"],pg(a,s));const c=u(t,["createTime"]);c!=null&&f(n,["createTime"],c);const m=u(t,["startTime"]);m!=null&&f(n,["startTime"],m);const g=u(t,["endTime"]);g!=null&&f(n,["endTime"],g);const y=u(t,["updateTime"]);y!=null&&f(n,["updateTime"],y);const h=u(t,["error"]);h!=null&&f(n,["error"],h);const v=u(t,["description"]);v!=null&&f(n,["description"],v);const _=u(t,["baseModel"]);_!=null&&f(n,["baseModel"],_);const S=u(t,["tunedModel"]);S!=null&&f(n,["tunedModel"],SA(a,S));const R=u(t,["supervisedTuningSpec"]);R!=null&&f(n,["supervisedTuningSpec"],R);const O=u(t,["tuningDataStats"]);O!=null&&f(n,["tuningDataStats"],O);const B=u(t,["encryptionSpec"]);B!=null&&f(n,["encryptionSpec"],B);const Z=u(t,["partnerModelTuningSpec"]);Z!=null&&f(n,["partnerModelTuningSpec"],Z);const se=u(t,["distillationSpec"]);se!=null&&f(n,["distillationSpec"],se);const J=u(t,["experiment"]);J!=null&&f(n,["experiment"],J);const ne=u(t,["labels"]);ne!=null&&f(n,["labels"],ne);const Y=u(t,["pipelineJob"]);Y!=null&&f(n,["pipelineJob"],Y);const W=u(t,["serviceAccount"]);W!=null&&f(n,["serviceAccount"],W);const pe=u(t,["tunedModelDisplayName"]);return pe!=null&&f(n,["tunedModelDisplayName"],pe),n}function EA(a,t){const n={},l=u(t,["nextPageToken"]);l!=null&&f(n,["nextPageToken"],l);const s=u(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>Nc(a,m))),f(n,["tuningJobs"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends Jl{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Vs(Zl.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const l=await this.tuneMldevInternal(n);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:vc.JOB_STATE_QUEUED}}}}async getInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fA(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Nc(this.apiClient,v))}else{const h=lA(this.apiClient,t);return g=_e("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Ig(this.apiClient,v))}}async listInternal(t){var n,l,s,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=mA(this.apiClient,t);return g=_e("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const _=EA(this.apiClient,v),S=new Nh;return Object.assign(S,_),S})}else{const h=aA(this.apiClient,t);return g=_e("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=TA(this.apiClient,v),S=new Nh;return Object.assign(S,_),S})}}async tuneInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI()){const g=yA(this.apiClient,t);return c=_e("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Nc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,l;let s,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cA(this.apiClient,t);return c=_e("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,s=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>CA(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AA{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MA=1024*1024*8,NA=3,RA=1e3,bA=2,sc="x-goog-upload-status";async function wA(a,t,n){var l,s,c;let m=0,g=0,y=new Tc(new Response),h="upload";for(m=a.size;g<m;){const _=Math.min(MA,m-g),S=a.slice(g,g+_);g+_>=m&&(h+=", finalize");let R=0,O=RA;for(;R<NA&&(y=await n.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(_)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[sc]));)R++,await IA(O),O=O*bA;if(g+=_,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s[sc])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[sc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function DA(a){return{size:a.size,type:a.type}}function IA(a){return new Promise(t=>setTimeout(t,a))}class UA{async upload(t,n,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wA(t,n,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA{create(t,n,l){return new LA(t,n,l)}}class LA{constructor(t,n,l){this.url=t,this.headers=n,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jh="x-goog-api-key";class kA{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(jh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(jh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA="gl-node/";class Ug{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const l=V0(t,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion;const s=new kA(this.apiKey);this.apiClient=new j1({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:VA+"web",uploader:new UA,downloader:new AA}),this.models=new gx(this.apiClient),this.live=new fx(this.apiClient,s,new OA),this.chats=new cC(this.models,this.apiClient),this.caches=new sC(this.apiClient),this.files=new EC(this.apiClient),this.operations=new Nx(this.apiClient),this.authTokens=new iA(this.apiClient),this.tunings=new xA(this.apiClient)}}const PA=async(a,t)=>{try{const l=await new Promise((m,g)=>{const y=new FileReader;y.onloadend=()=>{y.result?m(y.result.split(",")[1]):g(new Error("Error al leer el archivo: el resultado es nulo."))},y.onerror=h=>g(new Error(`Error en FileReader: ${h}`)),y.readAsDataURL(a)});let s=a.type;const c=a.name.toLowerCase();if((!s||s==="application/octet-stream")&&(c.endsWith(".md")?s="text/markdown":c.endsWith(".txt")?s="text/plain":c.endsWith(".csv")?s="text/csv":c.endsWith(".json")&&(s="application/json"),s!==a.type&&t(F.FileProcessing,`MIME type para "${a.name}" (original: "${a.type||"ninguno"}") se estableció a "${s}" por extensión.`)),!s){const m=`No se pudo determinar un tipo MIME válido para el archivo "${a.name}". El navegador reportó: "${a.type||"ninguno"}". Asegúrese de que el archivo tenga una extensión estándar o que el navegador pueda identificar su tipo.`;return t(F.Error,m,{fileName:a.name,originalMimeType:a.type}),{error:m,fileName:a.name}}return t(F.FileProcessing,`Archivo "${a.name}" procesado a base64. Usando MIME type: ${s}.`,{fileName:a.name,mimeType:s,originalBrowserMimeType:a.type||"ninguno"}),{inlineData:{mimeType:s,data:l}}}catch(n){return t(F.Error,`Error procesando archivo "${a.name}" a base64.`,{fileName:a.name,error:n.message}),{error:n.message,fileName:a.name}}},GA=(a,t)=>new Promise((n,l)=>{const s=new FileReader;s.onload=c=>{c.target&&typeof c.target.result=="string"?(t(F.FileProcessing,`Contenido del archivo "${a.name}" leído como texto.`,{fileName:a.name,size:a.size}),n(c.target.result)):(t(F.Error,`Error al leer el contenido del archivo "${a.name}": resultado no es string o target es null.`),l(new Error(`Error al leer el contenido del archivo "${a.name}"`)))},s.onerror=c=>{t(F.Error,`Error de FileReader al leer "${a.name}" como texto.`,{fileName:a.name,error:c}),l(c)},s.readAsText(a)}),zA=(a,t,n,l,s,c,m,g)=>{let y="";t.length>0&&(y=`The following general context files have been provided. Their content is crucial for your response: [${t.map(B=>`"${B.name}"`).join(", ")}]. You must base your answers on this information.
`);let h="";l.length>0&&(h=`Additionally, for this specific request, the user has attached: [${l.map(B=>`"${B.name}"`).join(", ")}]. Consider these files with high priority for this request.
`);let v="";s.length>0&&(v=`NOTICE: Some files could not be processed and their content is unavailable:
`+s.map(O=>`- ${O}`).join(`
`)+`
`);let _="";m&&m.trim()!==""&&m.split(`
`).length>1&&(_=`Contexto Adicional: Banco de Preguntas Existente (formato CSV interno para tu referencia. NO intentes replicar este formato CSV en tu salida JSON, sigue usando la estructura JSON con "" para campos vacíos):
---
${m}
---
Considera estas preguntas para evitar duplicados y generar contenido complementario o diferente.
`);let S="";return c&&(S=`
ADEMÁS, esta es una SOLICITUD DE REESCRITURA.
Se te proporcionan las siguientes preguntas en formato JSON array. Debes procesar cada pregunta de este array.
--- INICIO DE JSON DE PREGUNTAS A REESCRIBIR ---
${c}
--- FIN DE JSON DE PREGUNTAS A REESCRIBIR ---

Para cada pregunta en el JSON anterior:
1.  Reescríbela basándote en la "Instrucción específica para esta tanda de preguntas" (que es: "${n}").
2.  En tu respuesta JSON, DEBES incluir el campo "id" ORIGINAL de la pregunta que estás reescribiendo.
    Ejemplo de objeto reescrito: { "id": "id-original-de-la-pregunta", "Pregunta": "...", ... }
Si, además de reescribir, decides generar preguntas COMPLETAMENTE NUEVAS (no basadas en las del JSON anterior), para estas preguntas NUEVAS, NO incluyas un campo "id" en el objeto JSON, o establécelo a null. El sistema les asignará un ID nuevo.
`),`Eres un asistente experto en crear material de estudio para la plataforma "Questioner Base".
Tu tarea es generar preguntas basadas en el contexto y las instrucciones proporcionadas.
DEBES responder ÚNICAMENTE con un array JSON. Cada objeto en el array representa una pregunta.
NO incluyas NADA de texto fuera del array JSON (ni introducciones, ni despedidas, ni explicaciones adicionales fuera del JSON).

La estructura de cada objeto JSON de pregunta DEBE ser la siguiente:
{
  "id": "string_or_null (SOLO para preguntas REESCRITAS, usa el ID original. Para preguntas NUEVAS, omite este campo o usa null)",
  "Pregunta": "string (texto de la pregunta)",
  "Opción correcta 1": "string (texto de la opción)",
  "Opción Correcta 2": "string_or_empty_string", 
  "Opción Correcta 3": "string_or_empty_string", 
  "Opción Incorrecta 1": "string_or_empty_string", 
  "Opción Incorrecta 2": "string_or_empty_string", 
  "Opción Incorrecta 3": "string_or_empty_string", 
  "Explicación": "string_or_empty_string" 
}

${c?S:""}

Campos Opcionales: Si un campo opcional (como 'Opción Correcta 2', 'Opción Incorrecta 1', etc.) no se utiliza para una pregunta específica, establece su valor a una cadena vacía \`""\`. NO uses \`null\` para estos campos de opciones/explicación.

**Explicaciones Detalladas y Obligatorias:** Siempre DEBES incluir una 'Explicación' para cada pregunta. Esta explicación debe ser lo más detallada posible, basándose exhaustivamente en el material de contexto proporcionado. Si el material no ofrece una explicación directa para una pregunta particular, genera una explicación concisa pero informativa tú mismo. La 'Explicación' NUNCA debe ser \`null\`; usa una cadena vacía \`""\` solo si es absolutamente imposible generar cualquier forma de explicación (lo cual debería ser raro). Esfuérzate por utilizar la mayor cantidad de tokens necesarios para que las explicaciones sean completas y útiles, sin ser innecesariamente verbosas.

${y}
Contexto general proporcionado (texto):
---
${a||"No se proporcionó contexto general en formato texto."}
---

${h}
${_}
Instrucción específica para esta tanda de preguntas: "${n}" 
${c?"(Nota: Para la reescritura, esta es la instrucción principal que debes seguir para modificar las preguntas del JSON proporcionado.)":""}


${v}

Tipos de preguntas y cómo definirlas en JSON:
-   Pregunta de Selección Única: Solo 'Opción correcta 1' tiene valor. 'Opción Correcta 2' y 'Opción Correcta 3' deben ser \`""\`. Incluye al menos una opción incorrecta con valor (o \`""\` si no aplica).
-   Pregunta de Selección Múltiple: 'Opción correcta 1' Y TAMBIÉN 'Opción Correcta 2' (y/o 'Opción Correcta 3') tienen valor.
-   Pregunta de Tipo Verdadero/Falso: Selección única. 'Opción correcta 1' (ej. "Verdadero"), 'Opción Incorrecta 1' (ej. "Falso"). Resto de opciones \`""\`.
-   Pregunta de Respuesta Escrita: Solo 'Opción correcta 1' tiene valor, que debe ser MUY CORTO (1 a 3 palabras máximo, idealmente solo 1). TODAS las opciones incorrectas DEBEN ser \`""\`.

Conformación de las preguntas y opciones:
-   Las opciones de respuesta SIEMPRE (a menos que sea la transcripción de preguntas añadidas por el usuario) deben muy breves, centrándose en colocar el nombre de los términos usando entre 1 a 4 palabras.
-   Cuando hay necesidad de poner opciones de respuesta largas, la respuesta correcta NO puede ser más larga que las incorrectas debido a que por simple inspección o descarte se puede adivinar la opción correcta. Todas las opciones deben tener un tamaño similar.
-   Las respuestas de escritura NUNCA pueden ser textos largos, céntrate en hacerlas con el nombre del término y su definición o contenido dentro del campo de Pregunta.

${g?`
¡ATENCIÓN! UN INTENTO ANTERIOR GLOBAL PARA ESTA SOLICITUD FALLÓ: "${g}". Por favor, intenta generar las preguntas de nuevo, prestando especial atención a las instrucciones y al formato JSON.
`:""}

Genera un conjunto de preguntas que cumplan con la instrucción específica y el contexto proporcionado. El número de preguntas puede variar, pero prioriza la calidad y la cobertura del tema solicitado sobre un número fijo. Intenta generar al menos 1-3 preguntas si el material lo permite.
Recuerda, tu respuesta DEBE ser solo el array JSON.

RECUERDA GENERAR EL TIPO DE PREGUNTA QUE EL USUARIO ESPECIFICA LLENANDO LA OPCION CORRECTA/INCORRECTA (OC/OI): 
- Si el usuario dice "Selección única" solo llenarás OC1 y OI1-3 (min. 2).
- Si el usuario dice "Selección múltiple" solo llenarás OC1-3 (min 2) y OI1-3 (min. 1).
- Si el usuario dice "verdadero o falso" solo llenarás OC1 y OC2.
- Si el usuario dice "respuesta libre" o "escrita" solo llenarás OC1 con contenido corto.
`},BA=(a,t)=>`Tu tarea anterior era generar un array JSON de preguntas, pero hubo un error en el formato de tu respuesta.

El error detectado fue: "${t}"

La respuesta ANTERIOR que generaste y que necesita CORRECCIÓN es:
---
${a}
---

Por favor, corrige ÚNICAMENTE el formato JSON de la respuesta anterior.
Asegúrate de que la respuesta sea un array JSON VÁLIDO.
Cada objeto en el array DEBE seguir esta estructura:
{
  "id": "string_or_null (SOLO para preguntas REESCRITAS, usa el ID original. Para preguntas NUEVAS, omite este campo o usa null)",
  "Pregunta": "string",
  "Opción correcta 1": "string",
  "Opción Correcta 2": "string_or_empty_string", 
  "Opción Correcta 3": "string_or_empty_string",
  "Opción Incorrecta 1": "string_or_empty_string",
  "Opción Incorrecta 2": "string_or_empty_string",
  "Opción Incorrecta 3": "string_or_empty_string",
  "Explicación": "string_or_empty_string" 
}

NO generes preguntas nuevas. NO cambies el contenido sustancial de las preguntas si no es estrictamente necesario para corregir el formato JSON.
Verifica comillas, comas, llaves y corchetes para asegurar que el JSON sea válido.
Si un campo opcional no se usa, usa una cadena vacía \`""\`. NO uses \`null\` para campos de opciones/explicación. Para el campo "id", sigue las instrucciones: ID original para reescritas, null u omitido para nuevas.
La 'Explicación' es obligatoria y debe ser una cadena (puede ser \`""\` si es imposible una explicación).


Vuelve a generar la respuesta COMPLETA, con el formato JSON corregido. Solo el array JSON.
`,qA=async(a,t,n,l,s,c,m,g,y)=>{if(!a)throw c(F.Error,"generateQuestionsFromGemini: API_KEY no fue proporcionada al servicio Gemini."),new Error("API_KEY no fue proporcionada al servicio Gemini.");const h=new Ug({apiKey:a});let v=0,_="",S;const R=[],O=[];let B;const se=[...n||[],...s||[]].filter((X,ve,j)=>ve===j.findIndex(fe=>fe.name===X.name&&fe.lastModified===X.lastModified&&fe.size===X.size)),J=[];for(const X of se)if(X.name===$n)try{B=await GA(X,c),c(F.Info,`Contenido de "${$n}" leído y preparado para ser embebido en el prompt.`,{size:X.size})}catch(ve){const j=`Error al leer el archivo de reescritura "${X.name}": ${ve.message}`;c(F.Error,j,{fileName:X.name}),O.push(j)}else J.push(X);for(const X of J){const ve=await PA(X,c);"error"in ve?O.push(`${X.name}: ${ve.error}`):R.unshift(ve)}const ne=(s||[]).filter(X=>X.name!==$n),Y=zA(t,n||[],l,ne,O,B,g,y),W=[...R,{text:Y}];try{c(F.GeminiRequest,`Solicitud inicial (streaming) a Gemini (intento general ${y?"con reintento":"1"})`,{promptLength:Y.length,filesAttachedAsParts:R.filter(j=>!!j.inlineData).length,isRewrite:!!B,existingQuestionsContextProvided:!!g,processedFileErrorMessages:O}),m("",!0);const X=await h.models.generateContentStream({model:ea,contents:[{parts:W}],config:{responseMimeType:"application/json"}});let ve="";for await(const j of X){const fe=j.text;fe&&(ve+=fe,m(fe,!1),c(F.GeminiStream,"Chunk recibido de Gemini",{chunkLength:fe.length}))}_=ve,c(F.GeminiResponse,`Stream de Gemini finalizado. Contenido agregado (longitud: ${_.length})`,{aggregatedResponsePreview:_.substring(0,300)+(_.length>300?"...":"")})}catch(X){throw c(F.Error,"Error durante el streaming inicial de Gemini.",{error:X.message,stack:X.stack,promptLength:Y.length}),X}for(;v<oc;){try{if(v>0){const Le=BA(_,S||"Error de parseo desconocido");c(F.GeminiRequest,`Corrección JSON intento ${v+1}. Error anterior: ${S}`,{promptLength:Le.length}),_=(await h.models.generateContent({model:ea,contents:[{parts:[{text:Le}]}],config:{responseMimeType:"application/json"}})).text,c(F.GeminiResponse,`Respuesta de corrección de Gemini recibida (intento ${v+1})`,{responseLength:_.length,responsePreview:_.substring(0,300)})}if(!_||_.trim()===""){const Le="Gemini devolvió una respuesta JSON vacía.";if(c(F.Error,Le,{attempt:v}),v>=0){S=Le,v++;continue}else throw new Error(Le)}let X=_.trim();const ve=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,j=X.match(ve);j&&j[1]&&(X=j[1].trim(),c(F.Info,"Markdown JSON code fence detectado y removido.",{originalLength:_.length,cleanedLength:X.length}));const fe=JSON.parse(X);if(!Array.isArray(fe))throw new Error(`La respuesta JSON no es un array. Recibido: ${typeof fe}`);const Ge=[];for(const[Le,Me]of fe.entries()){if(typeof Me!="object"||Me===null)throw new Error(`Item ${Le} en el array JSON no es un objeto.`);const Ze=Me.Pregunta,He=Me["Opción correcta 1"];if(typeof Ze!="string"||Ze.trim()===""||typeof He!="string"||He.trim()==="")throw new Error(`Item ${Le} (${Ze?Ze.substring(0,20)+"...":"Pregunta Vacía"}) en el array JSON no tiene los campos requeridos 'Pregunta' y 'Opción correcta 1' como strings no vacíos.`);const k=Me.Explicación===null||Me.Explicación===void 0?"":String(Me.Explicación);(Me.Explicación===null||Me.Explicación===void 0)&&c(F.Warning,`Item ${Le}: Gemini omitió 'Explicación' o envió null/undefined, se usó "".`,{itemPreview:Me.Pregunta.substring(0,50)});const K=Me.id;let de,Ve;typeof K=="string"&&K.trim()!==""?(de=K,Ve="Pregunta REESCRITA (ID original preservado)"):(de=`gen-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,Ve="Pregunta NUEVA (ID nuevo generado)"),c(F.Info,`${Ve}: ${de}`,{itemPreview:Me.Pregunta.substring(0,50)});const A={id:de,Pregunta:Ze,"Opción correcta 1":He,"Opción Correcta 2":Me["Opción Correcta 2"]===null||Me["Opción Correcta 2"]===void 0?void 0:String(Me["Opción Correcta 2"]),"Opción Correcta 3":Me["Opción Correcta 3"]===null||Me["Opción Correcta 3"]===void 0?void 0:String(Me["Opción Correcta 3"]),"Opción Incorrecta 1":Me["Opción Incorrecta 1"]===null||Me["Opción Incorrecta 1"]===void 0?void 0:String(Me["Opción Incorrecta 1"]),"Opción Incorrecta 2":Me["Opción Incorrecta 2"]===null||Me["Opción Incorrecta 2"]===void 0?void 0:String(Me["Opción Incorrecta 2"]),"Opción Incorrecta 3":Me["Opción Incorrecta 3"]===null||Me["Opción Incorrecta 3"]===void 0?void 0:String(Me["Opción Incorrecta 3"]),Explicación:k};Ge.push(A)}if(fe.length>0&&Ge.length===0)throw new Error("El array JSON fue recibido, pero ningún objeto cumplió la estructura esperada para las preguntas.");if(Ge.length===0&&fe.length===0&&X.trim()!==""&&X.trim()!=="[]")throw new Error(`Gemini no generó ninguna pregunta válida en el JSON. JSON parseado resultó en 0 preguntas. Contenido parseado: ${X.substring(0,200)}...`);return Ge.length===0&&X.trim()==="[]"&&c(F.Info,"Gemini devolvió un array JSON vacío '[]', lo que significa que no generó preguntas para esta solicitud.",{promptContext:v>0?"Corrección":"Inicial"}),c(F.Info,`JSON parseado y validado exitosamente. ${Ge.length} preguntas generadas/reescritas.`,{count:Ge.length}),{rawText:_,parsedQuestions:Ge,jsonCorrectionAttempts:v}}catch(X){const ve=v>0?"Corrección JSON":"Parseo de Stream Inicial";c(F.Error,`Error durante ${ve} (intento corrección ${v+1}/${oc})`,{error:X.message,stack:X.stack,rawOutputPreview:_.substring(0,500)}),S=X.message}v++}const pe=`Fallaron todos los ${oc} intentos de corrección de formato JSON para la solicitud "${l.substring(0,50)}...". Último error: ${S||"Error desconocido después de múltiples intentos."}`;throw c(F.Error,pe,{prompt:l,finalOutputPreview:_.substring(0,500)}),new Error(`${pe}. Respuesta final de Gemini: "${_.substring(0,300)}..."`)},HA=async(a,t,n)=>{if(!a)throw n(F.Error,"generateCollectionTitleFromGemini: API_KEY no fue proporcionada."),new Error("API_KEY no fue proporcionada para generar título.");if(!t||t.trim()==="")return n(F.Warning,"generateCollectionTitleFromGemini: No se proporcionó texto de muestra de preguntas."),"Colección de Preguntas";const l=new Ug({apiKey:a}),s=`Basándote en la siguiente muestra de preguntas, genera un título conciso y descriptivo para esta colección de preguntas. El título debe ser adecuado para un cuestionario o un conjunto de estudio. Responde únicamente con el texto del título. No incluyas prefijos como "Título:" ni comillas adicionales.

Muestra de preguntas:
---
${t}
---
`;try{n(F.GeminiRequest,"Solicitando a Gemini la generación de un título para la colección.",{sampleLength:t.length});const m=(await l.models.generateContent({model:ea,contents:s})).text.trim();return m?(n(F.GeminiResponse,"Título de colección generado por Gemini.",{title:m}),m):(n(F.Warning,"Gemini devolvió un título vacío para la colección.",{sample:t}),"Colección de Preguntas")}catch(c){throw n(F.Error,"Error al generar título de colección con Gemini.",{error:c.message,sample:t}),console.error("Error generating collection title:",c),new Error(`Error al generar título de colección: ${c.message}`)}};function eg(a){const t=[];let n="",l=!1;for(let s=0;s<a.length;s++){const c=a[s];c==='"'?l&&s+1<a.length&&a[s+1]==='"'?(n+='"',s++):l=!l:c===","&&!l?(t.push(n),n=""):n+=c}return t.push(n),t.map(s=>s.startsWith('"')&&s.endsWith('"')?s.substring(1,s.length-1).replace(/""/g,'"'):s.trim())}function tg(a){const t=s=>{if(s===null||typeof s>"u"||s==="")return"";const c=String(s);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c},n=En.join(","),l=a.map(s=>[t(s.Pregunta),t(s["Opción correcta 1"]),t(s["Opción Correcta 2"]),t(s["Opción Correcta 3"]),t(s["Opción Incorrecta 1"]),t(s["Opción Incorrecta 2"]),t(s["Opción Incorrecta 3"]),t(s.Explicación)].join(","));return[n,...l].join(`
`)}function FA(a,t){const n=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");if(l.download!==void 0){const s=URL.createObjectURL(n);l.setAttribute("href",s),l.setAttribute("download",t),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)}}const YA=({value:a,onSave:t,isInitiallyEditing:n=!1,multiline:l=!1,className:s="",placeholder:c="Editar..."})=>{const[m,g]=he.useState(n),[y,h]=he.useState(a||""),v=he.useRef(null);he.useEffect(()=>{h(a||"")},[a]),he.useEffect(()=>{m&&v.current&&(v.current.focus(),v.current instanceof HTMLInputElement?v.current.select():v.current instanceof HTMLTextAreaElement&&(v.current.selectionStart=v.current.value.length,v.current.selectionEnd=v.current.value.length))},[m]);const _=()=>{y!==(a||"")&&t(y),g(!1)},S=R=>{R.key==="Enter"?l&&!R.shiftKey?(R.preventDefault(),_()):l||_():R.key==="Escape"&&(h(a||""),g(!1))};if(m){const R={ref:v,value:y,onChange:O=>h(O.target.value),onBlur:_,onKeyDown:S,className:`p-1 bg-neutral-700 border border-neutral-500 focus:border-sky-500 outline-none rounded-sm text-neutral-100 w-full h-full box-border ${l?"resize-none":""} ${s}`,placeholder:c};return l?E.jsx("textarea",{...R,rows:3}):E.jsx("input",{type:"text",...R})}return E.jsx("div",{onClick:()=>g(!0),className:`cursor-text hover:bg-neutral-800 p-1 rounded-sm w-full h-full ${s}`,title:a||"Vacío (click para editar)",children:a&&a.trim()!==""?a:E.jsx("span",{className:"text-neutral-500 italic",children:c&&c!=="Editar..."?`Vacío (${c})`:"Vacío"})})},ng=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})}),Xo=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.9h1.368c1.603 0 2.816 1.336 2.816 2.9zm-1.482.227a.75.75 0 01-.75-.75c0-.414.336-.75.75-.75h1.368c.414 0 .75.336.75.75s-.336.75-.75.75h-1.368zm-4.5-3.028a.75.75 0 000 1.5A2.5 2.5 0 0110.5 4.5h3a2.5 2.5 0 012.25 2.25.75.75 0 001.5 0v-.75C17.25 3.015 15.035 1.5 12.75 1.5h-1.5c-2.285 0-4.5 1.515-4.5 3.75v.75a.75.75 0 001.5 0A2.5 2.5 0 0110.5 4.5h.75z",clipRule:"evenodd"})}),$A=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),ZA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.58 0a6 6 0 01-7.38 5.84m0 0a14.98 14.98 0 0012.12-6.16A14.98 14.98 0 009.63 8.412m0 0A14.92 14.92 0 013.437 10.5"})}),JA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.06-1.06L10.5 13.19l-1.72-1.72a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.06 0l4.5-4.5z",clipRule:"evenodd"})}),KA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75 9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"})}),XA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),rc=({className:a})=>E.jsxs("svg",{"aria-hidden":"true",className:`animate-spin ${a||"w-5 h-5"}`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0492C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})]}),QA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81"})}),ig=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),lg=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h7.5M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),uc=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),cc=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),WA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),jA=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),eM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 00-.491 0A.75.75 0 013 9.398V8.25c0-.828.75-1.5 1.5-1.5h5.25c.828 0 1.5.672 1.5 1.5v1.148a60.46 60.46 0 00.982 0 60.438 60.438 0 00.982 0A.75.75 0 0113.5 9.398V8.25c0-.828.75-1.5 1.5-1.5h5.25c.828 0 1.5.672 1.5 1.5v1.148a60.437 60.437 0 00-.491 0 .75.75 0 01-.21.035V18a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-7.818a.75.75 0 01.21-.035zM12 12.75H3M12 12.75c.932 0 1.639-.29 2.177-.728M12 12.75c-.932 0-1.639-.29-2.177-.728M12 5.25v3.75m0 3.75H3m9 0h9"})}),tM=({className:a})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.646.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 010 1.255c-.008.378.138.75.43.99l1.004.828c.414.34.515.93.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.6 6.6 0 01-.22.128c-.333.183-.582.495-.644.869l-.213 1.28c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.758 6.758 0 010-1.255c.008-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),nM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),iM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),lM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M20.25 7.5H15M20.25 12H15M20.25 16.5H15M4.5 7.5H10.5M4.5 12H10.5M4.5 16.5H10.5"})}),oM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75 9.75S17.385 2.25 12 2.25zm0 4.5a5.25 5.25 0 100 10.5 5.25 5.25 0 000-10.5z",clipRule:"evenodd"})}),aM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h18M16.5 3L21 7.5m0 0L16.5 12M21 7.5H3"})}),sM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),rM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.188l-1.25-2.188L13.563 12l2.188-1.25L17 8.562l1.25 2.188L20.438 12zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),uM=({className:a})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ss="geminiUserApiKey",ht=a=>a==null||a.trim()==="",Es=a=>{const t=a.Pregunta,n=a["Opción correcta 1"],l=a["Opción Correcta 2"],s=a["Opción Correcta 3"],c=a["Opción Incorrecta 1"],m=a["Opción Incorrecta 2"],g=a["Opción Incorrecta 3"],y=!ht(n),h=!ht(l),v=!ht(s),_=!ht(c),S=!ht(m),R=!ht(g),O=[_,S,R].filter(Boolean).length;return ht(t)?{type:Ht.Empty,icon:E.jsx(uM,{className:"w-5 h-5 text-slate-400"}),label:"Vacía",colorClass:"text-slate-400",description:"Pregunta Vacía: El campo 'Pregunta' está vacío. Estas preguntas serán ignoradas al guardar el CSV."}:y&&ht(l)&&ht(s)&&ht(c)&&ht(m)&&ht(g)?{type:Ht.OpenAnswer,icon:E.jsx(iM,{className:"w-5 h-5 text-sky-400"}),label:"Abierta",colorClass:"text-sky-400",description:"Respuesta Abierta: Solo 'Opción correcta 1' tiene valor. Todas las demás opciones deben estar vacías."}:y&&_&&ht(l)&&ht(s)&&ht(m)&&ht(g)?{type:Ht.TrueFalse,icon:E.jsx(aM,{className:"w-5 h-5 text-lime-400"}),label:"V/F",colorClass:"text-lime-400",description:"Verdadero/Falso: 'Opción correcta 1' y 'Opción Incorrecta 1' tienen valor. Las demás opciones deben estar vacías."}:y&&(h||v)&&O>=1?{type:Ht.MultipleCorrect,icon:E.jsx(lM,{className:"w-5 h-5 text-amber-400"}),label:"Múltiple",colorClass:"text-amber-400",description:"Opción Múltiple (Varias Correctas): 'Opción correcta 1' y al menos una de 'Opción Correcta 2/3' tienen valor. Mínimo 1 incorrecta."}:y&&ht(l)&&ht(s)&&O>=2?{type:Ht.SingleCorrect,icon:E.jsx(oM,{className:"w-5 h-5 text-fuchsia-400"}),label:"Única",colorClass:"text-fuchsia-400",description:"Selección Única: Solo 'Opción correcta 1' tiene valor. Mínimo 2 opciones incorrectas."}:{type:Ht.Unknown,icon:E.jsx(sM,{className:"w-5 h-5 text-red-500"}),label:"Desc.",colorClass:"text-red-500",description:"Tipo Desconocido: La estructura de la pregunta no coincide con los tipos definidos. Esta pregunta NO se guardará en el CSV hasta que se corrija."}},cM=({req:a})=>{const t=[];if(a.status===lt.Completed&&a.questionsGeneratedCount!==void 0){let n=`${a.questionsGeneratedCount} pregunta(s) generada(s).`;a.jsonCorrectionAttempts&&a.jsonCorrectionAttempts>0&&(n+=` (${a.jsonCorrectionAttempts} correcciones JSON)`),t.push(E.jsx("p",{className:"text-xs text-green-400 mt-1",children:n},"completed"))}else a.status===lt.Error&&a.errorDetails?(t.push(E.jsxs("p",{className:"text-xs text-red-400 mt-1",title:a.errorDetails,children:["Error: ",a.errorDetails.substring(0,150),a.errorDetails.length>150?"...":""]},"error")),a.jsonCorrectionAttempts&&a.jsonCorrectionAttempts>0&&t.push(E.jsxs("p",{className:"text-xs mt-1 text-yellow-400",children:["Falló tras ",a.jsonCorrectionAttempts," correcciones JSON de Gemini."]},"error-corrections"))):a.jsonCorrectionAttempts&&a.jsonCorrectionAttempts>0&&a.status===lt.Processing&&t.push(E.jsxs("p",{className:"text-xs mt-1 text-blue-400",children:["Con ",a.jsonCorrectionAttempts," correcciones JSON de Gemini."]},"processing-corrections"));return t.length===0?null:E.jsx(E.Fragment,{children:t})},fM=()=>{const[a,t]=he.useState(""),[n,l]=he.useState([]),[s,c]=he.useState([]),m=he.useRef(null),g=he.useRef(null),[y,h]=he.useState([]),[v,_]=he.useState(""),[S,R]=he.useState([]),[O,B]=he.useState([]),Z=he.useRef(null),se=he.useRef(null),[J,ne]=he.useState([]),[Y,W]=he.useState(!1),[pe,X]=he.useState(0),[ve,j]=he.useState(null),[fe,Ge]=he.useState([]),[Le,Me]=he.useState(!1),Ze=he.useRef(null),[He,k]=he.useState(""),[K,de]=he.useState(!1),[Ve,A]=he.useState(null),H=he.useRef(null),ee=he.useRef(""),Q=he.useRef(null),[me,Ie]=he.useState(null),[Se,Et]=he.useState(!1),[Qe,Pt]=he.useState(""),[Rn,bn]=he.useState(null),[xt,hn]=he.useState(new Set),[Ei,Xl]=he.useState(null),[Wt,It]=he.useState(""),[xi,Ki]=he.useState(!1),[Xi,wn]=he.useState(!1),Qi=he.useRef(null),ie=he.useCallback((M,L,G)=>{Ge(V=>[...V,{id:`log-${Date.now()}-${Math.random().toString(36).substring(7)}`,timestamp:new Date,type:M,message:L,details:G}])},[]);he.useEffect(()=>{const M=localStorage.getItem(Ss);bn(M),Pt(M||""),M?ie(F.Info,"Clave API de usuario cargada desde localStorage."):ie(F.Info,"No se encontró clave API de usuario en localStorage, se usará la del entorno si está disponible."),ie(F.System,`Aplicación iniciada. Usando modelo Gemini: ${ea}`),M||ie(F.Info,"API_KEY del entorno está disponible.")},[ie]),he.useEffect(()=>{Le&&Ze.current&&(Ze.current.scrollTop=Ze.current.scrollHeight)},[fe,Le]),he.useEffect(()=>{K&&Q.current&&(Q.current.scrollTop=Q.current.scrollHeight)},[He,K]),he.useEffect(()=>{const M=[];return n.forEach(L=>{const V={id:`${L.name}-${L.lastModified}-${Math.random().toString(36).substring(2,7)}`,name:L.name,type:L.type,size:L.size,lastModified:L.lastModified};L.type.startsWith("image/")&&(V.previewUrl=URL.createObjectURL(L)),M.push(V)}),c(M),()=>{M.forEach(L=>{L.previewUrl&&URL.revokeObjectURL(L.previewUrl)})}},[n]),he.useEffect(()=>{const M=[];return S.forEach(L=>{const V={id:`${L.name}-${L.lastModified}-${L.size}-${Math.random().toString(36).substring(2,7)}`,name:L.name,type:L.type,size:L.size,lastModified:L.lastModified};L.type.startsWith("image/")&&(V.previewUrl=URL.createObjectURL(L)),M.push(V)}),B(M),()=>{M.forEach(L=>{L.previewUrl&&URL.revokeObjectURL(L.previewUrl)})}},[S]),he.useEffect(()=>{const M=se.current;if(!M)return;const L=G=>{var Ne;if(Y)return;const V=(Ne=G.clipboardData)==null?void 0:Ne.items;if(!V)return;let re=!1;const le=[];for(let Te=0;Te<V.length;Te++){const ot=V[Te];if(ot.kind==="file"&&ot.type.startsWith("image/")){const Ee=ot.getAsFile();if(Ee){const Fe=Ee.name.split(".").pop()||Ee.type.split("/")[1]||"png",Ft=`pasted-image-${Date.now()}-${Math.random().toString(36).substring(2,9)}.${Fe}`,We=new File([Ee],Ft,{type:Ee.type,lastModified:Ee.lastModified});le.push(We),re=!0}}}re&&(G.preventDefault(),R(Te=>{const ot=le.filter(Ee=>!Te.some(Fe=>Fe.name===Ee.name&&Fe.lastModified===Ee.lastModified&&Fe.size===Ee.size));return[...Te,...ot]}),ie(F.FileProcessing,`${le.length} imagen(es) pegada(s) desde el portapapeles a la nueva solicitud.`,{files:le.map(Te=>Te.name)}))};return M.addEventListener("paste",L),()=>{M.removeEventListener("paste",L)}},[Y,ie]);const Wi=he.useCallback(()=>Rn||"PLACEHOLDER_API_KEY",[Rn]);he.useEffect(()=>{const M=Wi();if(M&&J.length>0&&(!Wt||Wt.trim()==="")&&!Xi&&!xi){wn(!0),ie(F.Info,"Intentando generar título de colección automáticamente...");const L=J.slice(0,5).map(G=>G.Pregunta).filter(G=>G&&G.trim()!=="").join(`
`);if(!L&&J.length>0){It("Colección de Preguntas"),wn(!1),ie(F.Info,"Se estableció un título genérico ya que las preguntas de muestra estaban vacías.");return}if(!L&&J.length===0){wn(!1);return}HA(M,L,ie).then(G=>{It(G),ie(F.Info,`Título de colección generado: "${G}"`)}).catch(G=>{ie(F.Error,"Error al generar título de colección.",{error:G.message}),It("Colección de Preguntas")}).finally(()=>{wn(!1)})}},[J,Wt,Xi,xi,Wi,ie]),he.useEffect(()=>{xi&&Qi.current&&(Qi.current.focus(),Qi.current.select())},[xi]);const la=()=>{Pt(Rn||""),Et(!0)},Ai=()=>{Et(!1),Pt(Rn||"")},Ut=()=>{const M=Qe.trim();M?(localStorage.setItem(Ss,M),bn(M),ie(F.Info,"Clave API de usuario guardada en localStorage.")):(localStorage.removeItem(Ss),bn(null),ie(F.Info,"Clave API de usuario eliminada de localStorage. Se usará la del entorno.")),Et(!1)},gn=()=>{localStorage.removeItem(Ss),bn(null),Pt(""),ie(F.Info,"Configuración de API Key restablecida. Se usará la del entorno.")},Rt=()=>{if(v.trim()==="")return;const M={id:`req-${Date.now()}-${Math.random().toString(36).substring(7)}`,prompt:v,status:lt.Pending,requestFiles:[...S]};h(L=>[...L,M]),ie(F.Info,"Nueva solicitud añadida a la cola.",{prompt:v,files:S.map(L=>L.name)}),_(""),R([]),Z.current&&(Z.current.value="")},zs=M=>{var G;if(Y&&((G=y.find(V=>V.id===M))==null?void 0:G.status)===lt.Processing)return;const L=y.find(V=>V.id===M);h(V=>V.filter(re=>re.id!==M)),L&&ie(F.Info,`Solicitud "${L.prompt.substring(0,30)}..." eliminada de la cola.`)},Bs=M=>{var G;if(Y)return;const L=y.find(V=>V.id===M);if(L&&L.status!==lt.Processing){_(L.prompt),R(L.requestFiles||[]),h(re=>re.filter(le=>le.id!==M)),ie(F.Info,`Solicitud "${L.prompt.substring(0,30)}..." movida a edición.`);const V=(G=se.current)==null?void 0:G.querySelector('input[type="text"]');V==null||V.focus()}},qs=M=>{Y||h(L=>{const G=L.findIndex(V=>V.id===M);if(G>0){const V=[...L],re=V[G];return V[G]=V[G-1],V[G-1]=re,ie(F.Info,`Solicitud "${re.prompt.substring(0,30)}..." movida hacia arriba en la cola.`),V}return L})},ji=M=>{Y||h(L=>{const G=L.findIndex(V=>V.id===M);if(G<L.length-1&&G!==-1){const V=[...L],re=V[G];return V[G]=V[G+1],V[G+1]=re,ie(F.Info,`Solicitud "${re.prompt.substring(0,30)}..." movida hacia abajo en la cola.`),V}return L})},Mi=he.useCallback((M,L=!1)=>{L?ee.current=M:ee.current+=M,k(ee.current);const G=ee.current;let V="";const re='"Pregunta"';let le=G.lastIndexOf(re);if(le!==-1){let Ne=-1;for(let Te=le+re.length;Te<G.length;Te++)if(G[Te]==='"'){Ne=Te+1;break}else if(G[Te]!==":"&&G[Te]!==" "&&G[Te]!==`
`&&G[Te]!=="	")break;if(Ne!==-1){let Te="",ot=!1;for(let Ee=Ne;Ee<G.length;Ee++){const Fe=G[Ee];if(ot)Te+=Fe,ot=!1;else if(Fe==="\\")ot=!0,Te+=Fe;else if(Fe==='"'){V=Te;break}else Te+=Fe}!V&&Te&&(V=Te)}}if(V){H.current&&(clearTimeout(H.current),H.current=null);const Te=(V.length>70?V.substring(0,67)+"...":V).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");A(`Pregunta [<span class="text-blue-400 font-semibold">${Te}</span>] generada!`)}},[A,k]),Dn=he.useCallback(async()=>{const M=Wi();if(!M){const G="Error Crítico: No se pudo determinar la API_KEY de Gemini. Configure una clave en el entorno o a través de la configuración de la aplicación.";j(G),ie(F.Error,G),W(!1);return}j(null),W(!0),X(0),ie(F.System,"Procesamiento de cola iniciado.",{requestCount:y.filter(G=>G.status===lt.Pending||G.status===lt.Error).length});const L=y.filter(G=>G.status===lt.Pending||G.status===lt.Error);for(let G=0;G<L.length;G++){const V=L[G];ie(F.Info,`Procesando solicitud ${G+1}/${L.length}: "${V.prompt.substring(0,50)}..."`,{requestId:V.id}),ee.current="",A(null),H.current&&clearTimeout(H.current),h(Ee=>Ee.map(Fe=>Fe.id===V.id?{...Fe,status:lt.Processing,errorDetails:void 0,jsonCorrectionAttempts:0,questionsGeneratedCount:0}:Fe));let re=0,le=!1,Ne,Te=0;const ot=J.length>0?tg(J.filter(Ee=>Es(Ee).type!==Ht.Empty)):void 0;for(;re<lc&&!le;){try{ie(F.Info,`Intento general ${re+1}/${lc} para solicitud "${V.prompt.substring(0,30)}..."`,{requestId:V.id});const{parsedQuestions:Ee,jsonCorrectionAttempts:Fe}=await qA(M,a,n,V.prompt,V.requestFiles||[],ie,Mi,ot,Ne);ne(Ft=>{const We=[...Ee];let rt=[...Ft];const Xn=new Set;return rt=rt.map(at=>{const jt=We.find(Ot=>Ot.id===at.id);return jt?(Xn.add(jt.id),ie(F.Info,`Pregunta ID ${at.id} reemplazada por versión reescrita.`,{original:at.Pregunta.substring(0,50),new:jt.Pregunta.substring(0,50)}),jt):at}),We.forEach(at=>{Xn.has(at.id)||(rt.some(Ot=>Ot.id===at.id)?ie(F.Warning,`Pregunta ID ${at.id} de Gemini ya existe, posible duplicado o ID no único.`,{pregunta:at.Pregunta.substring(0,50)}):(rt.push(at),ie(F.Info,`Nueva pregunta ID ${at.id} añadida.`,{pregunta:at.Pregunta.substring(0,50)})))}),rt}),Te=Fe,h(Ft=>Ft.map(We=>We.id===V.id?{...We,status:lt.Completed,errorDetails:void 0,jsonCorrectionAttempts:Te,questionsGeneratedCount:Ee.length}:We)),ie(F.Info,`Solicitud "${V.prompt.substring(0,30)}..." completada con éxito. ${Ee.length} objetos de pregunta recibidos de Gemini (reescritos y/o nuevos).`,{requestId:V.id,questionsReturnedByGemini:Ee.length,jsonCorrectionAttempts:Fe}),le=!0}catch(Ee){console.error(`Error procesando solicitud ${V.id}, intento general ${re+1}:`,Ee),Ne=Ee.message||"Error desconocido de Gemini.";const Ft=(Ee.sourceError||Ee).jsonCorrectionAttempts;Te=typeof Ft=="number"?Ft:Te,ie(F.Error,`Error en intento general ${re+1} para solicitud "${V.prompt.substring(0,30)}..."`,{requestId:V.id,error:Ne,jsonCorrectionAttempts:Te}),k(We=>We+`

--- ERROR EN INTENTO ${re+1}: ${Ne} ---
`),re===lc-1&&(h(We=>We.map(rt=>rt.id===V.id?{...rt,status:lt.Error,errorDetails:Ne,jsonCorrectionAttempts:Te,questionsGeneratedCount:0}:rt)),ie(F.Error,`Todos los intentos generales fallaron para solicitud "${V.prompt.substring(0,30)}..."`,{requestId:V.id,finalError:Ne,jsonCorrectionAttempts:Te}))}re++}X((G+1)/L.length*100)}ie(F.System,"Procesamiento de cola finalizado.",{finalQuestionCount:J.length}),W(!1),H.current&&clearTimeout(H.current),H.current=window.setTimeout(()=>{A(null)},t0)},[y,a,n,ie,J,Mi,A,k,Wi]),el=()=>{const M=J.map(V=>({...V,typeInfo:Es(V)}));if(M.some(V=>V.typeInfo.type===Ht.Unknown)){const V="No se puede guardar CSV: existen preguntas con tipo 'Desconocido'. Por favor, edita o elimina estas preguntas.";ie(F.Error,V,{count:M.filter(re=>re.typeInfo.type===Ht.Unknown).length}),j(V);return}const G=M.filter(V=>V.typeInfo.type!==Ht.Empty&&V.typeInfo.type!==Ht.Unknown).map(({typeInfo:V,...re})=>re);if(G.length===0){ie(F.Info,"Intento de guardar CSV, pero no hay preguntas válidas para exportar (después de filtrar vacías/desconocidas)."),j("No hay preguntas válidas para guardar en el CSV. Asegúrate de que no todas estén vacías o marcadas como desconocidas.");return}j(null);try{const V=tg(G);FA(V,Ap),ie(F.Info,"Archivo CSV generado y descarga iniciada.",{filename:Ap,questionCount:G.length,totalOriginalCount:J.length,collectionTitle:Wt})}catch(V){ie(F.Error,"Error al generar o descargar el archivo CSV.",{error:V.message}),j("Error al generar el archivo CSV: "+V.message)}},Ni=M=>{if(M.target.files){const L=Array.from(M.target.files);l(G=>{const V=new Set(G.map(le=>`${le.name}-${le.lastModified}-${le.size}`)),re=L.filter(le=>!V.has(`${le.name}-${le.lastModified}-${le.size}`));return[...G,...re]}),ie(F.FileProcessing,`${L.length} archivo(s) de contexto general seleccionado(s).`,{files:L.map(G=>G.name)}),m.current&&(m.current.value="")}},Hs=M=>{const L=s.find(G=>G.id===M);if(!L){ie(F.Warning,`Intento de eliminar archivo de contexto general con ID no encontrado: ${M}`);return}l(G=>G.filter(V=>!(V.name===L.name&&V.lastModified===L.lastModified&&V.size===L.size))),ie(F.FileProcessing,`Archivo de contexto general "${L.name}" eliminado.`)},oa=M=>{if(M.target.files){const L=Array.from(M.target.files);R(G=>{const V=new Set(G.map(le=>`${le.name}-${le.lastModified}-${le.size}`)),re=L.filter(le=>!V.has(`${le.name}-${le.lastModified}-${le.size}`));return[...G,...re]}),ie(F.FileProcessing,`${L.length} archivo(s) adjuntado(s) a la nueva solicitud.`,{files:L.map(G=>G.name)}),Z.current&&(Z.current.value="")}},aa=M=>{const L=O.find(G=>G.id===M);L&&(R(G=>G.filter(V=>!(V.name===L.name&&V.lastModified===L.lastModified&&V.size===L.size))),ie(F.FileProcessing,`Archivo "${L.name}" eliminado de la nueva solicitud pendiente.`))},Ql=()=>{g.current&&g.current.click()},Ri=async M=>{if(M.target.files&&M.target.files.length>0){const L=M.target.files[0];ie(F.FileProcessing,`Intentando cargar CSV: ${L.name}`);const G=new FileReader;G.onload=V=>{var Ft;const re=(Ft=V.target)==null?void 0:Ft.result;if(!re){ie(F.Error,"Error al leer el archivo CSV: contenido vacío.",{fileName:L.name}),j("Error: El archivo CSV está vacío o no se pudo leer.");return}const le=re.split(/\r\n|\n/);if(le.length<2){ie(F.Error,"Archivo CSV inválido: debe tener al menos una cabecera y una fila de datos.",{fileName:L.name}),j("Error: El archivo CSV debe tener al menos una cabecera y una fila de datos.");return}const Ne=le[0],Te=eg(Ne);if(!(En.length===Te.length&&En.every((We,rt)=>Te[rt].trim()===We.trim()))){ie(F.Error,"Cabecera de CSV inválida.",{fileName:L.name,expected:En,found:Te}),j(`Error: La cabecera del CSV no coincide con el formato esperado. Esperado: ${En.join(", ")}. Encontrado: ${Te.join(", ")}`);return}const Ee=[];let Fe=0;for(let We=1;We<le.length;We++){const rt=le[We];if(rt.trim()==="")continue;const Xn=eg(rt);if(Xn.length!==En.length){ie(F.Warning,`Fila ${We+1} del CSV omitida: número incorrecto de columnas. Esperado ${En.length}, encontrado ${Xn.length}.`,{fileName:L.name,lineContent:rt}),Fe++;continue}const at={id:`csv-import-${Date.now()}-${Math.random().toString(36).substring(2,9)}`};En.forEach((jt,Ot)=>{const nl=xp[jt];nl&&(at[nl]=Xn[Ot]||void 0)}),!ht(at.Pregunta)&&ht(at["Opción correcta 1"])&&ie(F.Warning,`Fila ${We+1} del CSV importada, pero 'Opción correcta 1' está vacía para una pregunta no vacía. Podría clasificarse como 'Desconocido'.`,{fileName:L.name,rowData:at}),Ee.push(at)}ne(We=>[...We,...Ee]),ie(F.Info,`${Ee.length} preguntas importadas desde "${L.name}". ${Fe>0?`${Fe} filas omitidas.`:""}`,{fileName:L.name}),j(null),Ee.length>0&&setTimeout(()=>{const We=Ee[Ee.length-1],rt=document.getElementById(We.id);rt==null||rt.scrollIntoView({behavior:"smooth",block:"center"})},100)},G.onerror=()=>{var V;ie(F.Error,`Error al leer el archivo CSV "${L.name}".`,{error:G.error}),j(`Error al leer el archivo CSV: ${(V=G.error)==null?void 0:V.message}`)},G.readAsText(L),g.current&&(g.current.value="")}},Fs=(M,L,G)=>{ne(V=>V.map(re=>re.id===M?{...re,[L]:G}:re)),ie(F.Info,`Pregunta ID ${M} actualizada. Campo: ${String(L)}, Nuevo valor: "${G.substring(0,30)}..."`)},sa=M=>{const L=J.find(G=>G.id===M);ne(G=>G.filter(V=>V.id!==M)),L&&ie(F.Info,`Pregunta "${L.Pregunta.substring(0,30)}..." (ID: ${M}) eliminada.`),hn(G=>{const V=new Set(G);return V.delete(M),V}),me===M&&Ie(null)},ra=()=>{const M={id:`manual-${Date.now()}-${Math.random().toString(36).substring(7)}`,Pregunta:"","Opción correcta 1":"","Opción Correcta 2":void 0,"Opción Correcta 3":void 0,"Opción Incorrecta 1":void 0,"Opción Incorrecta 2":void 0,"Opción Incorrecta 3":void 0,Explicación:void 0};ne(L=>[M,...L]),ie(F.Info,"Nueva fila de pregunta manual añadida a la tabla (inicialmente vacía)."),Ie(M.id)},tl=M=>{Ie(L=>L===M?null:M)},Wl=(M,L)=>{const G=new Set(xt),V=J.findIndex(re=>re.id===M);if(L&&Ei&&Ei!==M&&V!==-1){const re=J.findIndex(le=>le.id===Ei);if(re!==-1){const le=Math.min(V,re),Ne=Math.max(V,re),Te=!G.has(M);for(let ot=le;ot<=Ne;ot++){const Ee=J[ot].id;Te?G.add(Ee):G.delete(Ee)}}}else G.has(M)?G.delete(M):G.add(M);hn(G),Xl(M)},ua=()=>{xt.size===J.length&&J.length>0?(hn(new Set),ie(F.Info,"Todas las preguntas deseleccionadas.")):(hn(new Set(J.map(M=>M.id))),ie(F.Info,"Todas las preguntas seleccionadas."))},Ys=()=>{if(xt.size===0)return;const M=xt.size;ne(L=>L.filter(G=>!xt.has(G.id))),hn(new Set),Xl(null),me&&xt.has(me)&&Ie(null),ie(F.Info,`${M} pregunta(s) seleccionada(s) eliminada(s).`)},yn=()=>{var re;if(xt.size===0||Y)return;const M=J.filter(le=>xt.has(le.id));if(M.length===0)return;const L=JSON.stringify(M.map(le=>({id:le.id,Pregunta:le.Pregunta,"Opción correcta 1":le["Opción correcta 1"],"Opción Correcta 2":le["Opción Correcta 2"],"Opción Correcta 3":le["Opción Correcta 3"],"Opción Incorrecta 1":le["Opción Incorrecta 1"],"Opción Incorrecta 2":le["Opción Incorrecta 2"],"Opción Incorrecta 3":le["Opción Incorrecta 3"],Explicación:le.Explicación})),null,2),G=new File([L],$n,{type:"application/json"});R(le=>{const Ne=le.filter(Te=>Te.name!==$n);return[G,...Ne]}),ie(F.Info,`${M.length} pregunta(s) seleccionada(s) y adjuntada(s) como '${$n}'. Por favor, escribe tus instrucciones de reescritura en 'Nueva Solicitud' y añádelo a la cola.`),hn(new Set),Xl(null);const V=(re=se.current)==null?void 0:re.querySelector('input[type="text"]');V==null||V.focus()},yt=M=>{const L=M.trim();It(L),Ki(!1),L?ie(F.Info,`Título de la colección actualizado a: "${L}"`):ie(F.Info,"Título de la colección borrado. Se mostrará el marcador de posición.")},bt=M=>{M.key==="Enter"?yt(M.currentTarget.value):M.key==="Escape"&&(Ki(!1),ie(F.Info,"Edición del título de la colección cancelada."))},Kn=M=>xt.has(M),jl=xt.size===J.length&&J.length>0,ca=J.some(M=>Es(M).type===Ht.Unknown),$s=M=>{switch(M){case lt.Pending:return E.jsx(XA,{className:"w-5 h-5 text-neutral-400"});case lt.Processing:return E.jsx(rc,{className:"w-5 h-5 text-blue-400"});case lt.Completed:return E.jsx(JA,{className:"w-5 h-5 text-green-400"});case lt.Error:return E.jsx(KA,{className:"w-5 h-5 text-red-400"});default:return null}},fa=M=>{switch(M){case F.Error:return"text-red-400";case F.Warning:return"text-yellow-400";case F.GeminiRequest:return"text-blue-400";case F.GeminiResponse:return"text-purple-400";case F.GeminiStream:return"text-pink-400";case F.System:return"text-yellow-300";case F.FileProcessing:return"text-teal-400";default:return"text-neutral-300"}};return E.jsxs("div",{className:"min-h-screen bg-black text-neutral-300 p-4 md:p-8 flex flex-col items-center",children:[E.jsxs("header",{className:"w-full mb-8 flex justify-between items-center",children:[E.jsxs("div",{className:"text-left",children:[E.jsx("h1",{className:"text-4xl font-bold text-blue-400 mb-1",children:jv}),E.jsx("p",{className:"text-neutral-400 text-sm",children:"Crea preguntas para tus quizzes de forma eficiente con IA."})]}),E.jsx("button",{onClick:la,className:"p-2 bg-neutral-800 hover:bg-neutral-700 text-neutral-300 rounded-lg transition-colors",title:"Configuración","aria-label":"Abrir configuración",children:E.jsx(tM,{className:"w-6 h-6"})})]}),ve&&E.jsxs("div",{className:"w-full max-w-3xl bg-red-800 border border-red-600 text-red-200 px-4 py-3 rounded-md mb-6",role:"alert",children:[E.jsx("p",{className:"font-bold",children:"Error/Advertencia:"}),E.jsx("p",{className:"text-sm",children:ve})]}),Se&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:E.jsxs("div",{className:"bg-neutral-800 p-6 rounded-xl shadow-2xl w-full max-w-md",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-2xl font-semibold text-neutral-100",children:"Configuración"}),E.jsx("button",{onClick:Ai,className:"p-1 text-neutral-400 hover:text-neutral-100","aria-label":"Cerrar modal de configuración",children:E.jsx(nM,{className:"w-6 h-6"})})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"apiKeyInput",className:"block text-sm font-medium text-neutral-300 mb-1",children:"Clave API de Gemini (Opcional)"}),E.jsx("input",{type:"password",id:"apiKeyInput",value:Qe,onChange:M=>Pt(M.target.value),placeholder:"Pega tu clave API aquí...",className:"w-full p-3 bg-neutral-700 border border-neutral-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-neutral-500 text-neutral-100"}),E.jsx("p",{className:"mt-1 text-xs text-neutral-400",children:"Dejar en blanco para usar la clave del entorno. Si se provee, esta clave se usará en lugar de la configurada en el entorno y se guardará localmente en tu navegador."})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3",children:[E.jsx("button",{onClick:gn,className:"w-full sm:w-auto px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md transition-colors",children:"Restablecer a Clave de Entorno"}),E.jsx("button",{onClick:Ut,className:"w-full sm:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors font-semibold",children:"Guardar Cambios"})]})]})}),E.jsxs("main",{className:"w-full grid grid-cols-1 lg:grid-cols-4 gap-8",children:[E.jsxs("section",{className:"lg:col-span-1 flex flex-col gap-6 p-6 bg-neutral-900 rounded-xl shadow-lg",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-semibold text-neutral-100 mb-3",children:"1. Contexto General"}),E.jsx("textarea",{value:a,onChange:M=>t(M.target.value),placeholder:"Pega aquí el material de estudio principal (texto, notas, etc.). Este contexto se usará para todas las solicitudes.",className:"w-full h-32 p-3 bg-neutral-800 border border-neutral-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-neutral-500 text-neutral-100",disabled:Y}),E.jsxs("div",{className:"mt-3",children:[E.jsx("label",{htmlFor:"context-files",className:"block text-sm font-medium text-neutral-400 mb-1",children:"Cargar archivos de contexto (opcional, múltiple):"}),E.jsx("input",{type:"file",id:"context-files",multiple:!0,ref:m,onChange:Ni,className:"w-full text-sm text-neutral-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 disabled:opacity-50",disabled:Y,accept:"image/*,text/*,application/pdf,.md,.json,.csv"}),s.length>0&&E.jsxs("div",{className:"mt-2 space-y-2 text-xs",children:[E.jsx("p",{className:"text-neutral-300 font-medium",children:"Archivos de contexto cargados:"}),E.jsx("ul",{className:"list-none pl-0 max-h-32 overflow-y-auto bg-neutral-800 p-2 rounded-md border border-neutral-700",children:s.map(M=>E.jsxs("li",{className:"flex justify-between items-center p-1.5 bg-neutral-700 rounded hover:bg-neutral-600 border border-neutral-600",children:[E.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[M.previewUrl?E.jsx("img",{src:M.previewUrl,alt:M.name,className:"w-8 h-8 object-cover rounded"}):E.jsx(ig,{className:"w-6 h-6 text-neutral-400 flex-shrink-0"}),E.jsxs("span",{className:"truncate text-neutral-200",title:`${M.name} (${M.type}, ${(M.size/1024).toFixed(1)}KB)`,children:[M.name," ",E.jsxs("span",{className:"text-neutral-400",children:["(",(M.size/1024).toFixed(1),"KB)"]})]})]}),E.jsx("button",{onClick:()=>Hs(M.id),disabled:Y,className:"p-1 text-red-400 hover:text-red-500 disabled:text-neutral-500",children:E.jsx(Xo,{className:"w-4 h-4"})})]},M.id))})]})]})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-semibold text-neutral-100 mb-3",children:"2. Cola de Solicitudes"}),E.jsxs("div",{ref:se,className:"bg-neutral-800 p-3 rounded-md border border-neutral-700",children:[E.jsx("input",{type:"text",value:v,onChange:M=>_(M.target.value),placeholder:"Tema o instrucción específica para un grupo de preguntas",className:"w-full p-3 mb-2 bg-neutral-700 border border-neutral-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-neutral-500 text-neutral-100",disabled:Y,onKeyPress:M=>M.key==="Enter"&&!Y&&v.trim()!==""&&Rt()}),E.jsxs("div",{className:"mb-2",children:[E.jsxs("label",{htmlFor:"request-files",className:"block text-xs font-medium text-neutral-400 mb-1",children:["Adjuntar archivos a esta solicitud (opcional) ",E.jsx("span",{className:"text-neutral-500",children:"(o pega con Ctrl+V)"}),":"]}),E.jsx("input",{type:"file",id:"request-files",multiple:!0,ref:Z,onChange:oa,className:"w-full text-sm text-neutral-400 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 disabled:opacity-50",disabled:Y,accept:"image/*,text/*,application/pdf,.md,.json,.csv"}),O.length>0&&E.jsx("div",{className:"mt-2 space-y-1 text-xs max-h-28 overflow-y-auto bg-neutral-700 p-1.5 rounded-md border border-neutral-600",children:O.map(M=>E.jsxs("div",{className:"flex justify-between items-center p-1 bg-neutral-800 rounded text-neutral-200 hover:bg-neutral-600 border border-neutral-600",children:[E.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[M.previewUrl?E.jsx("img",{src:M.previewUrl,alt:M.name,className:"w-6 h-6 object-cover rounded flex-shrink-0"}):E.jsx(ig,{className:"w-4 h-4 text-neutral-400 flex-shrink-0"}),E.jsxs("span",{className:`truncate text-xs ${M.name===$n?"text-purple-300 font-semibold":""}`,title:`${M.name} (${M.type}, ${(M.size/1024).toFixed(1)}KB)`,children:[M.name," ",M.name===$n&&"(para reescribir)"]})]}),E.jsx("button",{onClick:()=>aa(M.id),disabled:Y,className:"p-0.5 text-red-400 hover:text-red-500 disabled:text-neutral-500",children:E.jsx(Xo,{className:"w-3.5 h-3.5"})})]},M.id))})]}),E.jsxs("button",{onClick:Rt,disabled:Y||v.trim()==="",className:"w-full p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center justify-center gap-2 transition-colors disabled:bg-neutral-700 disabled:text-neutral-400 disabled:cursor-not-allowed",children:[E.jsx(ng,{className:"w-5 h-5"})," Añadir a Cola"]})]}),E.jsxs("div",{className:"mt-3 max-h-60 overflow-y-auto bg-neutral-800 p-3 rounded-md border border-neutral-700 space-y-2",children:[y.length===0&&E.jsx("p",{className:"text-neutral-400 text-sm italic",children:"La cola está vacía. Añade solicitudes."}),y.map((M,L)=>E.jsxs("div",{className:"p-3 bg-neutral-700 rounded-md flex items-start gap-2 border border-neutral-600 shadow-sm",children:[E.jsxs("div",{className:"flex flex-col gap-1 mr-2",children:[E.jsx("button",{onClick:()=>qs(M.id),disabled:Y||L===0||M.status===lt.Processing,className:"p-1 text-blue-400 hover:text-blue-300 disabled:text-neutral-500 disabled:cursor-not-allowed",title:"Mover arriba",children:E.jsx(cc,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>ji(M.id),disabled:Y||L===y.length-1||M.status===lt.Processing,className:"p-1 text-blue-400 hover:text-blue-300 disabled:text-neutral-500 disabled:cursor-not-allowed",title:"Mover abajo",children:E.jsx(uc,{className:"w-4 h-4"})})]}),E.jsxs("div",{className:"flex-grow min-w-0",children:[E.jsx("p",{className:"text-sm text-neutral-100 truncate",title:M.prompt,children:M.prompt}),M.requestFiles&&M.requestFiles.length>0&&E.jsxs("div",{className:"mt-1 text-xs text-neutral-400 flex items-center gap-1",children:[E.jsx(QA,{className:"w-3 h-3"})," ",M.requestFiles.length," archivo(s) adjunto(s)",M.requestFiles.some(G=>G.name===$n)&&E.jsx("span",{className:"text-purple-400",children:"(Reescritura)"})]}),E.jsx(cM,{req:M})]}),E.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[$s(M.status),E.jsx("button",{onClick:()=>Bs(M.id),disabled:Y||M.status===lt.Processing,className:"p-1 text-yellow-400 hover:text-yellow-300 disabled:text-neutral-500 disabled:cursor-not-allowed",title:"Editar solicitud",children:E.jsx(WA,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>zs(M.id),disabled:Y&&M.status===lt.Processing,className:"text-red-400 hover:text-red-300 disabled:text-neutral-500 disabled:cursor-not-allowed",title:"Eliminar solicitud",children:E.jsx(Xo,{className:"w-5 h-5"})})]})]},M.id))]})]}),E.jsxs("button",{onClick:Dn,disabled:Y||y.filter(M=>M.status===lt.Pending||M.status===lt.Error).length===0,className:"w-full mt-4 p-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-md flex items-center justify-center gap-2 text-lg transition-colors disabled:bg-neutral-700 disabled:text-neutral-400 disabled:cursor-not-allowed",children:[Y?E.jsx(rc,{className:"w-6 h-6"}):E.jsx(ZA,{className:"w-6 h-6"}),Y?`Procesando... (${pe.toFixed(0)}%)`:"Generar Preguntas"]}),Y&&E.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2.5 mt-2",children:E.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${pe}%`}})}),E.jsxs("div",{className:"mt-4 p-0 bg-neutral-900 rounded-xl",children:[E.jsxs("h2",{className:"text-2xl font-semibold text-neutral-100 mb-3 flex items-center gap-2 p-2 bg-neutral-800 rounded-t-md border-b border-neutral-700",children:[E.jsx(eM,{className:"w-6 h-6 text-blue-400"}),"3. Procesamiento de Gemini"]}),E.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded-b-md text-xs min-h-[40px]",children:[" ",Y&&He&&E.jsx("p",{className:"italic text-neutral-300",children:"Gemini está procesando... El stream detallado de la respuesta se muestra en la sección 'Streamming Retornado' más abajo si está activa."}),Y&&!He&&E.jsx("p",{className:"italic text-neutral-400",children:"Esperando la primera respuesta de Gemini..."}),!Y&&E.jsx("p",{className:"italic text-neutral-400",children:"Procesamiento de cola inactivo."})]})]}),Ve&&E.jsx("div",{className:"p-2 my-2 bg-blue-900 border border-blue-700 text-blue-300 rounded-md text-sm text-center transition-opacity duration-500 ease-in-out opacity-100 animate-pulse",dangerouslySetInnerHTML:{__html:Ve},"aria-live":"assertive"}),E.jsx("div",{className:"mt-4",children:E.jsxs("button",{onClick:()=>de(M=>!M),className:"w-full p-2 bg-neutral-700 hover:bg-neutral-600 text-neutral-200 rounded-md flex items-center justify-center gap-2 text-sm transition-colors",children:[E.jsx(lg,{className:"w-5 h-5"}),K?"Ocultar Streamming Retornado":"Mostrar Streamming Retornado",K?E.jsx(cc,{className:"w-4 h-4"}):E.jsx(uc,{className:"w-4 h-4"})]})}),K&&E.jsxs("div",{ref:Q,className:"mt-2 p-3 bg-neutral-900 border border-neutral-700 rounded-md max-h-96 overflow-y-auto text-xs shadow text-neutral-300 whitespace-pre-wrap","aria-live":"polite","aria-atomic":"true",children:[E.jsx("h3",{className:"text-base font-semibold text-neutral-100 mb-2 sticky top-0 bg-neutral-900 py-1 z-10 border-b border-neutral-700",children:"Stream de Gemini"}),Y&&!He&&E.jsx("p",{className:"italic text-neutral-400",children:"Esperando respuesta de Gemini..."}),He||!Y&&E.jsx("p",{className:"italic text-neutral-500",children:"El procesamiento ha finalizado o no está activo. Este es el último stream recibido."})]}),E.jsx("div",{className:"mt-4",children:E.jsxs("button",{onClick:()=>Me(M=>!M),className:"w-full p-2 bg-neutral-700 hover:bg-neutral-600 text-neutral-200 rounded-md flex items-center justify-center gap-2 text-sm transition-colors",children:[E.jsx(lg,{className:"w-5 h-5"}),Le?"Ocultar Log de Actividad":"Mostrar Log de Actividad",Le?E.jsx(cc,{className:"w-4 h-4"}):E.jsx(uc,{className:"w-4 h-4"})]})}),Le&&E.jsxs("div",{className:"mt-2 p-3 bg-neutral-900 border border-neutral-700 rounded-md max-h-96 overflow-y-auto text-xs shadow",ref:Ze,children:[E.jsx("h3",{className:"text-lg font-semibold text-neutral-100 mb-2 sticky top-0 bg-neutral-900 py-1 z-10 border-b border-neutral-700",children:"Log de Actividad"}),fe.length===0&&E.jsx("p",{className:"text-neutral-400 italic",children:"No hay entradas en el log todavía."}),E.jsx("ul",{children:fe.map(M=>E.jsxs("li",{className:`py-1 border-b border-neutral-800 last:border-b-0 ${fa(M.type)}`,children:[E.jsx("span",{className:"font-semibold",children:M.timestamp.toLocaleTimeString(void 0,e0)})," [",M.type.toUpperCase(),"]: ",M.message,M.details&&(typeof M.details=="string"||typeof M.details=="number")&&E.jsxs("span",{className:"block pl-4 text-neutral-400 text-opacity-80",children:[">",String(M.details).substring(0,300),String(M.details).length>300?"...":""]}),M.details&&typeof M.details=="object"&&E.jsxs("details",{className:"pl-4 mt-1 text-neutral-400 text-opacity-80",children:[E.jsx("summary",{className:"cursor-pointer text-xs hover:text-neutral-300",children:"Ver detalles..."}),E.jsxs("pre",{className:"mt-1 p-2 bg-neutral-800 rounded text-xs overflow-x-auto whitespace-pre-wrap break-all border border-neutral-700",children:[JSON.stringify(M.details,null,2).substring(0,1e3),JSON.stringify(M.details,null,2).length>1e3?`
... (truncado)`:""]})]})]},M.id))})]})]}),E.jsx("section",{className:"lg:col-span-3 flex flex-col gap-6",children:E.jsxs("div",{className:"p-6 bg-neutral-900 rounded-xl shadow-lg flex-grow flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsxs("h2",{className:"text-2xl font-semibold text-neutral-100",children:["4. Preguntas Generadas (",J.length,")"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"file",ref:g,onChange:Ri,accept:".csv",className:"hidden",id:"csv-file-picker"}),E.jsxs("button",{onClick:Ql,disabled:Y,className:"p-3 bg-teal-600 hover:bg-teal-700 text-white rounded-md flex items-center gap-2 transition-colors disabled:bg-neutral-700 disabled:text-neutral-400 disabled:cursor-not-allowed",title:"Cargar preguntas desde un archivo CSV",children:[E.jsx(jA,{className:"w-5 h-5"})," Cargar CSV"]}),E.jsxs("button",{onClick:ra,disabled:Y,className:"p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md flex items-center gap-2 transition-colors disabled:bg-neutral-700 disabled:text-neutral-400 disabled:cursor-not-allowed",title:"Añadir una pregunta manualmente a la tabla",children:[E.jsx(ng,{className:"w-5 h-5"})," Añadir Pregunta"]}),E.jsxs("button",{onClick:el,disabled:Y||J.length===0||ca,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 transition-colors disabled:bg-neutral-700 disabled:text-neutral-400 disabled:cursor-not-allowed",title:ca?"No se puede guardar: existen preguntas con tipo 'Desconocido'. Por favor, corrígelas.":"Guardar preguntas en formato CSV",children:[E.jsx($A,{className:"w-5 h-5"})," Guardar CSV"]})]})]}),E.jsx("div",{className:`mb-3 py-2 px-3 bg-neutral-800 border border-neutral-700 rounded-lg flex items-center h-[52px] transition-all duration-150 ${xt.size>0?"justify-between":"justify-center"}`,children:xt.size>0?E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"text-sm text-neutral-300",children:[xt.size," pregunta(s) seleccionada(s)"]}),E.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[" ",E.jsxs("button",{onClick:Ys,disabled:Y,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded-md flex items-center gap-1.5 transition-colors disabled:bg-neutral-600 disabled:text-neutral-400",title:"Eliminar preguntas seleccionadas",children:[E.jsx(Xo,{className:"w-4 h-4"})," Eliminar"]}),E.jsxs("button",{onClick:yn,disabled:Y,className:"px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded-md flex items-center gap-1.5 transition-colors disabled:bg-neutral-600 disabled:text-neutral-400",title:"Adjuntar preguntas seleccionadas para reescritura. Defina la instrucción en 'Nueva Solicitud'.",children:[E.jsx(rM,{className:"w-4 h-4"})," Reescribir"]}),E.jsx("button",{disabled:!0,className:"px-3 py-1.5 bg-neutral-600 text-neutral-400 text-xs rounded-md flex items-center gap-1.5 cursor-not-allowed",title:"Convertir tipo de pregunta (Próximamente)",children:"Convertir"})]})]}):xi?E.jsx("input",{ref:Qi,type:"text",defaultValue:Wt,onBlur:M=>yt(M.target.value),onKeyDown:bt,className:"w-full max-w-xl py-1 px-2 bg-transparent border border-transparent hover:border-neutral-600 focus:border-blue-500 rounded-md text-lg font-semibold text-neutral-100 focus:ring-0 text-center outline-none",placeholder:"Escribe un título para la colección..."}):Xi?E.jsxs("p",{className:"text-lg text-neutral-400 italic flex items-center gap-2",children:[E.jsx(rc,{className:"w-5 h-5"})," Generando título..."]}):E.jsx("div",{onClick:()=>{Y||Ki(!0)},className:"cursor-pointer p-1 group w-full",title:"Click para editar el título de la colección",children:E.jsx("h3",{className:`text-lg font-semibold text-center group-hover:text-blue-300 transition-colors ${!Wt||Wt.trim()===""?"text-neutral-500 italic":"text-neutral-100"}`,children:Wt&&Wt.trim()!==""?Wt:"Título..."})})}),E.jsx("div",{className:"overflow-auto flex-grow border border-neutral-700 rounded-md bg-neutral-900 min-h-[200px]",children:J.length===0?E.jsxs("div",{className:"p-10 text-center text-neutral-400",children:[E.jsx("p",{className:"italic",children:"Aún no se han generado preguntas."}),E.jsx("p",{children:'Completa el contexto, añade solicitudes y haz clic en "Procesar Cola", o añade una pregunta manualmente.'})]}):E.jsxs("table",{className:"min-w-full text-sm text-left text-neutral-100 table-fixed",children:[E.jsx("thead",{className:"text-xs text-blue-300 uppercase bg-neutral-800 sticky top-0 z-10 border-b-2 border-neutral-700",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-2 py-3 w-[4%] min-w-[50px] text-center",children:E.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-500 bg-neutral-700 border-neutral-600 rounded focus:ring-blue-500 focus:ring-offset-0 focus:ring-offset-transparent",checked:jl,onChange:ua,"aria-label":"Seleccionar todas las preguntas",disabled:Y})}),E.jsx("th",{scope:"col",className:"px-3 py-3 w-[5%] min-w-[70px] break-words",children:"Tipo"}),En.map(M=>{let L="px-3 py-3 break-words ";switch(M){case"Pregunta":L+="w-[20%] min-w-[200px]";break;case"Explicación":L+="w-[20%] min-w-[200px]";break;case"Tipo":case"Opción correcta 1":case"Opción Correcta 2":case"Opción Correcta 3":case"Opción Incorrecta 1":case"Opción Incorrecta 2":case"Opción Incorrecta 3":L+="w-[7%] min-w-[110px]";break;default:L+="w-auto min-w-[100px]"}return E.jsx("th",{scope:"col",className:L,children:M},M)}),E.jsx("th",{scope:"col",className:"px-3 py-3 w-[6%] min-w-[80px]",children:"Acciones"})]})}),E.jsx("tbody",{children:J.map(M=>{const L=Es(M),G=me===M.id,V=Kn(M.id);return E.jsxs("tr",{id:M.id,className:`${V?"bg-neutral-700":"bg-neutral-900"} border-b border-neutral-800 hover:bg-neutral-800 transition-colors group ${L.type===Ht.Unknown?"outline outline-2 outline-red-500":""}`,children:[E.jsx("td",{className:"px-2 py-1 align-top text-center",onClick:re=>{re.stopPropagation(),Wl(M.id,re.nativeEvent.shiftKey)},children:E.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-500 bg-neutral-700 border-neutral-600 rounded focus:ring-blue-500 focus:ring-offset-0 focus:ring-offset-transparent cursor-pointer",checked:V,readOnly:!0,"aria-label":`Seleccionar pregunta: ${M.Pregunta.substring(0,50)}`,disabled:Y})}),E.jsx("td",{className:"px-2 py-1 align-top cursor-pointer",title:L.description,onClick:()=>tl(M.id),children:E.jsxs("div",{className:"flex items-center gap-1.5",children:[L.icon,E.jsx("span",{className:`text-xs font-medium ${L.colorClass}`,children:L.label})]})}),En.map(re=>{const le=xp[re],Ne="text-neutral-200 min-h-[3em]",Te=G?"whitespace-pre-wrap break-words":"truncate-3-lines";return E.jsx("td",{className:"px-2 py-1 align-top cursor-pointer",onClick:()=>tl(M.id),children:E.jsx("div",{onClick:ot=>ot.stopPropagation(),children:E.jsx(YA,{value:M[le],onSave:ot=>Fs(M.id,le,ot),multiline:le==="Pregunta"||le==="Explicación",className:`${Ne} ${Te}`,placeholder:re,isInitiallyEditing:M.Pregunta===""&&le==="Pregunta"})})},`${M.id}-${re}`)}),E.jsx("td",{className:"px-2 py-1 align-top text-center",children:E.jsx("div",{onClick:re=>re.stopPropagation(),children:E.jsx("button",{onClick:()=>sa(M.id),disabled:Y,className:"p-1.5 text-red-400 hover:text-red-300 disabled:text-neutral-500 disabled:cursor-not-allowed",title:"Eliminar esta pregunta",children:E.jsx(Xo,{className:"w-5 h-5"})})})})]},M.id)})})]})})]})})]}),E.jsxs("footer",{className:"w-full mt-12 text-center text-sm text-neutral-400",children:[E.jsxs("p",{children:["Desarrollado con React, TypeScript, Tailwind CSS y Gemini API (",ea,")."]}),E.jsxs("p",{children:[Rn?"Usando clave API proporcionada por el usuario.":"Usando clave API del entorno.","Puedes cambiar esto en ",E.jsx("button",{onClick:la,className:"underline hover:text-blue-300",children:"Configuración"}),"."]})]})]})},Og=document.getElementById("root");if(!Og)throw new Error("Could not find root element to mount to");const dM=Wv.createRoot(Og);dM.render(E.jsx(Fv.StrictMode,{children:E.jsx(fM,{})}));
